"use strict";(self.webpackChunkjaymark=self.webpackChunkjaymark||[]).push([[179],{2032:(Jt,Je,z)=>{z.d(Je,{nm:()=>Vs});var w=z(710);z(4650),z(8140);var mt=z(5861),tt=z(9681),ze=z(4859),Ot=z(2090),Dt=z(1877);const we=new Map,ct={activated:!1,tokenObservers:[]},dt={initialized:!1,enabled:!1};function Tt(Ve){return we.get(Ve)||Object.assign({},ct)}function Pt(){return dt}class Ge{constructor(Ae,Ke,bt,kt,tn){if(this.operation=Ae,this.retryPolicy=Ke,this.getWaitDuration=bt,this.lowerBound=kt,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=kt,kt>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ae){var Ke=this;return(0,mt.Z)(function*(){Ke.stop();try{Ke.pending=new Ot.BH,yield function qe(Ve){return new Promise(Ae=>{setTimeout(Ae,Ve)})}(Ke.getNextRun(Ae)),Ke.pending.resolve(),yield Ke.pending.promise,Ke.pending=new Ot.BH,yield Ke.operation(),Ke.pending.resolve(),yield Ke.pending.promise,Ke.process(!0).catch(()=>{})}catch(bt){Ke.retryPolicy(bt)?Ke.process(!1).catch(()=>{}):Ke.stop()}})()}getNextRun(Ae){if(Ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ke}}}const st=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function At(Ve){if(!Tt(Ve).activated)throw st.create("use-before-activation",{appName:Ve.name})}function pn(Ve,Ae){return zt.apply(this,arguments)}function zt(){return(zt=(0,mt.Z)(function*({url:Ve,body:Ae},Ke){const bt={"Content-Type":"application/json"},kt=Ke.getImmediate({optional:!0});if(kt){const ys=yield kt.getHeartbeatsHeader();ys&&(bt["X-Firebase-Client"]=ys)}const tn={method:"POST",body:JSON.stringify(Ae),headers:bt};let br,Ar;try{br=yield fetch(Ve,tn)}catch(ys){throw st.create("fetch-network-error",{originalErrorMessage:ys?.message})}if(200!==br.status)throw st.create("fetch-status-error",{httpStatus:br.status});try{Ar=yield br.json()}catch(ys){throw st.create("fetch-parse-error",{originalErrorMessage:ys?.message})}const Nr=Ar.ttl.match(/^([\d.]+)(s)$/);if(!Nr||!Nr[2]||isNaN(Number(Nr[1])))throw st.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ar.ttl}`});const Ji=1e3*Number(Nr[1]),go=Date.now();return{token:Ar.token,expireTimeMillis:go+Ji,issuedAtTimeMillis:go}})).apply(this,arguments)}function zn(Ve,Ae){const{projectId:Ke,appId:bt,apiKey:kt}=Ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ke}/apps/${bt}:exchangeDebugToken?key=${kt}`,body:{debug_token:Ae}}}const lr="firebase-app-check-store";let kn=null;function nr(){return kn||(kn=new Promise((Ve,Ae)=>{try{const Ke=indexedDB.open("firebase-app-check-database",1);Ke.onsuccess=bt=>{Ve(bt.target.result)},Ke.onerror=bt=>{var kt;Ae(st.create("storage-open",{originalErrorMessage:null===(kt=bt.target.error)||void 0===kt?void 0:kt.message}))},Ke.onupgradeneeded=bt=>{0===bt.oldVersion&&bt.target.result.createObjectStore(lr,{keyPath:"compositeKey"})}}catch(Ke){Ae(st.create("storage-open",{originalErrorMessage:Ke?.message}))}}),kn)}function Fn(){return(Fn=(0,mt.Z)(function*(Ve,Ae){const bt=(yield nr()).transaction(lr,"readwrite"),tn=bt.objectStore(lr).put({compositeKey:Ve,value:Ae});return new Promise((br,Ar)=>{tn.onsuccess=Nr=>{br()},bt.onerror=Nr=>{var Ji;Ar(st.create("storage-set",{originalErrorMessage:null===(Ji=Nr.target.error)||void 0===Ji?void 0:Ji.message}))}})})).apply(this,arguments)}const Tn=new Dt.Yd("@firebase/app-check");function bn(Ve,Ae){return(0,Ot.hl)()?function ls(Ve,Ae){return function vr(Ve,Ae){return Fn.apply(this,arguments)}(function cn(Ve){return`${Ve.options.appId}-${Ve.name}`}(Ve),Ae)}(Ve,Ae).catch(Ke=>{Tn.warn(`Failed to write token to IndexedDB. Error: ${Ke}`)}):Promise.resolve()}function Li(){return Pt().enabled}function or(){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,mt.Z)(function*(){const Ve=Pt();if(Ve.enabled&&Ve.token)return Ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ut={error:"UNKNOWN_ERROR"};function Ie(Ve){return Ot.US.encodeString(JSON.stringify(Ve),!1)}function ht(Ve){return jt.apply(this,arguments)}function jt(){return(jt=(0,mt.Z)(function*(Ve,Ae=!1){const Ke=Ve.app;At(Ke);const bt=Tt(Ke);let tn,kt=bt.token;if(kt&&!$e(kt)&&(bt.token=void 0,kt=void 0),!kt){const Nr=yield bt.cachedTokenPromise;Nr&&($e(Nr)?kt=Nr:yield bn(Ke,void 0))}if(!Ae&&kt&&$e(kt))return{token:kt.token};let Ar,br=!1;if(Li()){bt.exchangeTokenPromise||(bt.exchangeTokenPromise=pn(zn(Ke,yield or()),Ve.heartbeatServiceProvider).finally(()=>{bt.exchangeTokenPromise=void 0}),br=!0);const Nr=yield bt.exchangeTokenPromise;return yield bn(Ke,Nr),bt.token=Nr,{token:Nr.token}}try{bt.exchangeTokenPromise||(bt.exchangeTokenPromise=bt.provider.getToken().finally(()=>{bt.exchangeTokenPromise=void 0}),br=!0),kt=yield Tt(Ke).exchangeTokenPromise}catch(Nr){"appCheck/throttled"===Nr.code?Tn.warn(Nr.message):Tn.error(Nr),tn=Nr}return kt?tn?Ar=$e(kt)?{token:kt.token,internalError:tn}:Ht(tn):(Ar={token:kt.token},bt.token=kt,yield bn(Ke,kt)):Ar=Ht(tn),br&&nt(Ke,Ar),Ar})).apply(this,arguments)}function en(){return(en=(0,mt.Z)(function*(Ve){const Ae=Ve.app;At(Ae);const{provider:Ke}=Tt(Ae);if(Li()){const bt=yield or(),{token:kt}=yield pn(zn(Ae,bt),Ve.heartbeatServiceProvider);return{token:kt}}{const{token:bt}=yield Ke.getToken();return{token:bt}}})).apply(this,arguments)}function ye(Ve,Ae){const Ke=Tt(Ve),bt=Ke.tokenObservers.filter(kt=>kt.next!==Ae);0===bt.length&&Ke.tokenRefresher&&Ke.tokenRefresher.isRunning()&&Ke.tokenRefresher.stop(),Ke.tokenObservers=bt}function _e(Ve){const{app:Ae}=Ve,Ke=Tt(Ae);let bt=Ke.tokenRefresher;bt||(bt=function Le(Ve){const{app:Ae}=Ve;return new Ge((0,mt.Z)(function*(){let bt;if(bt=Tt(Ae).token?yield ht(Ve,!0):yield ht(Ve),bt.error)throw bt.error;if(bt.internalError)throw bt.internalError}),()=>!0,()=>{const Ke=Tt(Ae);if(Ke.token){let bt=Ke.token.issuedAtTimeMillis+.5*(Ke.token.expireTimeMillis-Ke.token.issuedAtTimeMillis)+3e5;return bt=Math.min(bt,Ke.token.expireTimeMillis-3e5),Math.max(0,bt-Date.now())}return 0},3e4,96e4)}(Ve),Ke.tokenRefresher=bt),!bt.isRunning()&&Ke.isTokenAutoRefreshEnabled&&bt.start()}function nt(Ve,Ae){const Ke=Tt(Ve).tokenObservers;for(const bt of Ke)try{"EXTERNAL"===bt.type&&null!=Ae.error?bt.error(Ae.error):bt.next(Ae)}catch{}}function $e(Ve){return Ve.expireTimeMillis-Date.now()>0}function Ht(Ve){return{token:Ie(ut),error:Ve}}class gn{constructor(Ae,Ke){this.app=Ae,this.heartbeatServiceProvider=Ke}_delete(){const{tokenObservers:Ae}=Tt(this.app);for(const Ke of Ae)ye(this.app,Ke.next);return Promise.resolve()}}const cs="app-check-internal";!function io(){(0,tt._registerComponent)(new ze.wA("app-check",Ve=>function Bn(Ve,Ae){return new gn(Ve,Ae)}(Ve.getProvider("app").getImmediate(),Ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ve,Ae,Ke)=>{Ve.getProvider(cs).initialize()})),(0,tt._registerComponent)(new ze.wA(cs,Ve=>function tr(Ve){return{getToken:Ae=>ht(Ve,Ae),getLimitedUseToken:()=>function Xt(Ve){return en.apply(this,arguments)}(Ve),addTokenListener:Ae=>function rr(Ve,Ae,Ke,bt){const{app:kt}=Ve,tn=Tt(kt);if(tn.tokenObservers=[...tn.tokenObservers,{next:Ke,error:bt,type:Ae}],tn.token&&$e(tn.token)){const Ar=tn.token;Promise.resolve().then(()=>{Ke({token:Ar.token}),_e(Ve)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>_e(Ve))}(Ve,"INTERNAL",Ae),removeTokenListener:Ae=>ye(Ve.app,Ae)}}(Ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)("@firebase/app-check","0.8.0")}();class Vs{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},1205:(Jt,Je,z)=>{z.d(Je,{zQ:()=>Yn,ww:()=>fi,rT:()=>dt,f7:()=>rn,L6:()=>we,_Q:()=>ct,lh:()=>Tt,Qv:()=>Dt,nw:()=>Pt});var w=z(4650),D=z(7579),X=z(9646),Ee=z(9751),Ne=z(8996),Pe=z(6451),Re=z(5363),Fe=z(3900),We=z(4004),me=z(6063);class pe extends D.x{constructor(Hn=1/0,Te=1/0,Me=me.l){super(),this._bufferSize=Hn,this._windowTime=Te,this._timestampProvider=Me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Te===1/0,this._bufferSize=Math.max(1,Hn),this._windowTime=Math.max(1,Te)}next(Hn){const{isStopped:Te,_buffer:Me,_infiniteTimeWindow:Ge,_timestampProvider:qe,_windowTime:Et}=this;Te||(Me.push(Hn),!Ge&&Me.push(qe.now()+Et)),this._trimBuffer(),super.next(Hn)}_subscribe(Hn){this._throwIfClosed(),this._trimBuffer();const Te=this._innerSubscribe(Hn),{_infiniteTimeWindow:Me,_buffer:Ge}=this,qe=Ge.slice();for(let Et=0;Et<qe.length&&!Hn.closed;Et+=Me?1:2)Hn.next(qe[Et]);return this._checkFinalizedStatuses(Hn),Te}_trimBuffer(){const{_bufferSize:Hn,_timestampProvider:Te,_buffer:Me,_infiniteTimeWindow:Ge}=this,qe=(Ge?1:2)*Hn;if(Hn<1/0&&qe<Me.length&&Me.splice(0,Me.length-qe),!Ge){const Et=Te.now();let st=0;for(let Ut=1;Ut<Me.length&&Me[Ut]<=Et;Ut+=2)st=Ut;st&&Me.splice(0,st+1)}}}var Se=z(3099);function It(un,Hn,Te){let Me,Ge=!1;return un&&"object"==typeof un?({bufferSize:Me=1/0,windowTime:Hn=1/0,refCount:Ge=!1,scheduler:Te}=un):Me=un??1/0,(0,Se.B)({connector:()=>new pe(Me,Hn,Te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ge})}var ot=z(590),Ye=z(576);function Lt(un,Hn){return(0,Ye.m)(Hn)?(0,Fe.w)(()=>un,Hn):(0,Fe.w)(()=>un)}var lt=z(9468),Xe=z(9300),Be=z(710),Vt=z(2011),mt=z(6895),tt=z(2032),ze=z(1274);const Dt=new w.OlP("angularfire2.auth.use-emulator"),we=new w.OlP("angularfire2.auth.settings"),ct=new w.OlP("angularfire2.auth.tenant-id"),dt=new w.OlP("angularfire2.auth.langugage-code"),Tt=new w.OlP("angularfire2.auth.use-device-language"),rn=new w.OlP("angularfire.auth.persistence"),Pt=(un,Hn,Te,Me,Ge,qe,Et,st)=>(0,Vt.cc)(`${un.name}.auth`,"AngularFireAuth",un.name,()=>{const Ut=Hn.runOutsideAngular(()=>un.auth());if(Te&&Ut.useEmulator(...Te),Me&&(Ut.tenantId=Me),Ut.languageCode=Ge,qe&&Ut.useDeviceLanguage(),Et)for(const[At,Zt]of Object.entries(Et))Ut.settings[At]=Zt;return st&&Ut.setPersistence(st),Ut},[Te,Me,Ge,qe,Et,st]);let Yn=(()=>{class un{constructor(Te,Me,Ge,qe,Et,st,Ut,At,Zt,_n,pn,zt){const Dn=new D.x,Wn=(0,X.of)(void 0).pipe((0,Re.Q)(Et.outsideAngular),(0,Fe.w)(()=>qe.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,1146)))),(0,We.U)(()=>(0,Vt.on)(Te,qe,Me)),(0,We.U)(zn=>Pt(zn,qe,st,At,Zt,_n,Ut,pn)),It({bufferSize:1,refCount:!1}));if((0,mt.PM)(Ge))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{Wn.pipe((0,ot.P)()).subscribe();const hr=Wn.pipe((0,Fe.w)(wt=>wt.getRedirectResult().then(kn=>kn,()=>null)),Be.iC,It({bufferSize:1,refCount:!1})),vt=Wn.pipe((0,Fe.w)(wt=>new Ee.y(kn=>({unsubscribe:qe.runOutsideAngular(()=>wt.onAuthStateChanged(nr=>kn.next(nr),nr=>kn.error(nr),()=>kn.complete()))})))),lr=Wn.pipe((0,Fe.w)(wt=>new Ee.y(kn=>({unsubscribe:qe.runOutsideAngular(()=>wt.onIdTokenChanged(nr=>kn.next(nr),nr=>kn.error(nr),()=>kn.complete()))}))));this.authState=hr.pipe(Lt(vt),(0,lt.R)(Et.outsideAngular),(0,Re.Q)(Et.insideAngular)),this.user=hr.pipe(Lt(lr),(0,lt.R)(Et.outsideAngular),(0,Re.Q)(Et.insideAngular)),this.idToken=this.user.pipe((0,Fe.w)(wt=>wt?(0,Ne.D)(wt.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.w)(wt=>wt?(0,Ne.D)(wt.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,Pe.T)(hr,Dn,this.authState.pipe((0,Xe.h)(wt=>!wt))).pipe((0,We.U)(wt=>wt?.user?wt:null),(0,lt.R)(Et.outsideAngular),(0,Re.Q)(Et.insideAngular))}return(0,Vt.pX)(this,Wn,qe,{spy:{apply:(zn,hr,vt)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&vt.then(lr=>Dn.next(lr))}}})}}return un.\u0275fac=function(Te){return new(Te||un)(w.LFG(Vt.Dh),w.LFG(Vt.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(Be.HU),w.LFG(Dt,8),w.LFG(we,8),w.LFG(ct,8),w.LFG(dt,8),w.LFG(Tt,8),w.LFG(rn,8),w.LFG(tt.nm,8))},un.\u0275prov=w.Yz7({token:un,factory:un.\u0275fac,providedIn:"any"}),un})(),fi=(()=>{class un{constructor(){ze.Z.registerVersion("angularfire",Be.q4.full,"auth-compat")}}return un.\u0275fac=function(Te){return new(Te||un)},un.\u0275mod=w.oAB({type:un}),un.\u0275inj=w.cJS({providers:[Yn]}),un})()},1654:(Jt,Je,z)=>{z.d(Je,{ST:()=>Iv,yb:()=>Tv});var w=z(4650),D=z(4986),X=z(9751),Ee=z(8996),Ne=z(9646),Pe=z(710),Re=z(8675),Fe=z(4482),We=z(5403);function me(){return(0,Fe.e)((o,e)=>{let t,l=!1;o.subscribe((0,We.x)(e,d=>{const g=t;t=d,l&&e.next([g,d]),l=!0}))})}var we,pe=z(4004),Se=z(5026),It=z(1884),ot=z(9300),Ye=z(2011),Lt=z(6895),Be=(z(1146),z(6101),z(5861)),tt=(z(9752),z(4859),z(1877)),ze=z(2090),Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={},ct=ct||{},dt=Ot||self;function Tt(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function rn(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Yn="closure_uid_"+(1e9*Math.random()>>>0),fi=0;function un(o,e,t){return o.call.apply(o.bind,arguments)}function Hn(o,e,t){if(!o)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,l),o.apply(e,d)}}return function(){return o.apply(e,arguments)}}function Te(o,e,t){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?un:Hn).apply(null,arguments)}function Me(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),o.apply(this,l)}}function Ge(o,e){function t(){}t.prototype=e.prototype,o.$=e.prototype,o.prototype=new t,o.prototype.constructor=o,o.ac=function(l,d,g){for(var b=Array(arguments.length-2),R=2;R<arguments.length;R++)b[R-2]=arguments[R];return e.prototype[d].apply(l,b)}}function qe(){this.s=this.s,this.o=this.o}qe.prototype.s=!1,qe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Pt(o){Object.prototype.hasOwnProperty.call(o,Yn)&&o[Yn]||(o[Yn]=++fi)}(this)},qe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const st=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let t=0;t<o.length;t++)if(t in o&&o[t]===e)return t;return-1};function Ut(o){const e=o.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=o[l];return t}return[]}function At(o,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(Tt(l)){const d=o.length||0,g=l.length||0;o.length=d+g;for(let b=0;b<g;b++)o[d+b]=l[b]}else o.push(l)}}function Zt(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var _n=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{dt.addEventListener("test",()=>{},e),dt.removeEventListener("test",()=>{},e)}catch{}return o}();function pn(o){return/^[\s\xa0]*$/.test(o)}function zt(){var o=dt.navigator;return o&&(o=o.userAgent)?o:""}function Dn(o){return-1!=zt().indexOf(o)}function Wn(o){return Wn[" "](o),o}Wn[" "]=function(){};var ls,o,hr=Dn("Opera"),vt=Dn("Trident")||Dn("MSIE"),lr=Dn("Edge"),wt=lr||vt,kn=Dn("Gecko")&&!(-1!=zt().toLowerCase().indexOf("webkit")&&!Dn("Edge"))&&!(Dn("Trident")||Dn("MSIE"))&&!Dn("Edge"),nr=-1!=zt().toLowerCase().indexOf("webkit")&&!Dn("Edge");function Br(){var o=dt.document;return o?o.documentMode:void 0}e:{var Ss="",fr=(o=zt(),kn?/rv:([^\);]+)(\)|;)/.exec(o):lr?/Edge\/([\d\.]+)/.exec(o):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):nr?/WebKit\/(\S+)/.exec(o):hr?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(fr&&(Ss=fr?fr[1]:""),vt){var vr=Br();if(null!=vr&&vr>parseFloat(Ss)){ls=String(vr);break e}}ls=Ss}var hn=dt.document&&vt&&(Br()||parseInt(ls,10))||void 0;function cn(o,e){if(Zt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var t=this.type=o.type,l=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(kn){e:{try{Wn(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=o.fromElement:"mouseout"==t&&(e=o.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:Tn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&cn.$.h.call(this)}}Ge(cn,Zt);var Tn={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),on=0;function bn(o,e,t,l,d){this.listener=o,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=d,this.key=++on,this.fa=this.ia=!1}function xr(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function On(o,e,t){for(const l in o)e.call(t,o[l],l,o)}function or(o){const e={};for(const t in o)e[t]=o[t];return e}const Ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ri(o,e){let t,l;for(let d=1;d<arguments.length;d++){for(t in l=arguments[d],l)o[t]=l[t];for(let g=0;g<Ir.length;g++)t=Ir[g],Object.prototype.hasOwnProperty.call(l,t)&&(o[t]=l[t])}}function ut(o){this.src=o,this.g={},this.h=0}function Ie(o,e){var t=e.type;if(t in o.g){var g,l=o.g[t],d=st(l,e);(g=0<=d)&&Array.prototype.splice.call(l,d,1),g&&(xr(e),0==o.g[t].length&&(delete o.g[t],o.h--))}}function ht(o,e,t,l){for(var d=0;d<o.length;++d){var g=o[d];if(!g.fa&&g.listener==e&&g.capture==!!t&&g.la==l)return d}return-1}ut.prototype.add=function(o,e,t,l,d){var g=o.toString();(o=this.g[g])||(o=this.g[g]=[],this.h++);var b=ht(o,e,l,d);return-1<b?(e=o[b],t||(e.ia=!1)):((e=new bn(e,this.src,g,!!l,d)).ia=t,o.push(e)),e};var jt="closure_lm_"+(1e6*Math.random()|0),Xt={};function en(o,e,t,l,d){if(l&&l.once)return _e(o,e,t,l,d);if(Array.isArray(e)){for(var g=0;g<e.length;g++)en(o,e[g],t,l,d);return null}return t=tr(t),o&&o[Vn]?o.O(e,t,rn(l)?!!l.capture:!!l,d):rr(o,e,t,!1,l,d)}function rr(o,e,t,l,d,g){if(!e)throw Error("Invalid event type");var b=rn(d)?!!d.capture:!!d,R=gn(o);if(R||(o[jt]=R=new ut(o)),(t=R.add(e,t,l,b,g)).proxy)return t;if(l=function ye(){const e=Ht;return function o(t){return e.call(o.src,o.listener,t)}}(),t.proxy=l,l.src=o,l.listener=t,o.addEventListener)_n||(d=b),void 0===d&&(d=!1),o.addEventListener(e.toString(),l,d);else if(o.attachEvent)o.attachEvent($e(e.toString()),l);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(l)}return t}function _e(o,e,t,l,d){if(Array.isArray(e)){for(var g=0;g<e.length;g++)_e(o,e[g],t,l,d);return null}return t=tr(t),o&&o[Vn]?o.P(e,t,rn(l)?!!l.capture:!!l,d):rr(o,e,t,!0,l,d)}function Le(o,e,t,l,d){if(Array.isArray(e))for(var g=0;g<e.length;g++)Le(o,e[g],t,l,d);else l=rn(l)?!!l.capture:!!l,t=tr(t),o&&o[Vn]?(o=o.i,(e=String(e).toString())in o.g&&-1<(t=ht(g=o.g[e],t,l,d))&&(xr(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete o.g[e],o.h--))):o&&(o=gn(o))&&(e=o.g[e.toString()],o=-1,e&&(o=ht(e,t,l,d)),(t=-1<o?e[o]:null)&&nt(t))}function nt(o){if("number"!=typeof o&&o&&!o.fa){var e=o.src;if(e&&e[Vn])Ie(e.i,o);else{var t=o.type,l=o.proxy;e.removeEventListener?e.removeEventListener(t,l,o.capture):e.detachEvent?e.detachEvent($e(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=gn(e))?(Ie(t,o),0==t.h&&(t.src=null,e[jt]=null)):xr(o)}}}function $e(o){return o in Xt?Xt[o]:Xt[o]="on"+o}function Ht(o,e){if(o.fa)o=!0;else{e=new cn(e,this);var t=o.listener,l=o.la||o.src;o.ia&&nt(o),o=t.call(l,e)}return o}function gn(o){return(o=o[jt])instanceof ut?o:null}var Bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(o){return"function"==typeof o?o:(o[Bn]||(o[Bn]=function(e){return o.handleEvent(e)}),o[Bn])}function fe(){qe.call(this),this.i=new ut(this),this.S=this,this.J=null}function de(o,e){var t,l=o.J;if(l)for(t=[];l;l=l.J)t.push(l);if(o=o.S,l=e.type||e,"string"==typeof e)e=new Zt(e,o);else if(e instanceof Zt)e.target=e.target||o;else{var d=e;ri(e=new Zt(l,o),d)}if(d=!0,t)for(var g=t.length-1;0<=g;g--){var b=e.g=t[g];d=se(b,l,!0,e)&&d}if(d=se(b=e.g=o,l,!0,e)&&d,d=se(b,l,!1,e)&&d,t)for(g=0;g<t.length;g++)d=se(b=e.g=t[g],l,!1,e)&&d}function se(o,e,t,l){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,g=0;g<e.length;++g){var b=e[g];if(b&&!b.fa&&b.capture==t){var R=b.listener,H=b.la||b.src;b.ia&&Ie(o.i,b),d=!1!==R.call(H,l)&&d}}return d&&!l.defaultPrevented}Ge(fe,qe),fe.prototype[Vn]=!0,fe.prototype.removeEventListener=function(o,e,t,l){Le(this,o,e,t,l)},fe.prototype.N=function(){if(fe.$.N.call(this),this.i){var e,o=this.i;for(e in o.g){for(var t=o.g[e],l=0;l<t.length;l++)xr(t[l]);delete o.g[e],o.h--}}this.J=null},fe.prototype.O=function(o,e,t,l){return this.i.add(String(o),e,!1,t,l)},fe.prototype.P=function(o,e,t,l){return this.i.add(String(o),e,!0,t,l)};var je=dt.JSON.stringify;function Yt(){var o=Sr;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Ln=new class _t{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new kr,o=>o.reset());class kr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vi(o){var e=1;o=o.split(":");const t=[];for(;0<e&&o.length;)t.push(o.shift()),e--;return o.length&&t.push(o.join(":")),t}function xn(o){dt.setTimeout(()=>{throw o},0)}let Tr,Ii=!1,Sr=new class An{constructor(){this.h=this.g=null}add(e,t){const l=Ln.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}},_s=()=>{const o=dt.Promise.resolve(void 0);Tr=()=>{o.then(Fr)}};var Fr=()=>{for(var o;o=Yt();){try{o.h.call(o.g)}catch(t){xn(t)}var e=Ln;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}Ii=!1};function Ti(o,e){fe.call(this),this.h=o||1,this.g=e||dt,this.j=Te(this.qb,this),this.l=Date.now()}function zr(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}function Hi(o,e,t){if("function"==typeof o)t&&(o=Te(o,t));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Te(o.handleEvent,o)}return 2147483647<Number(e)?-1:dt.setTimeout(o,e||0)}function fo(o){o.g=Hi(()=>{o.g=null,o.i&&(o.i=!1,fo(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}Ge(Ti,fe),(we=Ti.prototype).ga=!1,we.T=null,we.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),de(this,"tick"),this.ga&&(zr(this),this.start()))}},we.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.N=function(){Ti.$.N.call(this),zr(this),delete this.g};class Po extends qe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(o){qe.call(this),this.h=o,this.g={}}Ge(ur,qe);var zs=[];function Qi(o,e,t,l){Array.isArray(t)||(t&&(zs[0]=t.toString()),t=zs);for(var d=0;d<t.length;d++){var g=en(e,t[d],l||o.handleEvent,!1,o.h||o);if(!g)break;o.g[g.key]=g}}function ro(o){On(o.g,function(e,t){this.g.hasOwnProperty(t)&&nt(e)},o),o.g={}}function As(){this.g=!0}function Oi(o,e,t,l){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vs(o,e){if(!o.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(o=0;o<t.length;o++)if(Array.isArray(t[o])){var l=t[o];if(!(2>l.length)){var d=l[1];if(Array.isArray(d)&&!(1>d.length)){var g=d[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var b=1;b<d.length;b++)d[b]=""}}}return je(t)}catch{return e}}(o,t)+(l?" "+l:"")})}ur.prototype.N=function(){ur.$.N.call(this),ro(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},As.prototype.Ea=function(){this.g=!1},As.prototype.info=function(){};var Rr={},ii=null;function Bs(){return ii=ii||new fe}function us(o){Zt.call(this,Rr.Ta,o)}function po(o){const e=Bs();de(e,new us(e))}function ds(o,e){Zt.call(this,Rr.STAT_EVENT,o),this.stat=e}function bi(o){const e=Bs();de(e,new ds(e,o))}function Ll(o,e){Zt.call(this,Rr.Ua,o),this.size=e}function fa(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){o()},e)}Rr.Ta="serverreachability",Ge(us,Zt),Rr.STAT_EVENT="statevent",Ge(ds,Zt),Rr.Ua="timingevent",Ge(Ll,Zt);var Ks={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ur(){}function uc(){}Ur.prototype.h=null;var Ke,Yo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ve(){Zt.call(this,"d")}function Ae(){Zt.call(this,"c")}function bt(){}function kt(o,e,t,l){this.l=o,this.j=e,this.m=t,this.W=l||1,this.U=new ur(this),this.P=br,this.V=new Ti(o=wt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tn}function tn(){this.i=null,this.g="",this.h=!1}Ge(Ve,Zt),Ge(Ae,Zt),Ge(bt,Ur),bt.prototype.g=function(){return new XMLHttpRequest},bt.prototype.i=function(){return{}},Ke=new bt;var br=45e3,Ar={},Nr={};function Ji(o,e,t){o.L=1,o.v=Si(Ei(e)),o.s=t,o.S=!0,go(o,null)}function go(o,e){o.G=Date.now(),$i(o),o.A=Ei(o.v);var t=o.A,l=o.W;Array.isArray(l)||(l=[String(l)]),Pi(t.i,"t",l),o.C=0,t=o.l.J,o.h=new tn,o.g=Gl(o.l,t?e:null,!o.s),0<o.O&&(o.M=new Po(Te(o.Pa,o,o.g),o.O)),Qi(o.U,o.g,"readystatechange",o.nb),e=o.I?or(o.I):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.A,o.u,o.s,e)):(o.u="GET",o.g.ha(o.A,o.u,null,e)),po(),function cs(o,e,t,l,d,g){o.info(function(){if(o.g)if(g)for(var b="",R=g.split("&"),H=0;H<R.length;H++){var q=R[H].split("=");if(1<q.length){var ie=q[0];q=q[1];var be=ie.split("_");b=2<=be.length&&"type"==be[1]?b+(ie+"=")+q+"&":b+(ie+"=redacted&")}}else b=null;else b=g;return"XMLHTTP REQ ("+l+") [attempt "+d+"]: "+e+"\n"+t+"\n"+b})}(o.j,o.u,o.A,o.m,o.W,o.s)}function ys(o){return!!o.g&&"GET"==o.u&&2!=o.L&&o.l.Ha}function Ra(o,e,t){let d,l=!0;for(;!o.J&&o.C<t.length;){if(d=xa(o,t),d==Nr){4==e&&(o.o=4,bi(14),l=!1),Oi(o.j,o.m,null,"[Incomplete Response]");break}if(d==Ar){o.o=4,bi(15),Oi(o.j,o.m,t,"[Invalid Chunk]"),l=!1;break}Oi(o.j,o.m,d,null),Ys(o,d)}ys(o)&&d!=Nr&&d!=Ar&&(o.h.g="",o.C=0),4!=e||0!=t.length||o.h.h||(o.o=1,bi(16),l=!1),o.i=o.i&&l,l?0<t.length&&!o.ba&&(o.ba=!0,(e=o.l).g==o&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sl(e),e.M=!0,bi(11))):(Oi(o.j,o.m,t,"[Invalid Chunked Response]"),Zs(o),qs(o))}function xa(o,e){var t=o.C,l=e.indexOf("\n",t);return-1==l?Nr:(t=Number(e.substring(t,l)),isNaN(t)?Ar:(l+=1)+t>e.length?Nr:(e=e.slice(l,l+t),o.C=l+t,e))}function $i(o){o.Y=Date.now()+o.P,so(o,o.P)}function so(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=fa(Te(o.lb,o),e)}function oo(o){o.B&&(dt.clearTimeout(o.B),o.B=null)}function qs(o){0==o.l.H||o.J||Hl(o.l,o)}function Zs(o){oo(o);var e=o.M;e&&"function"==typeof e.sa&&e.sa(),o.M=null,zr(o.V),ro(o.U),o.g&&(e=o.g,o.g=null,e.abort(),e.sa())}function Ys(o,e){try{var t=o.l;if(0!=t.H&&(t.g==o||La(t.i,o)))if(!o.K&&La(t.i,o)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var d=l;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<o.G))break e;Vo(t),ya(t)}Zr(t),bi(18)}}else t.Fa=d[1],0<t.Fa-t.V&&37500>d[2]&&t.G&&0==t.A&&!t.v&&(t.v=fa(Te(t.ib,t),6e3));if(1>=Xo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else js(t,11)}else if((o.K||t.g==o)&&Vo(t),!pn(e))for(d=t.Ja.g.parse(e),e=0;e<d.length;e++){let q=d[e];if(t.V=q[0],q=q[1],2==t.H)if("c"==q[0]){t.K=q[1],t.pa=q[2];const ie=q[3];null!=ie&&(t.ra=ie,t.l.info("VER="+t.ra));const be=q[4];null!=be&&(t.Ga=be,t.l.info("SVER="+t.Ga));const Ze=q[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(t.L=l=1.5*Ze,t.l.info("backChannelRequestTimeoutMs_="+l)),l=t;const yt=o.g;if(yt){const Wt=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wt){var g=l.i;g.g||-1==Wt.indexOf("spdy")&&-1==Wt.indexOf("quic")&&-1==Wt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(hs(g,g.h),g.h=null))}if(l.F){const dn=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;dn&&(l.Da=dn,Kr(l.I,l.F,dn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-o.G,t.l.info("Handshake RTT: "+t.S+"ms"));var b=o;if((l=t).wa=Co(l,l.J?l.pa:null,l.Y),b.K){ao(l.i,b);var R=b,H=l.L;H&&R.setTimeout(H),R.B&&(oo(R),$i(R)),l.g=b}else Do(l);0<t.j.length&&ja(t)}else"stop"!=q[0]&&"close"!=q[0]||js(t,7);else 3==t.H&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?js(t,7):_a(t):"noop"!=q[0]&&t.h&&t.h.Aa(q),t.A=0)}po()}catch{}}function mo(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(Tt(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var t=function Bl(o){if(o.ta&&"function"==typeof o.ta)return o.ta();if(!o.Z||"function"!=typeof o.Z){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(Tt(o)||"string"==typeof o){var e=[];o=o.length;for(var t=0;t<o;t++)e.push(t);return e}e=[],t=0;for(const l in o)e[t++]=l;return e}}}(o),l=function Oa(o){if(o.Z&&"function"==typeof o.Z)return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(Tt(o)){for(var e=[],t=o.length,l=0;l<t;l++)e.push(o[l]);return e}for(l in e=[],t=0,o)e[t++]=o[l];return e}(o),d=l.length,g=0;g<d;g++)e.call(void 0,l[g],t&&t[g],o)}(we=kt.prototype).setTimeout=function(o){this.P=o},we.nb=function(o){o=o.target;const e=this.M;e&&3==Xi(o)?e.l():this.Pa(o)},we.Pa=function(o){try{if(o==this.g)e:{const ie=Xi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ie)&&(3!=ie||wt||this.g&&(this.h.h||this.g.ja()||ea(this.g)))){this.J||4!=ie||7==e||po(),oo(this);var t=this.g.da();this.ca=t;t:if(ys(this)){var l=ea(this.g);o="";var d=l.length,g=4==Xi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),qs(this);var b="";break t}this.h.i=new dt.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,o+=this.h.i.decode(l[e],{stream:g&&e==d-1});l.splice(0,d),this.h.g+=o,this.C=0,b=this.h.g}else b=this.g.ja();if(this.i=200==t,function io(o,e,t,l,d,g,b){o.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+g+" "+b})}(this.j,this.u,this.A,this.m,this.W,ie,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pn(R)){var q=R;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,bi(12),Zs(this),qs(this);break e}Oi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ys(this,t)}this.S?(Ra(this,ie,b),wt&&this.i&&3==ie&&(Qi(this.U,this.V,"tick",this.mb),this.V.start())):(Oi(this.j,this.m,b,null),Ys(this,b)),4==ie&&Zs(this),this.i&&!this.J&&(4==ie?Hl(this.l,this):(this.i=!1,$i(this)))}else(function nl(o){const e={};o=(o.g&&2<=Xi(o)&&o.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<o.length;l++){if(pn(o[l]))continue;var t=vi(o[l]);const d=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const g=e[d]||[];e[d]=g,g.push(t)}!function Li(o,e){for(const t in o)e.call(void 0,o[t],t,o)}(e,function(l){return l.join(", ")})})(this.g),400==t&&0<b.indexOf("Unknown SID")?(this.o=3,bi(12)):(this.o=0,bi(13)),Zs(this),qs(this)}}}catch{}},we.mb=function(){if(this.g){var o=Xi(this.g),e=this.g.ja();this.C<e.length&&(oo(this),Ra(this,o,e),this.i&&4!=o&&$i(this))}},we.cancel=function(){this.J=!0,Zs(this)},we.lb=function(){this.B=null;const o=Date.now();0<=o-this.Y?(function Lr(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(po(),bi(17)),Zs(this),this.o=2,qs(this)):so(this,this.Y-o)};var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wi(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof wi){this.h=o.h,ka(this,o.j),this.s=o.s,this.g=o.g,Us(this,o.m),this.l=o.l;var e=o.i,t=new tl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Qo(this,t),this.o=o.o}else o&&(e=String(o).match(_o))?(this.h=!1,ka(this,e[1]||"",!0),this.s=yo(e[2]||""),this.g=yo(e[3]||"",!0),Us(this,e[4]),this.l=yo(e[5]||"",!0),Qo(this,e[6]||"",!0),this.o=yo(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}function Ei(o){return new wi(o)}function ka(o,e,t){o.j=t?yo(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function Us(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function Qo(o,e,t){e instanceof tl?(o.i=e,function Nn(o,e){e&&!o.j&&(Ri(o),o.i=null,o.g.forEach(function(t,l){var d=l.toLowerCase();l!=d&&(Ul(this,l),Pi(this,d,t))},o)),o.j=e}(o.i,o.h)):(t||(e=Fa(e,bs)),o.i=new tl(e,o.h))}function Kr(o,e,t){o.i.set(e,t)}function Si(o){return Kr(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function yo(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Fa(o,e,t){return"string"==typeof o?(o=encodeURI(o).replace(e,Qs),t&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Qs(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}wi.prototype.toString=function(){var o=[],e=this.j;e&&o.push(Fa(e,vs,!0),":");var t=this.g;return(t||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(Fa(e,vs,!0),"@"),o.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&o.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&o.push("/"),o.push(Fa(t,"/"==t.charAt(0)?pa:vo,!0))),(t=this.i.toString())&&o.push("?",t),(t=this.o)&&o.push("#",Fa(t,Mi)),o.join("")};var vs=/[#\/\?@]/g,vo=/[#\?:]/g,pa=/[#\?]/g,bs=/[#\?@]/g,Mi=/#/g;function tl(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function Ri(o){o.g||(o.g=new Map,o.h=0,o.i&&function Pa(o,e){if(o){o=o.split("&");for(var t=0;t<o.length;t++){var l=o[t].indexOf("="),d=null;if(0<=l){var g=o[t].substring(0,l);d=o[t].substring(l+1)}else g=o[t];e(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(o.i,function(e,t){o.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ul(o,e){Ri(o),e=Ns(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function Gi(o,e){return Ri(o),e=Ns(o,e),o.g.has(e)}function Pi(o,e,t){Ul(o,e),0<t.length&&(o.i=null,o.g.set(Ns(o,e),Ut(t)),o.h+=t.length)}function Ns(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}function xc(o){this.l=o||dc,o=dt.PerformanceNavigationTiming?0<(o=dt.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(dt.g&&dt.g.Ka&&dt.g.Ka()&&dt.g.Ka().ec),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=tl.prototype).add=function(o,e){Ri(this),this.i=null,o=Ns(this,o);var t=this.g.get(o);return t||this.g.set(o,t=[]),t.push(e),this.h+=1,this},we.forEach=function(o,e){Ri(this),this.g.forEach(function(t,l){t.forEach(function(d){o.call(e,d,l,this)},this)},this)},we.ta=function(){Ri(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const d=o[l];for(let g=0;g<d.length;g++)t.push(e[l])}return t},we.Z=function(o){Ri(this);let e=[];if("string"==typeof o)Gi(this,o)&&(e=e.concat(this.g.get(Ns(this,o))));else{o=Array.from(this.g.values());for(let t=0;t<o.length;t++)e=e.concat(o[t])}return e},we.set=function(o,e){return Ri(this),this.i=null,Gi(this,o=Ns(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},we.get=function(o,e){return o&&0<(o=this.Z(o)).length?String(o[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const g=encodeURIComponent(String(l)),b=this.Z(l);for(l=0;l<b.length;l++){var d=g;""!==b[l]&&(d+="="+encodeURIComponent(String(b[l]))),o.push(d)}}return this.i=o.join("&")};var dc=10;function Jo(o){return!!o.h||!!o.g&&o.g.size>=o.j}function Xo(o){return o.h?1:o.g?o.g.size:0}function La(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function hs(o,e){o.g?o.g.add(e):o.h=e}function ao(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Mt(o){if(null!=o.h)return o.i.concat(o.h.F);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const t of o.g.values())e=e.concat(t.F);return e}return Ut(o.i)}function Ms(){this.g=new class{stringify(o){return dt.JSON.stringify(o,void 0)}parse(o){return dt.JSON.parse(o,void 0)}}}function Js(o,e,t){const l=t||"";try{mo(o,function(d,g){let b=d;rn(d)&&(b=je(d)),e.push(l+g+"="+encodeURIComponent(b))})}catch(d){throw e.push(l+"type="+encodeURIComponent("_badmap")),d}}function ga(o,e,t,l,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(l)}catch{}}function bo(o){this.l=o.fc||null,this.j=o.ob||!1}function ws(o,e){fe.call(this),this.F=o,this.u=e,this.m=void 0,this.readyState=Va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xc.prototype.cancel=function(){if(this.i=Mt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}},Ge(bo,Ur),bo.prototype.g=function(){return new ws(this.l,this.j)},bo.prototype.i=function(o){return function(){return o}}({}),Ge(ws,fe);var Va=0;function ma(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}function hc(o){o.readyState=4,o.l=null,o.j=null,o.A=null,qr(o)}function qr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(we=ws.prototype).open=function(o,e){if(this.readyState!=Va)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,qr(this)},we.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.F||dt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hc(this)),this.readyState=Va},we.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dt.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ma(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))},we.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?hc(this):qr(this),3==this.readyState&&ma(this)}},we.Za=function(o){this.g&&(this.response=this.responseText=o,hc(this))},we.Ya=function(o){this.g&&(this.response=o,hc(this))},we.ka=function(){this.g&&hc(this)},we.setRequestHeader=function(o,e){this.v.append(o,e)},we.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var t=e.next();!t.done;)o.push((t=t.value)[0]+": "+t[1]),t=e.next();return o.join("\r\n")},Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var W=dt.JSON.parse;function U(o){fe.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=F,this.L=this.M=!1}Ge(U,fe);var F="",te=/^https?$/i,rt=["POST","PUT"];function pr(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Rs(o),wo(o)}function Rs(o){o.F||(o.F=!0,de(o,"complete"),de(o,"error"))}function lo(o){if(o.h&&typeof ct<"u"&&(!o.C[1]||4!=Xi(o)||2!=o.da()))if(o.v&&4==Xi(o))Hi(o.La,0,o);else if(de(o,"readystatechange"),4==Xi(o)){o.h=!1;try{const b=o.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===b){var d=String(o.I).match(_o)[1]||null;!d&&dt.self&&dt.self.location&&(d=dt.self.location.protocol.slice(0,-1)),l=!te.test(d?d.toLowerCase():"")}t=l}if(t)de(o,"complete"),de(o,"success");else{o.m=6;try{var g=2<Xi(o)?o.g.statusText:""}catch{g=""}o.j=g+" ["+o.da()+"]",Rs(o)}}finally{wo(o)}}}function wo(o,e){if(o.g){ko(o);const t=o.g,l=o.C[0]?()=>{}:null;o.g=null,o.C=null,e||de(o,"ready");try{t.onreadystatechange=l}catch{}}}function ko(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(dt.clearTimeout(o.A),o.A=null)}function Xi(o){return o.g?o.g.readyState:0}function ea(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case F:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(o){let e="";return On(o,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function Ba(o,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=Wi(t),"string"==typeof o?null!=t&&encodeURIComponent(String(t)):Kr(o,e,t))}function Fo(o,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[o]||e}function Eo(o){this.Ga=0,this.j=[],this.l=new As,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fo("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fo("baseRetryDelayMs",5e3,o),this.hb=Fo("retryDelaySeedMs",1e4,o),this.eb=Fo("forwardChannelMaxRetries",2,o),this.xa=Fo("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.dc||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new xc(o&&o.concurrentRequestLimit),this.Ja=new Ms,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _a(o){if(Ua(o),3==o.H){var e=o.W++,t=Ei(o.I);if(Kr(t,"SID",o.K),Kr(t,"RID",e),Kr(t,"TYPE","terminate"),il(o,t),(e=new kt(o,o.l,e)).L=2,e.v=Si(Ei(t)),t=!1,dt.navigator&&dt.navigator.sendBeacon)try{t=dt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$i(e)}al(o)}function ya(o){o.g&&(sl(o),o.g.cancel(),o.g=null)}function Ua(o){ya(o),o.u&&(dt.clearTimeout(o.u),o.u=null),Vo(o),o.i.cancel(),o.m&&("number"==typeof o.m&&dt.clearTimeout(o.m),o.m=null)}function ja(o){if(!Jo(o.i)&&!o.m){o.m=!0;var e=o.Na;Tr||_s(),Ii||(Tr(),Ii=!0),Sr.add(e,o),o.C=0}}function rl(o,e){var t;t=e?e.m:o.W++;const l=Ei(o.I);Kr(l,"SID",o.K),Kr(l,"RID",t),Kr(l,"AID",o.V),il(o,l),o.o&&o.s&&Ba(l,o.o,o.s),t=new kt(o,o.l,t,o.C+1),null===o.o&&(t.I=o.s),e&&(o.j=e.F.concat(o.j)),e=Mr(o,t,1e3),t.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),hs(o.i,t),Ji(t,l,e)}function il(o,e){o.na&&On(o.na,function(t,l){Kr(e,l,t)}),o.h&&mo({},function(t,l){Kr(e,l,t)})}function Mr(o,e,t){t=Math.min(o.j.length,t);var l=o.h?Te(o.h.Va,o.h,o):null;e:{var d=o.j;let g=-1;for(;;){const b=["count="+t];-1==g?0<t?(g=d[0].g,b.push("ofs="+g)):g=0:b.push("ofs="+g);let R=!0;for(let H=0;H<t;H++){let q=d[H].g;const ie=d[H].map;if(q-=g,0>q)g=Math.max(0,d[H].g-100),R=!1;else try{Js(ie,b,"req"+q+"_")}catch{l&&l(ie)}}if(R){l=b.join("&");break e}}}return o=o.j.splice(0,t),e.F=o,l}function Do(o){if(!o.g&&!o.u){o.ba=1;var e=o.Ma;Tr||_s(),Ii||(Tr(),Ii=!0),Sr.add(e,o),o.A=0}}function Zr(o){return!(o.g||o.u||3<=o.A||(o.ba++,o.u=fa(Te(o.Ma,o),$l(o,o.A)),o.A++,0))}function sl(o){null!=o.B&&(dt.clearTimeout(o.B),o.B=null)}function ol(o){o.g=new kt(o,o.l,"rpc",o.ba),null===o.o&&(o.g.I=o.s),o.g.O=0;var e=Ei(o.wa);Kr(e,"RID","rpc"),Kr(e,"SID",o.K),Kr(e,"AID",o.V),Kr(e,"CI",o.G?"0":"1"),!o.G&&o.qa&&Kr(e,"TO",o.qa),Kr(e,"TYPE","xmlhttp"),il(o,e),o.o&&o.s&&Ba(e,o.o,o.s),o.L&&o.g.setTimeout(o.L);var t=o.g;o=o.pa,t.L=1,t.v=Si(Ei(e)),t.s=null,t.S=!0,go(t,o)}function Vo(o){null!=o.v&&(dt.clearTimeout(o.v),o.v=null)}function Hl(o,e){var t=null;if(o.g==e){Vo(o),sl(o),o.g=null;var l=2}else{if(!La(o.i,e))return;t=e.F,ao(o.i,e),l=1}if(0!=o.H)if(e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var d=o.C;de(l=Bs(),new Ll(l,t)),ja(o)}else Do(o);else if(3==(d=e.o)||0==d&&0<e.ca||!(1==l&&function Lo(o,e){return!(Xo(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.j=e.F.concat(o.j),0):1==o.H||2==o.H||o.C>=(o.cb?0:o.eb)||(o.m=fa(Te(o.Na,o,e),$l(o,o.C)),o.C++,0)))}(o,e)||2==l&&Zr(o)))switch(t&&0<t.length&&(e=o.i,e.i=e.i.concat(t)),d){case 1:js(o,5);break;case 4:js(o,10);break;case 3:js(o,6);break;default:js(o,2)}}function $l(o,e){let t=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(t*=2),t*e}function js(o,e){if(o.l.info("Error code "+e),2==e){var t=null;o.h&&(t=null);var l=Te(o.pb,o);t||(t=new wi("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||ka(t,"https"),Si(t)),function si(o,e){const t=new As;if(dt.Image){const l=new Image;l.onload=Me(ga,t,l,"TestLoadImage: loaded",!0,e),l.onerror=Me(ga,t,l,"TestLoadImage: error",!1,e),l.onabort=Me(ga,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=Me(ga,t,l,"TestLoadImage: timeout",!1,e),dt.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=o}else e(!1)}(t.toString(),l)}else bi(2);o.H=0,o.h&&o.h.za(e),al(o),Ua(o)}function al(o){if(o.H=0,o.ma=[],o.h){const e=Mt(o.i);(0!=e.length||0!=o.j.length)&&(At(o.ma,e),At(o.ma,o.j),o.i.i.length=0,Ut(o.j),o.j.length=0),o.h.ya()}}function Co(o,e,t){var l=t instanceof wi?Ei(t):new wi(t);if(""!=l.g)e&&(l.g=e+"."+l.g),Us(l,l.m);else{var d=dt.location;l=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var g=new wi(null);l&&ka(g,l),e&&(g.g=e),d&&Us(g,d),t&&(g.l=t),l=g}return e=o.Da,(t=o.F)&&e&&Kr(l,t,e),Kr(l,"VER",o.ra),il(o,l),l}function Gl(o,e,t){if(e&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new U(t&&o.Ha&&!o.va?new bo({ob:!0}):o.va)).Oa(o.J),e}function Wl(){}function ll(){if(vt&&!(10<=Number(hn)))throw Error("Environmental error: no available transport.")}function xs(o,e){fe.call(this),this.g=new Eo(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(o?o["X-WebChannel-Client-Profile"]=e.Ca:o={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=o,(o=e&&e.cc)&&!pn(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pn(e)&&(this.g.F=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new $a(this)}function Io(o){Ve.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var e=o.__sm__;if(e){e:{for(const t in e){o=t;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Ha(){Ae.call(this),this.status=1}function $a(o){this.g=o}function Os(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cl(o,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var d=0;16>d;++d)l[d]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(d=0;16>d;++d)l[d]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var g=o.g[3],b=(e=o.g[0])+(g^(t=o.g[1])&((d=o.g[2])^g))+l[0]+3614090360&4294967295;b=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=t+(b<<7&4294967295|b>>>25))+((b=g+(d^e&(t^d))+l[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=d+(t^g&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^d&(g^e))+l[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=e+(g^t&(d^g))+l[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=g+(d^e&(t^d))+l[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=d+(t^g&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^d&(g^e))+l[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=e+(g^t&(d^g))+l[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=g+(d^e&(t^d))+l[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=d+(t^g&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^d&(g^e))+l[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=e+(g^t&(d^g))+l[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=g+(d^e&(t^d))+l[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=d+(t^g&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^d&(g^e))+l[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=e+(d^g&(t^d))+l[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=g+(t^d&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=d+(e^t&(g^e))+l[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=t+(g^e&(d^g))+l[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=e+(d^g&(t^d))+l[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=g+(t^d&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=d+(e^t&(g^e))+l[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=t+(g^e&(d^g))+l[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=e+(d^g&(t^d))+l[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=g+(t^d&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=d+(e^t&(g^e))+l[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=t+(g^e&(d^g))+l[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=e+(d^g&(t^d))+l[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=g+(t^d&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=d+(e^t&(g^e))+l[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=t+(g^e&(d^g))+l[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=e+(t^d^g)+l[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^t^d)+l[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=d+(g^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=t+(d^g^e)+l[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^d^g)+l[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^t^d)+l[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=d+(g^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=t+(d^g^e)+l[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^d^g)+l[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^t^d)+l[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=d+(g^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=t+(d^g^e)+l[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^d^g)+l[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=g+(e^t^d)+l[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=d+(g^e^t)+l[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=t+(d^g^e)+l[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=e+(d^(t|~g))+l[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=g+(t^(e|~d))+l[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=d+(e^(g|~t))+l[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=t+(g^(d|~e))+l[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=e+(d^(t|~g))+l[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=g+(t^(e|~d))+l[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=d+(e^(g|~t))+l[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=t+(g^(d|~e))+l[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=e+(d^(t|~g))+l[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=g+(t^(e|~d))+l[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=d+(e^(g|~t))+l[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=t+(g^(d|~e))+l[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((g=(e=t+((b=e+(d^(t|~g))+l[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=g+(t^(e|~d))+l[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((d=g+((b=d+(e^(g|~t))+l[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~e))+l[9]+3951481745&4294967295,o.g[0]=o.g[0]+e&4294967295,o.g[1]=o.g[1]+(d+(b<<21&4294967295|b>>>11))&4294967295,o.g[2]=o.g[2]+d&4294967295,o.g[3]=o.g[3]+g&4294967295}function jr(o,e){this.h=e;for(var t=[],l=!0,d=o.length-1;0<=d;d--){var g=0|o[d];l&&g==e||(t[d]=g,l=!1)}this.g=t}(we=U.prototype).Oa=function(o){this.M=o},we.ha=function(o,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);e=e?e.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ke.g(),this.C=function Vl(o){return o.h||(o.h=o.i())}(this.u?this.u:Ke),this.g.onreadystatechange=Te(this.La,this);try{this.G=!0,this.g.open(e,String(o),!0),this.G=!1}catch(g){return void pr(this,g)}if(o=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var d in l)t.set(d,l[d]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const g of l.keys())t.set(g,l.get(g))}l=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),d=dt.FormData&&o instanceof dt.FormData,!(0<=st(rt,e))||l||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,b]of t)this.g.setRequestHeader(g,b);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ko(this),0<this.B&&((this.L=function an(o){return vt&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.ua,this)):this.A=Hi(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(g){pr(this,g)}},we.ua=function(){typeof ct<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,de(this,"timeout"),this.abort(8))},we.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,de(this,"complete"),de(this,"abort"),wo(this))},we.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wo(this,!0)),U.$.N.call(this)},we.La=function(){this.s||(this.G||this.v||this.l?lo(this):this.kb())},we.kb=function(){lo(this)},we.isActive=function(){return!!this.g},we.da=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}},we.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Wa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),W(e)}},we.Ia=function(){return this.m},we.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=Eo.prototype).ra=8,we.H=1,we.Na=function(o){if(this.m)if(this.m=null,1==this.H){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const d=new kt(this,this.l,o);let g=this.s;if(this.U&&(g?(g=or(g),ri(g,this.U)):g=this.U),null!==this.o||this.O||(d.I=g,g=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var l=this.j[t];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mr(this,d,e),Kr(t=Ei(this.I),"RID",o),Kr(t,"CVER",22),this.F&&Kr(t,"X-HTTP-Session-Id",this.F),il(this,t),g&&(this.O?e="headers="+encodeURIComponent(String(Wi(g)))+"&"+e:this.o&&Ba(t,this.o,g)),hs(this.i,d),this.bb&&Kr(t,"TYPE","init"),this.P?(Kr(t,"$req",e),Kr(t,"SID","null"),d.aa=!0,Ji(d,t,null)):Ji(d,t,e),this.H=2}}else 3==this.H&&(o?rl(this,o):0==this.j.length||Jo(this.i)||rl(this))},we.Ma=function(){if(this.u=null,ol(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=fa(Te(this.jb,this),o)}},we.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bi(10),ya(this),ol(this))},we.ib=function(){null!=this.v&&(this.v=null,ya(this),Zr(this),bi(19))},we.pb=function(o){o?(this.l.info("Successfully pinged google.com"),bi(2)):(this.l.info("Failed to ping google.com"),bi(1))},we.isActive=function(){return!!this.h&&this.h.isActive(this)},(we=Wl.prototype).Ba=function(){},we.Aa=function(){},we.za=function(){},we.ya=function(){},we.isActive=function(){return!0},we.Va=function(){},ll.prototype.g=function(o,e){return new xs(o,e)},Ge(xs,fe),xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,e=this.l,t=this.h||void 0;bi(0),o.Y=e,o.na=t||{},o.G=o.aa,o.I=Co(o,null,o.Y),ja(o)},xs.prototype.close=function(){_a(this.g)},xs.prototype.u=function(o){var e=this.g;if("string"==typeof o){var t={};t.__data__=o,o=t}else this.v&&((t={}).__data__=je(o),o=t);e.j.push(new class{constructor(o,e){this.g=o,this.map=e}}(e.fb++,o)),3==e.H&&ja(e)},xs.prototype.N=function(){this.g.h=null,delete this.j,_a(this.g),delete this.g,xs.$.N.call(this)},Ge(Io,Ve),Ge(Ha,Ae),Ge($a,Wl),$a.prototype.Ba=function(){de(this.g,"a")},$a.prototype.Aa=function(o){de(this.g,new Io(o))},$a.prototype.za=function(o){de(this.g,new Ha)},$a.prototype.ya=function(){de(this.g,"b")},Ge(Os,function Oc(){this.blockSize=-1}),Os.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Os.prototype.j=function(o,e){void 0===e&&(e=o.length);for(var t=e-this.blockSize,l=this.m,d=this.h,g=0;g<e;){if(0==d)for(;g<=t;)cl(this,o,g),g+=this.blockSize;if("string"==typeof o){for(;g<e;)if(l[d++]=o.charCodeAt(g++),d==this.blockSize){cl(this,l),d=0;break}}else for(;g<e;)if(l[d++]=o[g++],d==this.blockSize){cl(this,l),d=0;break}}this.h=d,this.i+=e},Os.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var e=1;e<o.length-8;++e)o[e]=0;var t=8*this.i;for(e=o.length-8;e<o.length;++e)o[e]=255&t,t/=256;for(this.j(o),o=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)o[t++]=this.g[e]>>>l&255;return o};var O={};function Z(o){return-128<=o&&128>o?function zn(o,e){var t=O;return Object.prototype.hasOwnProperty.call(t,o)?t[o]:t[o]=e(o)}(o,function(e){return new jr([0|e],0>e?-1:0)}):new jr([0|o],0>o?-1:0)}function B(o){if(isNaN(o)||!isFinite(o))return at;if(0>o)return $n(B(-o));for(var e=[],t=1,l=0;o>=t;l++)e[l]=o/t|0,t*=De;return new jr(e,0)}var De=4294967296,at=Z(0),Ct=Z(1),Cn=Z(16777216);function ir(o){if(0!=o.h)return!1;for(var e=0;e<o.g.length;e++)if(0!=o.g[e])return!1;return!0}function Qn(o){return-1==o.h}function $n(o){for(var e=o.g.length,t=[],l=0;l<e;l++)t[l]=~o.g[l];return new jr(t,~o.h).add(Ct)}function Jn(o,e){return o.add($n(e))}function di(o,e){for(;(65535&o[e])!=o[e];)o[e+1]+=o[e]>>>16,o[e]&=65535,e++}function Or(o,e){this.g=o,this.h=e}function ki(o,e){if(ir(e))throw Error("division by zero");if(ir(o))return new Or(at,at);if(Qn(o))return e=ki($n(o),e),new Or($n(e.g),$n(e.h));if(Qn(e))return e=ki(o,$n(e)),new Or($n(e.g),e.h);if(30<o.g.length){if(Qn(o)||Qn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ct,l=e;0>=l.X(o);)t=Bo(t),l=Bo(l);var d=zi(t,1),g=zi(l,1);for(l=zi(l,2),t=zi(t,2);!ir(l);){var b=g.add(l);0>=b.X(o)&&(d=d.add(t),g=b),l=zi(l,1),t=zi(t,1)}return e=Jn(o,d.R(e)),new Or(d,e)}for(d=at;0<=o.X(e);){for(t=Math.max(1,Math.floor(o.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),b=(g=B(t)).R(e);Qn(b)||0<b.X(o);)b=(g=B(t-=l)).R(e);ir(g)&&(g=Ct),d=d.add(g),o=Jn(o,b)}return new Or(d,o)}function Bo(o){for(var e=o.g.length+1,t=[],l=0;l<e;l++)t[l]=o.D(l)<<1|o.D(l-1)>>>31;return new jr(t,o.h)}function zi(o,e){var t=e>>5;e%=32;for(var l=o.g.length-t,d=[],g=0;g<l;g++)d[g]=0<e?o.D(g+t)>>>e|o.D(g+t+1)<<32-e:o.D(g+t);return new jr(d,o.h)}(we=jr.prototype).ea=function(){if(Qn(this))return-$n(this).ea();for(var o=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);o+=(0<=l?l:De+l)*e,e*=De}return o},we.toString=function(o){if(2>(o=o||10)||36<o)throw Error("radix out of range: "+o);if(ir(this))return"0";if(Qn(this))return"-"+$n(this).toString(o);for(var e=B(Math.pow(o,6)),t=this,l="";;){var d=ki(t,e).g,g=((0<(t=Jn(t,d.R(e))).g.length?t.g[0]:t.h)>>>0).toString(o);if(ir(t=d))return g+l;for(;6>g.length;)g="0"+g;l=g+l}},we.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h},we.X=function(o){return Qn(o=Jn(this,o))?-1:ir(o)?0:1},we.abs=function(){return Qn(this)?$n(this):this},we.add=function(o){for(var e=Math.max(this.g.length,o.g.length),t=[],l=0,d=0;d<=e;d++){var g=l+(65535&this.D(d))+(65535&o.D(d)),b=(g>>>16)+(this.D(d)>>>16)+(o.D(d)>>>16);l=b>>>16,t[d]=(b&=65535)<<16|(g&=65535)}return new jr(t,-2147483648&t[t.length-1]?-1:0)},we.R=function(o){if(ir(this)||ir(o))return at;if(Qn(this))return Qn(o)?$n(this).R($n(o)):$n($n(this).R(o));if(Qn(o))return $n(this.R($n(o)));if(0>this.X(Cn)&&0>o.X(Cn))return B(this.ea()*o.ea());for(var e=this.g.length+o.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var d=0;d<o.g.length;d++){var g=this.D(l)>>>16,b=65535&this.D(l),R=o.D(d)>>>16,H=65535&o.D(d);t[2*l+2*d]+=b*H,di(t,2*l+2*d),t[2*l+2*d+1]+=g*H,di(t,2*l+2*d+1),t[2*l+2*d+1]+=b*R,di(t,2*l+2*d+1),t[2*l+2*d+2]+=g*R,di(t,2*l+2*d+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new jr(t,0)},we.gb=function(o){return ki(this,o).h},we.and=function(o){for(var e=Math.max(this.g.length,o.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&o.D(l);return new jr(t,this.h&o.h)},we.or=function(o){for(var e=Math.max(this.g.length,o.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|o.D(l);return new jr(t,this.h|o.h)},we.xor=function(o){for(var e=Math.max(this.g.length,o.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^o.D(l);return new jr(t,this.h^o.h)},ll.prototype.createWebChannel=ll.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,cc.COMPLETE="complete",uc.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",fe.prototype.listen=fe.prototype.O,U.prototype.listenOnce=U.prototype.P,U.prototype.getLastError=U.prototype.Sa,U.prototype.getLastErrorCode=U.prototype.Ia,U.prototype.getStatus=U.prototype.da,U.prototype.getResponseJson=U.prototype.Wa,U.prototype.getResponseText=U.prototype.ja,U.prototype.send=U.prototype.ha,U.prototype.setWithCredentials=U.prototype.Oa,Os.prototype.digest=Os.prototype.l,Os.prototype.reset=Os.prototype.reset,Os.prototype.update=Os.prototype.j,jr.prototype.add=jr.prototype.add,jr.prototype.multiply=jr.prototype.R,jr.prototype.modulo=jr.prototype.gb,jr.prototype.compare=jr.prototype.X,jr.prototype.toNumber=jr.prototype.ea,jr.prototype.toString=jr.prototype.toString,jr.prototype.getBits=jr.prototype.D,jr.fromNumber=B,jr.fromString=function ne(o,e){if(0==o.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==o.charAt(0))return $n(ne(o.substring(1),e));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=B(Math.pow(e,8)),l=at,d=0;d<o.length;d+=8){var g=Math.min(8,o.length-d),b=parseInt(o.substring(d,d+g),e);8>g?(g=B(Math.pow(e,g)),l=l.R(g).add(B(b))):l=(l=l.R(t)).add(B(b))}return l};var ta=Dt.createWebChannelTransport=function(){return new ll},Ki=Dt.getStatEventTarget=function(){return Bs()},na=Dt.ErrorCode=Ks,To=Dt.EventType=cc,ul=Dt.Event=Rr,va=Dt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ga=Dt.FetchXmlHttpFactory=bo,ba=Dt.WebChannel=uc,Ch=Dt.XhrIo=U,iu=Dt.Md5=Os,Xs=Dt.Integer=jr;class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let zl="9.23.0";const oi=new tt.Yd("@firebase/firestore");function pc(){return oi.logLevel}function Ft(o,...e){if(oi.logLevel<=tt.in.DEBUG){const t=e.map(Pf);oi.debug(`Firestore (${zl}): ${o}`,...t)}}function ti(o,...e){if(oi.logLevel<=tt.in.ERROR){const t=e.map(Pf);oi.error(`Firestore (${zl}): ${o}`,...t)}}function eo(o,...e){if(oi.logLevel<=tt.in.WARN){const t=e.map(Pf);oi.warn(`Firestore (${zl}): ${o}`,...t)}}function Pf(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function ln(o="Unexpected state"){const e=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+o;throw ti(e),new Error(e)}function En(o,e){o||ln()}function sn(o,e){return o}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends ze.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Es{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class Yp{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Kl{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Yp(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function kf(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<o;l++)t[l]=Math.floor(256*Math.random());return t}class qu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const d=kf(40);for(let g=0;g<d.length;++g)l.length<20&&d[g]<t&&(l+=e.charAt(d[g]%e.length))}return l}}function Kn(o,e){return o<e?-1:o>e?1:0}function Zu(o,e,t){return o.length===e.length&&o.every((l,d)=>t(l,e[d]))}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new ni(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new ni(0,0))}static max(){return new Pn(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hl{constructor(e,t,l){void 0===t?t=0:t>e.length&&ln(),void 0===l?l=e.length-t:l>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let d=0;d<l;d++){const g=e.get(d),b=t.get(d);if(g<b)return-1;if(g>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends hl{construct(e,t,l){return new Un(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(d=>d.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const ai=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends hl{construct(e,t,l){return new pi(e,t,l)}static isValidIdentifier(e){return ai.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pi(["__name__"])}static fromServerFormat(e){const t=[];let l="",d=0;const g=()=>{if(0===l.length)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let b=!1;for(;d<e.length;){const R=e[d];if("\\"===R){if(d+1===e.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[d+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=H,d+=2}else"`"===R?(b=!b,d++):"."!==R||b?(l+=R,d++):(g(),d++)}if(g(),b)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(Un.fromString(e))}static fromName(e){return new Kt(Un.fromString(e).popFirst(5))}static empty(){return new Kt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new Un(e.slice()))}}function N(o){return new T(o.readTime,o.key,-1)}class T{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new T(Pn.min(),Kt.empty(),-1)}static max(){return new T(Pn.max(),Kt.empty(),-1)}}function L(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=Kt.comparator(o.documentKey,e.documentKey),0!==t?t:Kn(o.largestBatchId,e.largestBatchId))}const $="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ue(o){return ve.apply(this,arguments)}function ve(){return ve=(0,Be.Z)(function*(o){if(o.code!==it.FAILED_PRECONDITION||o.message!==$)throw o;Ft("LocalStore","Unexpectedly lost primary lease")}),ve.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((l,d)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(l,d)},this.catchCallback=g=>{this.wrapFailure(t,g).next(l,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,l)=>{t(e)})}static reject(e){return new ae((t,l)=>{l(e)})}static waitFor(e){return new ae((t,l)=>{let d=0,g=0,b=!1;e.forEach(R=>{++d,R.next(()=>{++g,b&&g===d&&t()},H=>l(H))}),b=!0,g===d&&t()})}static or(e){let t=ae.resolve(!1);for(const l of e)t=t.next(d=>d?ae.resolve(d):l());return t}static forEach(e,t){const l=[];return e.forEach((d,g)=>{l.push(t.call(this,d,g))}),this.waitFor(l)}static mapArray(e,t){return new ae((l,d)=>{const g=e.length,b=new Array(g);let R=0;for(let H=0;H<g;H++){const q=H;t(e[q]).next(ie=>{b[q]=ie,++R,R===g&&l(b)},ie=>d(ie))}})}static doWhile(e,t){return new ae((l,d)=>{const g=()=>{!0===e()?t().next(()=>{g()},d):l()};g()})}}function gi(o){return"IndexedDbTransactionError"===o.name}let Uo=(()=>{class o{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=d=>this.ot(d),this.ut=d=>l.writeSequenceNumber(d))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return o.ct=-1,o})();function co(o){return null==o}function Yu(o){return 0===o&&1/o==-1/0}function eg(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function Yl(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function Uf(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class mi{constructor(e,t){this.comparator=e,this.root=t||ns.EMPTY}insert(e,t){return new mi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const d=this.comparator(e,l.key);if(0===d)return t+l.left.size;d<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,t,l,d){this.isReverse=d,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?l(e.key,t):1,t&&d&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,t,l,d,g){this.key=e,this.value=t,this.color=l??ns.RED,this.left=d??ns.EMPTY,this.right=g??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,d,g){return new ns(e??this.key,t??this.value,l??this.color,d??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let d=this;const g=l(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,t,l),null):0===g?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,l)),d.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return ns.EMPTY;l=d.right.min(),d=d.copy(l.key,l.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(o,e,t,l,d){return this}insert(o,e,t){return new ns(o,e)}remove(o,e){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class li{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const d=l.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ju(this.data.getIterator())}getIteratorFrom(e){return new Ju(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof li)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,g=l.getNext().key;if(0!==this.comparator(d,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new li(this.comparator);return t.data=e,t}}class Ju{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jo{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new jo([])}unionWith(e){let t=new li(pi.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new jo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class Xu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Xu("Invalid base64 string: "+d):d}}(e);return new rs(t)}static fromUint8Array(e){const t=function(l){let d="";for(let g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(e);return new rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const jf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(o){if(En(!!o),"string"==typeof o){let e=0;const t=jf.exec(o);if(En(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const l=new Date(o);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ps(o.seconds),nanos:ps(o.nanos)}}function ps(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function vc(o){return"string"==typeof o?rs.fromBase64String(o):rs.fromUint8Array(o)}function du(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fc(o){const e=o.mapValue.fields.__previous_value__;return du(e)?Fc(e):e}function Ud(o){const e=Ql(o.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class tg{constructor(e,t,l,d,g,b,R,H,q){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=d,this.ssl=g,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=H,this.useFetchStreams=q}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const Ea_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ho(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?du(o)?4:Rt(o)?9007199254740991:10:ln()}function Ka(o,e){if(o===e)return!0;const t=Ho(o);if(t!==Ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Ud(o).isEqual(Ud(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const g=Ql(l.timestampValue),b=Ql(d.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return d=e,vc(o.bytesValue).isEqual(vc(d.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(l,d){return ps(l.geoPointValue.latitude)===ps(d.geoPointValue.latitude)&&ps(l.geoPointValue.longitude)===ps(d.geoPointValue.longitude)}(o,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return ps(l.integerValue)===ps(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const g=ps(l.doubleValue),b=ps(d.doubleValue);return g===b?Yu(g)===Yu(b):isNaN(g)&&isNaN(b)}return!1}(o,e);case 9:return Zu(o.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:return function(l,d){const g=l.mapValue.fields||{},b=d.mapValue.fields||{};if(eg(g)!==eg(b))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===b[R]||!Ka(g[R],b[R])))return!1;return!0}(o,e);default:return ln()}var d}function fu(o,e){return void 0!==(o.values||[]).find(t=>Ka(t,e))}function Jl(o,e){if(o===e)return 0;const t=Ho(o),l=Ho(e);if(t!==l)return Kn(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(o.booleanValue,e.booleanValue);case 2:return function(d,g){const b=ps(d.integerValue||d.doubleValue),R=ps(g.integerValue||g.doubleValue);return b<R?-1:b>R?1:b===R?0:isNaN(b)?isNaN(R)?0:-1:1}(o,e);case 3:return jd(o.timestampValue,e.timestampValue);case 4:return jd(Ud(o),Ud(e));case 5:return Kn(o.stringValue,e.stringValue);case 6:return function(d,g){const b=vc(d),R=vc(g);return b.compareTo(R)}(o.bytesValue,e.bytesValue);case 7:return function(d,g){const b=d.split("/"),R=g.split("/");for(let H=0;H<b.length&&H<R.length;H++){const q=Kn(b[H],R[H]);if(0!==q)return q}return Kn(b.length,R.length)}(o.referenceValue,e.referenceValue);case 8:return function(d,g){const b=Kn(ps(d.latitude),ps(g.latitude));return 0!==b?b:Kn(ps(d.longitude),ps(g.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(d,g){const b=d.values||[],R=g.values||[];for(let H=0;H<b.length&&H<R.length;++H){const q=Jl(b[H],R[H]);if(q)return q}return Kn(b.length,R.length)}(o.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===Ea_mapValue&&g===Ea_mapValue)return 0;if(d===Ea_mapValue)return 1;if(g===Ea_mapValue)return-1;const b=d.fields||{},R=Object.keys(b),H=g.fields||{},q=Object.keys(H);R.sort(),q.sort();for(let ie=0;ie<R.length&&ie<q.length;++ie){const be=Kn(R[ie],q[ie]);if(0!==be)return be;const Ze=Jl(b[R[ie]],H[q[ie]]);if(0!==Ze)return Ze}return Kn(R.length,q.length)}(o.mapValue,e.mapValue);default:throw ln()}}function jd(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return Kn(o,e);const t=Ql(o),l=Ql(e),d=Kn(t.seconds,l.seconds);return 0!==d?d:Kn(t.nanos,l.nanos)}function $s(o){return Nh(o)}function Nh(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(l){const d=Ql(l);return`time(${d.seconds},${d.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?vc(o.bytesValue).toBase64():"referenceValue"in o?Kt.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(e=o.geoPointValue).latitude},${e.longitude})`:"arrayValue"in o?function(l){let d="[",g=!0;for(const b of l.values||[])g?g=!1:d+=",",d+=Nh(b);return d+"]"}(o.arrayValue):"mapValue"in o?function(l){const d=Object.keys(l.fields||{}).sort();let g="{",b=!0;for(const R of d)b?b=!1:g+=",",g+=`${R}:${Nh(l.fields[R])}`;return g+"}"}(o.mapValue):ln();var e}function k(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function Y(o){return!!o&&"integerValue"in o}function le(o){return!!o&&"arrayValue"in o}function xe(o){return!!o&&"nullValue"in o}function He(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function pt(o){return!!o&&"mapValue"in o}function Gt(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return Yl(o.mapValue.fields,(t,l)=>e.mapValue.fields[t]=Gt(l)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gt(o.arrayValue.values[t]);return e}return Object.assign({},o)}function Rt(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!pt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gt(t)}setAll(e){let t=pi.emptyPath(),l={},d=[];e.forEach((b,R)=>{if(!t.isImmediateParentOf(R)){const H=this.getFieldsMap(t);this.applyChanges(H,l,d),l={},d=[],t=R.popLast()}b?l[R.lastSegment()]=Gt(b):d.push(R.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,l,d)}delete(e){const t=this.field(e.popLast());pt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let d=t.mapValue.fields[e.get(l)];pt(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,l){Yl(t,(d,g)=>e[d]=g);for(const d of l)delete e[d]}clone(){return new $r(Gt(this.value))}}function is(o){const e=[];return Yl(o.fields,(t,l)=>{const d=new pi([t]);if(pt(l)){const g=is(l.mapValue).fields;if(0===g.length)e.push(d);else for(const b of g)e.push(d.child(b))}else e.push(d)}),new jo(e)}class ci{constructor(e,t,l,d,g,b,R){this.key=e,this.documentType=t,this.version=l,this.readTime=d,this.createTime=g,this.data=b,this.documentState=R}static newInvalidDocument(e){return new ci(e,0,Pn.min(),Pn.min(),Pn.min(),$r.empty(),0)}static newFoundDocument(e,t,l,d){return new ci(e,1,t,Pn.min(),l,d,0)}static newNoDocument(e,t){return new ci(e,2,t,Pn.min(),Pn.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,Pn.min(),Pn.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class to{constructor(e,t){this.position=e,this.inclusive=t}}function Gs(o,e,t){let l=0;for(let d=0;d<o.position.length;d++){const g=e[d],b=o.position[d];if(l=g.field.isKeyField()?Kt.comparator(Kt.fromName(b.referenceValue),t.key):Jl(b,t.data.field(g.field)),"desc"===g.dir&&(l*=-1),0!==l)break}return l}function gl(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!Ka(o.position[t],e.position[t]))return!1;return!0}class bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y_(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class ng{}class Gr extends ng{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new Q_(e,t,l):"array-contains"===t?new J_(e,l):"in"===t?new Lv(e,l):"not-in"===t?new nd(e,l):"array-contains-any"===t?new Hf(e,l):new Gr(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new Fv(e,l):new Mm(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jl(t,this.value)):null!==t&&Ho(this.value)===Ho(t)&&this.matchesComparison(Jl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qr extends ng{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Qr(e,t)}matches(e){return ml(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ml(o){return"and"===o.op}function wc(o){return function Mh(o){for(const e of o.filters)if(e instanceof Qr)return!1;return!0}(o)&&ml(o)}function Hd(o){if(o instanceof Gr)return o.field.canonicalString()+o.op.toString()+$s(o.value);if(wc(o))return o.filters.map(e=>Hd(e)).join(",");{const e=o.filters.map(t=>Hd(t)).join(",");return`${o.op}(${e})`}}function Lc(o,e){return o instanceof Gr?(t=o,(l=e)instanceof Gr&&t.op===l.op&&t.field.isEqual(l.field)&&Ka(t.value,l.value)):o instanceof Qr?function(t,l){return l instanceof Qr&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((d,g,b)=>d&&Lc(g,l.filters[b]),!0)}(o,e):void ln();var t,l}function Rh(o){return o instanceof Gr?`${(e=o).field.canonicalString()} ${e.op} ${$s(e.value)}`:o instanceof Qr?function(e){return e.op.toString()+" {"+e.getFilters().map(Rh).join(" ,")+"}"}(o):"Filter";var e}class Q_ extends Gr{constructor(e,t,l){super(e,t,l),this.key=Kt.fromName(l.referenceValue)}matches(e){const t=Kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fv extends Gr{constructor(e,t){super(e,"in",t),this.keys=ig(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mm extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=ig(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ig(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>Kt.fromName(l.referenceValue))}class J_ extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return le(t)&&fu(t.arrayValue,this.value)}}class Lv extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fu(this.value.arrayValue,t)}}class nd extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fu(this.value.arrayValue,t)}}class Hf extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!le(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>fu(this.value.arrayValue,l))}}class X_{constructor(e,t=null,l=[],d=[],g=null,b=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=d,this.limit=g,this.startAt=b,this.endAt=R,this.dt=null}}function $f(o,e=null,t=[],l=[],d=null,g=null,b=null){return new X_(o,e,t,l,d,g,b)}function pu(o){const e=sn(o);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>Hd(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(d=l).field.canonicalString()+d.dir;var d}).join(","),co(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>$s(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>$s(l)).join(",")),e.dt=t}return e.dt}function xh(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<o.orderBy.length;t++)if(!Y_(o.orderBy[t],e.orderBy[t]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let t=0;t<o.filters.length;t++)if(!Lc(o.filters[t],e.filters[t]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!gl(o.startAt,e.startAt)&&gl(o.endAt,e.endAt)}function sg(o){return Kt.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}class _l{constructor(e,t=null,l=[],d=[],g=null,b="F",R=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=d,this.limit=g,this.limitType=b,this.startAt=R,this.endAt=H,this.wt=null,this._t=null}}function yl(o){return new _l(o)}function rd(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function $d(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function id(o){for(const e of o.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Rm(o){return null!==o.collectionGroup}function Vc(o){const e=sn(o);if(null===e.wt){e.wt=[];const t=id(e),l=$d(e);if(null!==t&&null===l)t.isKeyField()||e.wt.push(new bc(t)),e.wt.push(new bc(pi.keyField(),"asc"));else{let d=!1;for(const g of e.explicitOrderBy)e.wt.push(g),g.field.isKeyField()&&(d=!0);if(!d){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new bc(pi.keyField(),g))}}}return e.wt}function Ds(o){const e=sn(o);if(!e._t)if("F"===e.limitType)e._t=$f(e.path,e.collectionGroup,Vc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of Vc(e))t.push(new bc(g.field,"desc"===g.dir?"asc":"desc"));const l=e.endAt?new to(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new to(e.startAt.position,e.startAt.inclusive):null;e._t=$f(e.path,e.collectionGroup,t,e.filters,e.limit,l,d)}return e._t}function gu(o,e){e.getFirstInequalityField(),id(o);const t=o.filters.concat([e]);return new _l(o.path,o.collectionGroup,o.explicitOrderBy.slice(),t,o.limit,o.limitType,o.startAt,o.endAt)}function Gd(o,e,t){return new _l(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function sd(o,e){return xh(Ds(o),Ds(e))&&o.limitType===e.limitType}function ty(o){return`${pu(Ds(o))}|lt:${o.limitType}`}function vl(o){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>Rh(l)).join(", ")}]`),co(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(d=l).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>$s(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>$s(l)).join(",")),`Target(${t})`}(Ds(o))}; limitType=${o.limitType})`}function mu(o,e){return e.isFoundDocument()&&function(t,l){const d=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):Kt.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(o,e)&&function(t,l){for(const d of Vc(t))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(o,e)&&function(t,l){for(const d of t.filters)if(!d.matches(l))return!1;return!0}(o,e)&&(l=e,!((t=o).startAt&&!function(d,g,b){const R=Gs(d,g,b);return d.inclusive?R<=0:R<0}(t.startAt,Vc(t),l)||t.endAt&&!function(d,g,b){const R=Gs(d,g,b);return d.inclusive?R>=0:R>0}(t.endAt,Vc(t),l)));var t,l}function kh(o){return(e,t)=>{let l=!1;for(const d of Vc(o)){const g=Om(d,e,t);if(0!==g)return g;l=l||d.field.isKeyField()}return 0}}function Om(o,e,t){const l=o.field.isKeyField()?Kt.comparator(e.key,t.key):function(d,g,b){const R=g.data.field(d),H=b.data.field(d);return null!==R&&null!==H?Jl(R,H):ln()}(o.field,e,t);switch(o.dir){case"asc":return l;case"desc":return-1*l;default:return ln()}}class bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[d,g]of l)if(this.equalsFn(d,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),d=this.inner[l];if(void 0===d)return this.inner[l]=[[e,t]],void this.innerSize++;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],e))return void(d[g]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return 1===l.length?delete this.inner[t]:l.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(t,l)=>{for(const[d,g]of l)e(d,g)})}isEmpty(){return Uf(this.inner)}size(){return this.innerSize}}const Gf=new mi(Kt.comparator);function sa(){return Gf}const _u=new mi(Kt.comparator);function yu(...o){let e=_u;for(const t of o)e=e.insert(t.key,t);return e}function Wf(o){let e=_u;return o.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function $o(){return vu()}function Wd(){return vu()}function vu(){return new bl(o=>o.toString(),(o,e)=>o.isEqual(e))}const Fh=new mi(Kt.comparator),ny=new li(Kt.comparator);function dr(...o){let e=ny;for(const t of o)e=e.add(t);return e}const ry=new li(Kn);function Kf(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function qf(o){return{integerValue:""+o}}function bu(o,e){return function Fd(o){return"number"==typeof o&&Number.isInteger(o)&&!Yu(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}(e)?qf(e):Kf(o,e)}class Bc{constructor(){this._=void 0}}function wu(o,e,t){return o instanceof Kd?function(l,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&du(d)&&(d=Fc(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(t,e):o instanceof Eu?ag(o,e):o instanceof od?Zf(o,e):function(l,d){const g=zd(l,d),b=Yf(g)+Yf(l.gt);return Y(g)&&Y(l.gt)?qf(b):Kf(l.serializer,b)}(o,e)}function Pm(o,e,t){return o instanceof Eu?ag(o,e):o instanceof od?Zf(o,e):t}function zd(o,e){return o instanceof Uc?Y(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class Kd extends Bc{}class Eu extends Bc{constructor(e){super(),this.elements=e}}function ag(o,e){const t=lg(e);for(const l of o.elements)t.some(d=>Ka(d,l))||t.push(l);return{arrayValue:{values:t}}}class od extends Bc{constructor(e){super(),this.elements=e}}function Zf(o,e){let t=lg(e);for(const l of o.elements)t=t.filter(d=>!Ka(d,l));return{arrayValue:{values:t}}}class Uc extends Bc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Yf(o){return ps(o.integerValue||o.doubleValue)}function lg(o){return le(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class ug{constructor(e,t){this.version=e,this.transformResults=t}}class gs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class hg{}function iy(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new ad(o.key,gs.none()):new Zd(o.key,o.data,gs.none());{const t=o.data,l=$r.empty();let d=new li(pi.comparator);for(let g of e.fields)if(!d.has(g)){let b=t.field(g);null===b&&g.length>1&&(g=g.popLast(),b=t.field(g)),null===b?l.delete(g):l.set(g,b),d=d.add(g)}return new jc(o.key,l,new jo(d.toArray()),gs.none())}}function sy(o,e,t){o instanceof Zd?function(l,d,g){const b=l.value.clone(),R=Da(l.fieldTransforms,d,g.transformResults);b.setAll(R),d.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(o,e,t):o instanceof jc?function(l,d,g){if(!dg(l.precondition,d))return void d.convertToUnknownDocument(g.version);const b=Da(l.fieldTransforms,d,g.transformResults),R=d.data;R.setAll(Vv(l)),R.setAll(b),d.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oa(o,e,t,l){return o instanceof Zd?function(d,g,b,R){if(!dg(d.precondition,g))return b;const H=d.value.clone(),q=Qf(d.fieldTransforms,R,g);return H.setAll(q),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null}(o,e,t,l):o instanceof jc?function(d,g,b,R){if(!dg(d.precondition,g))return b;const H=Qf(d.fieldTransforms,R,g),q=g.data;return q.setAll(Vv(d)),q.setAll(H),g.convertToFoundDocument(g.version,q).setHasLocalMutations(),null===b?null:b.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ie=>ie.field))}(o,e,t,l):(b=t,dg(o.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function qd(o,e){let t=null;for(const l of o.fieldTransforms){const d=e.data.field(l.field),g=zd(l.transform,d||null);null!=g&&(null===t&&(t=$r.empty()),t.set(l.field,g))}return t||null}function km(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=o.fieldTransforms)&&void 0===l||t&&l&&Zu(t,l,(d,g)=>function cg(o,e){return o.field.isEqual(e.field)&&(l=e.transform,(t=o.transform)instanceof Eu&&l instanceof Eu||t instanceof od&&l instanceof od?Zu(t.elements,l.elements,Ka):t instanceof Uc&&l instanceof Uc?Ka(t.gt,l.gt):t instanceof Kd&&l instanceof Kd);var t,l}(d,g))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var t,l}class Zd extends hg{constructor(e,t,l,d=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class jc extends hg{constructor(e,t,l,d,g=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=d,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=o.data.field(t);e.set(t,l)}}),e}function Da(o,e,t){const l=new Map;En(o.length===t.length);for(let d=0;d<t.length;d++){const g=o[d],b=g.transform,R=e.data.field(g.field);l.set(g.field,Pm(b,R,t[d]))}return l}function Qf(o,e,t){const l=new Map;for(const d of o){const g=d.transform,b=t.data.field(d.field);l.set(d.field,wu(g,b,e))}return l}class ad extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fm extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jf{constructor(e,t,l,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=d}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const g=this.mutations[d];g.key.isEqual(e.key)&&sy(g,e,l[d])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=oa(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=oa(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=Wd();return this.mutations.forEach(d=>{const g=e.get(d.key),b=g.overlayedDocument;let R=this.applyToLocalView(b,g.mutatedFields);R=t.has(d.key)?null:R;const H=iy(b,R);null!==H&&l.set(d.key,H),b.isValidDocument()||b.convertToNoDocument(Pn.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dr())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(t,l)=>km(t,l))&&Zu(this.baseMutations,e.baseMutations,(t,l)=>km(t,l))}}class Lh{constructor(e,t,l,d){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=d}static from(e,t,l){En(e.mutations.length===l.length);let d=Fh;const g=e.mutations;for(let b=0;b<g.length;b++)d=d.insert(g[b].key,l[b].version);return new Lh(e,t,l,d)}}class Lm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ci,Jr;function Xf(o){switch(o){default:return ln();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function Vm(o){if(void 0===o)return ti("GRPC error has no .code"),it.UNKNOWN;switch(o){case Ci.OK:return it.OK;case Ci.CANCELLED:return it.CANCELLED;case Ci.UNKNOWN:return it.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return it.INTERNAL;case Ci.UNAVAILABLE:return it.UNAVAILABLE;case Ci.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ci.NOT_FOUND:return it.NOT_FOUND;case Ci.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ci.ABORTED:return it.ABORTED;case Ci.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ci.DATA_LOSS:return it.DATA_LOSS;default:return ln()}}(Jr=Ci||(Ci={}))[Jr.OK=0]="OK",Jr[Jr.CANCELLED=1]="CANCELLED",Jr[Jr.UNKNOWN=2]="UNKNOWN",Jr[Jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jr[Jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jr[Jr.NOT_FOUND=5]="NOT_FOUND",Jr[Jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jr[Jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jr[Jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jr[Jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jr[Jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jr[Jr.ABORTED=10]="ABORTED",Jr[Jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jr[Jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jr[Jr.INTERNAL=13]="INTERNAL",Jr[Jr.UNAVAILABLE=14]="UNAVAILABLE",Jr[Jr.DATA_LOSS=15]="DATA_LOSS";class oy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return pg}static getOrCreateInstance(){return null===pg&&(pg=new oy),pg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let pg=null;const ep=new Xs([4294967295,4294967295],0);function ld(o){const e=function qa(){return new TextEncoder}().encode(o),t=new iu;return t.update(e),new Uint8Array(t.digest())}function Bv(o){const e=new DataView(o.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),d=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new Xs([t,l],0),new Xs([d,g],0)]}class $c{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new Gc(`Invalid padding: ${t}`);if(l<0)throw new Gc(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new Gc(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new Gc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Xs.fromNumber(this.It)}Et(e,t,l){let d=e.add(t.multiply(Xs.fromNumber(l)));return 1===d.compare(ep)&&(d=new Xs([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ld(e),[l,d]=Bv(t);for(let g=0;g<this.hashCount;g++){const b=this.Et(l,d,g);if(!this.At(b))return!1}return!0}static create(e,t,l){const d=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),b=new $c(g,d,t);return l.forEach(R=>b.insert(R)),b}insert(e){if(0===this.It)return;const t=ld(e),[l,d]=Bv(t);for(let g=0;g<this.hashCount;g++){const b=this.Et(l,d,g);this.Rt(b)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,t,l,d,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=d,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const d=new Map;return d.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new Vh(Pn.min(),d,new mi(Kn),sa(),dr())}}class cd{constructor(e,t,l,d,g){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=d,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new cd(l,t,dr(),dr(),dr())}}class gg{constructor(e,t,l,d){this.Pt=e,this.removedTargetIds=t,this.key=l,this.bt=d}}class mg{constructor(e,t){this.targetId=e,this.Vt=t}}class Bm{constructor(e,t,l=rs.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=d}}class tp{constructor(){this.St=0,this.Dt=E(),this.Ct=rs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=dr(),t=dr(),l=dr();return this.Dt.forEach((d,g)=>{switch(g){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:l=l.add(d);break;default:ln()}}),new cd(this.Ct,this.xt,e,t,l)}Ft(){this.Nt=!1,this.Dt=E()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ay{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=sa(),this.zt=_g(),this.Wt=new mi(Kn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const l=this.Zt(t);switch(e.state){case 0:this.te(t)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(t);break;case 3:this.te(t)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),l.$t(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((l,d)=>{this.te(d)&&t(d)})}ne(e){var t;const l=e.targetId,d=e.Vt.count,g=this.se(l);if(g){const b=g.target;if(sg(b))if(0===d){const R=new Kt(b.path);this.Yt(l,R,ci.newNoDocument(R,Pn.min()))}else En(1===d);else{const R=this.ie(l);if(R!==d){const H=this.re(e,R);0!==H&&(this.ee(l),this.Wt=this.Wt.insert(l,2===H?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=oy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(q,ie,be){var Ze,yt,Wt,dn,wn,Cr;const Xr={localCacheCount:ie,existenceFilterCount:be.count},mr=be.unchangedNames;return mr&&(Xr.bloomFilter={applied:0===q,hashCount:null!==(Ze=mr?.hashCount)&&void 0!==Ze?Ze:0,bitmapLength:null!==(dn=null===(Wt=null===(yt=mr?.bits)||void 0===yt?void 0:yt.bitmap)||void 0===Wt?void 0:Wt.length)&&void 0!==dn?dn:0,padding:null!==(Cr=null===(wn=mr?.bits)||void 0===wn?void 0:wn.padding)&&void 0!==Cr?Cr:0}),Xr}(H,R,e.Vt))}}}}re(e,t){const{unchangedNames:l,count:d}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:g="",padding:b=0},hashCount:R=0}=l;let H,q;try{H=vc(g).toUint8Array()}catch(ie){if(ie instanceof Xu)return eo("Decoding the base64 bloom filter in existence filter failed ("+ie.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ie}try{q=new $c(H,b,R)}catch(ie){return eo(ie instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",ie),1}return 0===q.It?1:d!==t-this.oe(e.targetId,q)?2:0}oe(e,t){const l=this.Gt.getRemoteKeysForTarget(e);let d=0;return l.forEach(g=>{const b=this.Gt.ue(),R=`projects/${b.projectId}/databases/${b.database}/documents/${g.path.canonicalString()}`;t.vt(R)||(this.Yt(e,g,null),d++)}),d}ce(e){const t=new Map;this.Qt.forEach((g,b)=>{const R=this.se(b);if(R){if(g.current&&sg(R.target)){const H=new Kt(R.target.path);null!==this.jt.get(H)||this.ae(b,H)||this.Yt(b,H,ci.newNoDocument(H,e))}g.Mt&&(t.set(b,g.Ot()),g.Ft())}});let l=dr();this.zt.forEach((g,b)=>{let R=!0;b.forEachWhile(H=>{const q=this.se(H);return!q||"TargetPurposeLimboResolution"===q.purpose||(R=!1,!1)}),R&&(l=l.add(g))}),this.jt.forEach((g,b)=>b.setReadTime(e));const d=new Vh(e,t,this.Wt,this.jt,l);return this.jt=sa(),this.zt=_g(),this.Wt=new mi(Kn),d}Jt(e,t){if(!this.te(e))return;const l=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,l),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,l){if(!this.te(e))return;const d=this.Zt(e);this.ae(e,t)?d.Bt(t,1):d.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),l&&(this.jt=this.jt.insert(t,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new tp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new li(Kn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new tp),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _g(){return new mi(Kt.comparator)}function E(){return new mi(Kt.comparator)}const p=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),C=(()=>({and:"AND",or:"OR"}))();class j{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J(o,e){return o.useProto3Json||co(e)?e:{value:e}}function ge(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ue(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function Nt(o,e){return ge(o,e.toTimestamp())}function ft(o){return En(!!o),Pn.fromTimestamp(function(e){const t=Ql(e);return new ni(t.seconds,t.nanos)}(o))}function nn(o,e){return(t=o,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yn(o){const e=Un.fromString(o);return En($m(e)),e}function gr(o,e){return nn(o.databaseId,e.path)}function _i(o,e){const t=yn(e);if(t.get(1)!==o.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new Kt(Bh(t))}function wl(o,e){return nn(o.databaseId,e)}function Go(o){return new Un(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Bh(o){return En(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function yg(o,e,t){return{name:gr(o,e),fields:t.value.mapValue.fields}}function Wc(o,e){return{documents:[wl(o,e.path)]}}function ud(o,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=wl(o,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wl(o,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const d=function(H){if(0!==H.length)return Hm(Qr.create(H,"and"))}(e.filters);d&&(t.structuredQuery.where=d);const g=function(H){if(0!==H.length)return H.map(q=>{return{field:zc((ie=q).field),direction:wg(ie.dir)};var ie})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const b=J(o,e.limit);var R,H;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function ce(o){let e=function Ca(o){const e=yn(o);return 4===e.length?Un.emptyPath():Bh(e)}(o.parent);const t=o.structuredQuery,l=t.from?t.from.length:0;let d=null;if(l>0){En(1===l);const ie=t.from[0];ie.allDescendants?d=ie.collectionId:e=e.child(ie.collectionId)}let g=[];t.where&&(g=function(ie){const be=bg(ie);return be instanceof Qr&&wc(be)?be.getFilters():[be]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(ie=>{return new bc(Cc((be=ie).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(be.direction));var be}));let R=null;t.limit&&(R=function(ie){let be;return be="object"==typeof ie?ie.value:ie,co(be)?null:be}(t.limit));let H=null;var ie;t.startAt&&(H=new to((ie=t.startAt).values||[],!!ie.before));let q=null;return t.endAt&&(q=function(ie){return new to(ie.values||[],!ie.before)}(t.endAt)),function Ph(o,e,t,l,d,g,b,R){return new _l(o,e,t,l,d,g,b,R)}(e,d,b,g,R,"F",H,q)}function bg(o){return void 0!==o.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cc(e.unaryFilter.field);return Gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=Cc(e.unaryFilter.field);return Gr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Cc(e.unaryFilter.field);return Gr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Cc(e.unaryFilter.field);return Gr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(o):void 0!==o.fieldFilter?Gr.create(Cc((e=o).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==o.compositeFilter?function(e){return Qr.create(e.compositeFilter.filters.map(t=>bg(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(o):ln();var e}function wg(o){return p[o]}function ly(o){return _[o]}function jm(o){return C[o]}function zc(o){return{fieldPath:o.canonicalString()}}function Cc(o){return pi.fromServerFormat(o.fieldPath)}function Hm(o){return o instanceof Gr?function(e){if("=="===e.op){if(He(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NAN"}};if(xe(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(He(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NAN"}};if(xe(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(e.field),op:ly(e.op),value:e.value}}}(o):o instanceof Qr?function(e){const t=e.getFilters().map(l=>Hm(l));return 1===t.length?t[0]:{compositeFilter:{op:jm(e.op),filters:t}}}(o):ln()}function dd(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $m(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class El{constructor(e,t,l,d,g=Pn.min(),b=Pn.min(),R=rs.EMPTY_BYTE_STRING,H=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=d,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=H}withSequenceNumber(e){return new El(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gm{constructor(e){this.fe=e}}function Ic(o){const e=ce({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Gd(e,e.limit,"L"):e}class Cu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ps(e.integerValue));else if("doubleValue"in e){const l=ps(e.doubleValue);isNaN(l)?this.ye(t,13):(this.ye(t,15),Yu(l)?t.pe(0):t.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(t,20),"string"==typeof l?t.Ie(l):(t.Ie(`${l.seconds||""}`),t.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(t,45),t.pe(l.latitude||0),t.pe(l.longitude||0)}else"mapValue"in e?Rt(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const l=e.fields||{};this.ye(t,55);for(const d of Object.keys(l))this.Te(d,t),this.me(l[d],t)}Pe(e,t){const l=e.values||[];this.ye(t,50);for(const d of l)this.me(d,t)}ve(e,t){this.ye(t,37),Kt.fromName(e).path.forEach(l=>{this.ye(t,60),this.be(l,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Cu.Ve=new Cu;class Su{constructor(){this.rn=new zm}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(T.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(T.min())}updateCollectionGroup(e,t,l){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class zm{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),d=this.index[t]||new li(Un.comparator),g=!d.has(l);return this.index[t]=d.add(l),g}has(e){const t=e.lastSegment(),l=e.popLast(),d=this.index[t];return d&&d.has(l)}getEntries(e){return(this.index[e]||new li(Un.comparator)).toArray()}}class Ia{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class Xd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xd(0)}static Mn(){return new Xd(-1)}}class Nu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qh{constructor(e,t,l,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=d}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(l=d,this.remoteDocumentCache.getEntry(e,t))).next(d=>(null!==l&&oa(l.mutation,d,jo.empty(),ni.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,dr()).next(()=>l))}getLocalViewOfDocuments(e,t,l=dr()){const d=$o();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,l).next(g=>{let b=yu();return g.forEach((R,H)=>{b=b.insert(R,H.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const l=$o();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,dr()))}populateOverlays(e,t,l){const d=[];return l.forEach(g=>{t.has(g)||d.push(g)}),this.documentOverlayCache.getOverlays(e,d).next(g=>{g.forEach((b,R)=>{t.set(b,R)})})}computeViews(e,t,l,d){let g=sa();const b=vu(),R=vu();return t.forEach((H,q)=>{const ie=l.get(q.key);d.has(q.key)&&(void 0===ie||ie.mutation instanceof jc)?g=g.insert(q.key,q):void 0!==ie?(b.set(q.key,ie.mutation.getFieldMask()),oa(ie.mutation,q,ie.mutation.getFieldMask(),ni.now())):b.set(q.key,jo.empty())}),this.recalculateAndSaveOverlays(e,g).next(H=>(H.forEach((q,ie)=>b.set(q,ie)),t.forEach((q,ie)=>{var be;return R.set(q,new Nu(ie,null!==(be=b.get(q))&&void 0!==be?be:null))}),R))}recalculateAndSaveOverlays(e,t){const l=vu();let d=new mi((b,R)=>b-R),g=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const R of b)R.keys().forEach(H=>{const q=t.get(H);if(null===q)return;let ie=l.get(H)||jo.empty();ie=R.applyToLocalView(q,ie),l.set(H,ie);const be=(d.get(R.batchId)||dr()).add(H);d=d.insert(R.batchId,be)})}).next(()=>{const b=[],R=d.getReverseIterator();for(;R.hasNext();){const H=R.getNext(),q=H.key,ie=H.value,be=Wd();ie.forEach(Ze=>{if(!g.has(Ze)){const yt=iy(t.get(Ze),l.get(Ze));null!==yt&&be.set(Ze,yt),g=g.add(Ze)}}),b.push(this.documentOverlayCache.saveOverlays(e,q,be))}return ae.waitFor(b)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return Kt.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Rm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var d}getNextDocuments(e,t,l,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,d).next(g=>{const b=d-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,d-g.size):ae.resolve($o());let R=-1,H=g;return b.next(q=>ae.forEach(q,(ie,be)=>(R<be.largestBatchId&&(R=be.largestBatchId),g.get(ie)?ae.resolve():this.remoteDocumentCache.getEntry(e,ie).next(Ze=>{H=H.insert(ie,Ze)}))).next(()=>this.populateOverlays(e,q,g)).next(()=>this.computeViews(e,H,q,dr())).next(ie=>({batchId:R,changes:Wf(ie)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Kt(t)).next(l=>{let d=yu();return l.isFoundDocument()&&(d=d.insert(l.key,l)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const d=t.collectionGroup;let g=yu();return this.indexManager.getCollectionParents(e,d).next(b=>ae.forEach(b,R=>{const H=(q=t,ie=R.child(d),new _l(ie,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,ie;return this.getDocumentsMatchingCollectionQuery(e,H,l).next(q=>{q.forEach((ie,be)=>{g=g.insert(ie,be)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,d))).next(g=>{d.forEach((R,H)=>{const q=H.getKey();null===g.get(q)&&(g=g.insert(q,ci.newInvalidDocument(q)))});let b=yu();return g.forEach((R,H)=>{const q=d.get(R);void 0!==q&&oa(q.mutation,H,jo.empty(),ni.now()),mu(t,H)&&(b=b.insert(R,H))}),b})}}class Ym{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var l;return this.cs.set(t.id,{id:(l=t).id,version:l.version,createTime:ft(l.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(l=t).name,query:Ic(l.bundledQuery),readTime:ft(l.readTime)}),ae.resolve();var l}}class by{constructor(){this.overlays=new mi(Kt.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const l=$o();return ae.forEach(t,d=>this.getOverlay(e,d).next(g=>{null!==g&&l.set(d,g)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((d,g)=>{this.we(e,t,g)}),ae.resolve()}removeOverlaysForBatchId(e,t,l){const d=this.ls.get(l);return void 0!==d&&(d.forEach(g=>this.overlays=this.overlays.remove(g)),this.ls.delete(l)),ae.resolve()}getOverlaysForCollection(e,t,l){const d=$o(),g=t.length+1,b=new Kt(t.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const H=R.getNext().value,q=H.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===g&&H.largestBatchId>l&&d.set(H.getKey(),H)}return ae.resolve(d)}getOverlaysForCollectionGroup(e,t,l,d){let g=new mi((q,ie)=>q-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const q=b.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>l){let ie=g.get(q.largestBatchId);null===ie&&(ie=$o(),g=g.insert(q.largestBatchId,ie)),ie.set(q.getKey(),q)}}const R=$o(),H=g.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((q,ie)=>R.set(q,ie)),!(R.size()>=d)););return ae.resolve(R)}we(e,t,l){const d=this.overlays.get(l.key);if(null!==d){const b=this.ls.get(d.largestBatchId).delete(l.key);this.ls.set(d.largestBatchId,b)}this.overlays=this.overlays.insert(l.key,new Lm(t,l));let g=this.ls.get(t);void 0===g&&(g=dr(),this.ls.set(t,g)),this.ls.set(t,g.add(l.key))}}class wy{constructor(){this.fs=new li(aa.ds),this.ws=new li(aa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const l=new aa(e,t);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.ys(new aa(e,t))}ps(e,t){e.forEach(l=>this.removeReference(l,t))}Is(e){const t=new Kt(new Un([])),l=new aa(t,e),d=new aa(t,e+1),g=[];return this.ws.forEachInRange([l,d],b=>{this.ys(b),g.push(b.key)}),g}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Kt(new Un([])),l=new aa(t,e),d=new aa(t,e+1);let g=dr();return this.ws.forEachInRange([l,d],b=>{g=g.add(b.key)}),g}containsKey(e){const t=new aa(e,0),l=this.fs.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class aa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Kt.comparator(e.key,t.key)||Kn(e.As,t.As)}static _s(e,t){return Kn(e.As,t.As)||Kt.comparator(e.key,t.key)}}class kw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new li(aa.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,d){const g=this.vs;this.vs++;const b=new Jf(g,t,l,d);this.mutationQueue.push(b);for(const R of d)this.Rs=this.Rs.add(new aa(R.key,g)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ae.resolve(b)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.bs(t+1),g=d<0?0:d;return ae.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new aa(t,0),d=new aa(t,Number.POSITIVE_INFINITY),g=[];return this.Rs.forEachInRange([l,d],b=>{const R=this.Ps(b.As);g.push(R)}),ae.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new li(Kn);return t.forEach(d=>{const g=new aa(d,0),b=new aa(d,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([g,b],R=>{l=l.add(R.As)})}),ae.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,d=l.length+1;let g=l;Kt.isDocumentKey(g)||(g=g.child(""));const b=new aa(new Kt(g),0);let R=new li(Kn);return this.Rs.forEachWhile(H=>{const q=H.key.path;return!!l.isPrefixOf(q)&&(q.length===d&&(R=R.add(H.As)),!0)},b),ae.resolve(this.Vs(R))}Vs(e){const t=[];return e.forEach(l=>{const d=this.Ps(l);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){En(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return ae.forEach(t.mutations,d=>{const g=new aa(d.key,t.batchId);return l=l.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,t){const l=new aa(t,0),d=this.Rs.firstAfterOrEqual(l);return ae.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Xv{constructor(e){this.Ds=e,this.docs=new mi(Kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,d=this.docs.get(l),g=d?d.size:0,b=this.Ds(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:b}),this.size+=b-g,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return ae.resolve(l?l.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let l=sa();return t.forEach(d=>{const g=this.docs.get(d);l=l.insert(d,g?g.document.mutableCopy():ci.newInvalidDocument(d))}),ae.resolve(l)}getDocumentsMatchingQuery(e,t,l,d){let g=sa();const b=t.path,R=new Kt(b.child("")),H=this.docs.getIteratorFrom(R);for(;H.hasNext();){const{key:q,value:{document:ie}}=H.getNext();if(!b.isPrefixOf(q.path))break;q.path.length>b.length+1||L(N(ie),l)<=0||(d.has(ie.key)||mu(t,ie))&&(g=g.insert(ie.key,ie.mutableCopy()))}return ae.resolve(g)}getAllFromCollectionGroup(e,t,l,d){ln()}Cs(e,t){return ae.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new e0(this)}getSize(e){return ae.resolve(this.size)}}class e0 extends class my{constructor(){this.changes=new bl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?ae.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((l,d)=>{d.isValidDocument()?t.push(this.os.addEntry(e,d)):this.os.removeEntry(l)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class t0{constructor(e){this.persistence=e,this.xs=new bl(t=>pu(t),xh),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wy,this.targetCount=0,this.Ms=Xd.kn()}forEachTarget(e,t){return this.xs.forEach((l,d)=>t(d)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,l){let d=0;const g=[];return this.xs.forEach((b,R)=>{R.sequenceNumber<=t&&null===l.get(R.targetId)&&(this.xs.delete(b),g.push(this.removeMatchingKeysForTargetId(e,R.targetId)),d++)}),ae.waitFor(g).next(()=>d)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const l=this.xs.get(t)||null;return ae.resolve(l)}addMatchingKeys(e,t,l){return this.ks.gs(t,l),ae.resolve()}removeMatchingKeys(e,t,l){this.ks.ps(t,l);const d=this.persistence.referenceDelegate,g=[];return d&&t.forEach(b=>{g.push(d.markPotentiallyOrphaned(e,b))}),ae.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const l=this.ks.Es(t);return ae.resolve(l)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class Ey{constructor(e,t){this.$s={},this.overlays={},this.Os=new Uo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new t0(this),this.indexManager=new Su,this.remoteDocumentCache=new Xv(l=>this.referenceDelegate.Ls(l)),this.serializer=new Gm(t),this.qs=new Ym(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new by,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.$s[e.toKey()];return l||(l=new kw(t,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,l){Ft("MemoryPersistence","Starting transaction:",e);const d=new Sb(this.Os.next());return this.referenceDelegate.Us(),l(d).next(g=>this.referenceDelegate.Ks(d).next(()=>g)).toPromise().then(g=>(d.raiseOnCommittedEvent(),g))}Gs(e,t){return ae.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,t)))}}class Sb extends class ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Mu{constructor(e){this.persistence=e,this.Qs=new wy,this.js=null}static zs(e){return new Mu(e)}get Ws(){if(this.js)return this.js;throw ln()}addReference(e,t,l){return this.Qs.addReference(l,t),this.Ws.delete(l.toString()),ae.resolve()}removeReference(e,t,l){return this.Qs.removeReference(l,t),this.Ws.add(l.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(d=>this.Ws.add(d.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(g=>this.Ws.add(g.toString()))}).next(()=>l.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,l=>{const d=Kt.fromPath(l);return this.Hs(e,d).next(g=>{g||t.removeEntry(d,Pn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(l=>{l?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Qm{constructor(e,t,l,d){this.targetId=e,this.fromCache=t,this.Fi=l,this.Bi=d}static Li(e,t){let l=dr(),d=dr();for(const g of t.docChanges)switch(g.type){case 0:l=l.add(g.doc.key);break;case 1:d=d.add(g.doc.key)}return new Qm(e,t.fromCache,l,d)}}class Iy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,l,d){return this.Ki(e,t).next(g=>g||this.Gi(e,t,d,l)).next(g=>g||this.Qi(e,t))}Ki(e,t){if(rd(t))return ae.resolve(null);let l=Ds(t);return this.indexManager.getIndexType(e,l).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=Gd(t,null,"F"),l=Ds(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(g=>{const b=dr(...g);return this.Ui.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,l).next(H=>{const q=this.ji(t,R);return this.zi(t,q,b,H.readTime)?this.Ki(e,Gd(t,null,"F")):this.Wi(e,q,t,H)}))})))}Gi(e,t,l,d){return rd(t)||d.isEqual(Pn.min())?this.Qi(e,t):this.Ui.getDocuments(e,l).next(g=>{const b=this.ji(t,g);return this.zi(t,b,l,d)?this.Qi(e,t):(pc()<=tt.in.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),vl(t)),this.Wi(e,b,t,function A(o,e){const t=o.toTimestamp().seconds,l=o.toTimestamp().nanoseconds+1,d=Pn.fromTimestamp(1e9===l?new ni(t+1,0):new ni(t,l));return new T(d,Kt.empty(),e)}(d,-1)))})}ji(e,t){let l=new li(kh(e));return t.forEach((d,g)=>{mu(e,g)&&(l=l.add(g))}),l}zi(e,t,l,d){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(d)>0)}Qi(e,t){return pc()<=tt.in.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",vl(t)),this.Ui.getDocumentsMatchingQuery(e,t,T.min())}Wi(e,t,l,d){return this.Ui.getDocumentsMatchingQuery(e,l,d).next(g=>(t.forEach(b=>{g=g.insert(b.key,b)}),g))}}class Ai{constructor(e,t,l,d){this.persistence=e,this.Hi=t,this.serializer=d,this.Ji=new mi(Kn),this.Yi=new bl(g=>pu(g),xh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Pr(o,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,Be.Z)(function*(o,e){const t=sn(o);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let d;return t.mutationQueue.getAllMutationBatches(l).next(g=>(d=g,t.tr(e),t.mutationQueue.getAllMutationBatches(l))).next(g=>{const b=[],R=[];let H=dr();for(const q of d){b.push(q.batchId);for(const ie of q.mutations)H=H.add(ie.key)}for(const q of g){R.push(q.batchId);for(const ie of q.mutations)H=H.add(ie.key)}return t.localDocuments.getDocuments(l,H).next(q=>({er:q,removedBatchIds:b,addedBatchIds:R}))})})}),Kc.apply(this,arguments)}function Fi(o,e){const t=sn(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const d=e.batch.keys(),g=t.Zi.newChangeBuffer({trackRemovals:!0});return function(b,R,H,q){const ie=H.batch,be=ie.keys();let Ze=ae.resolve();return be.forEach(yt=>{Ze=Ze.next(()=>q.getEntry(R,yt)).next(Wt=>{const dn=H.docVersions.get(yt);En(null!==dn),Wt.version.compareTo(dn)<0&&(ie.applyToRemoteDocument(Wt,H),Wt.isValidDocument()&&(Wt.setReadTime(H.commitVersion),q.addEntry(Wt)))})}),Ze.next(()=>b.mutationQueue.removeMutationBatch(R,ie))}(t,l,e,g).next(()=>g.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(b){let R=dr();for(let H=0;H<b.mutationResults.length;++H)b.mutationResults[H].transformResults.length>0&&(R=R.add(b.batch.mutations[H].key));return R}(e))).next(()=>t.localDocuments.getDocuments(l,d))})}function Ty(o){const e=sn(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Sy(o,e){const t=sn(o),l=e.snapshotVersion;let d=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const b=t.Zi.newChangeBuffer({trackRemovals:!0});d=t.Ji;const R=[];e.targetChanges.forEach((ie,be)=>{const Ze=d.get(be);if(!Ze)return;R.push(t.Bs.removeMatchingKeys(g,ie.removedDocuments,be).next(()=>t.Bs.addMatchingKeys(g,ie.addedDocuments,be)));let yt=Ze.withSequenceNumber(g.currentSequenceNumber);var Wt,dn,wn;null!==e.targetMismatches.get(be)?yt=yt.withResumeToken(rs.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):ie.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(ie.resumeToken,l)),d=d.insert(be,yt),dn=yt,wn=ie,(0===(Wt=Ze).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&R.push(t.Bs.updateTargetData(g,yt))});let H=sa(),q=dr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(g,ie))}),R.push(function hp(o,e,t){let l=dr(),d=dr();return t.forEach(g=>l=l.add(g)),e.getEntries(o,l).next(g=>{let b=sa();return t.forEach((R,H)=>{const q=g.get(R);H.isFoundDocument()!==q.isFoundDocument()&&(d=d.add(R)),H.isNoDocument()&&H.version.isEqual(Pn.min())?(e.removeEntry(R,H.readTime),b=b.insert(R,H)):!q.isValidDocument()||H.version.compareTo(q.version)>0||0===H.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(H),b=b.insert(R,H)):Ft("LocalStore","Ignoring outdated watch update for ",R,". Current version:",q.version," Watch version:",H.version)}),{nr:b,sr:d}})}(g,b,e.documentUpdates).next(ie=>{H=ie.nr,q=ie.sr})),!l.isEqual(Pn.min())){const ie=t.Bs.getLastRemoteSnapshotVersion(g).next(be=>t.Bs.setTargetsMetadata(g,g.currentSequenceNumber,l));R.push(ie)}return ae.waitFor(R).next(()=>b.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,H,q)).next(()=>H)}).then(g=>(t.Ji=d,g))}function Ab(o,e){const t=sn(o);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function hi(o,e){const t=sn(o);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let d;return t.Bs.getTargetData(l,e).next(g=>g?(d=g,ae.resolve(d)):t.Bs.allocateTargetId(l).next(b=>(d=new El(e,b,"TargetPurposeListen",l.currentSequenceNumber),t.Bs.addTargetData(l,d).next(()=>d))))}).then(l=>{const d=t.Ji.get(l.targetId);return(null===d||l.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(l.targetId,l),t.Yi.set(e,l.targetId)),l})}function Er(o,e,t){return zo.apply(this,arguments)}function zo(){return zo=(0,Be.Z)(function*(o,e,t){const l=sn(o),d=l.Ji.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",g,b=>l.persistence.referenceDelegate.removeTarget(b,d)))}catch(b){if(!gi(b))throw b;Ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(d.target)}),zo.apply(this,arguments)}function Zh(o,e,t){const l=sn(o);let d=Pn.min(),g=dr();return l.persistence.runTransaction("Execute query","readonly",b=>function(R,H,q){const ie=sn(R),be=ie.Yi.get(q);return void 0!==be?ae.resolve(ie.Ji.get(be)):ie.Bs.getTargetData(H,q)}(l,b,Ds(e)).next(R=>{if(R)return d=R.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(b,R.targetId).next(H=>{g=H})}).next(()=>l.Hi.getDocumentsMatchingQuery(b,e,t?d:Pn.min(),t?g:dr())).next(R=>(function n0(o,e,t){let l=o.Xi.get(e)||Pn.min();t.forEach((d,g)=>{g.readTime.compareTo(l)>0&&(l=g.readTime)}),o.Xi.set(e,l)}(l,function xm(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}(e),R),{documents:R,ir:g})))}class pp{constructor(){this.activeTargetIds=function zf(){return ry}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wr{constructor(){this.Hr=new pp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,l){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new pp,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t_{Yr(e){}shutdown(){}}class kg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fg=null;function Tc(){return null===Fg?Fg=268435456+Math.round(2147483648*Math.random()):Fg++,"0x"+Fg.toString(16)}const Lg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ta="WebChannelConnection";class Xl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,l,d,g){const b=Tc(),R=this.To(e,t);Ft("RestConnection",`Sending RPC '${e}' ${b}:`,R,l);const H={};return this.Eo(H,d,g),this.Ao(e,R,H,l).then(q=>(Ft("RestConnection",`Received RPC '${e}' ${b}: `,q),q),q=>{throw eo("RestConnection",`RPC '${e}' ${b} failed with error: `,q,"url: ",R,"request:",l),q})}vo(e,t,l,d,g,b){return this.Io(e,t,l,d,g)}Eo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+zl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,g)=>e[g]=d),l&&l.headers.forEach((d,g)=>e[g]=d)}To(e,t){return`${this.mo}/v1/${t}:${Lg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,l,d){const g=Tc();return new Promise((b,R)=>{const H=new Ch;H.setWithCredentials(!0),H.listenOnce(To.COMPLETE,()=>{try{switch(H.getLastErrorCode()){case na.NO_ERROR:const ie=H.getResponseJson();Ft(Ta,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(ie)),b(ie);break;case na.TIMEOUT:Ft(Ta,`RPC '${e}' ${g} timed out`),R(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:const be=H.getStatus();if(Ft(Ta,`RPC '${e}' ${g} failed with status:`,be,"response text:",H.getResponseText()),be>0){let Ze=H.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const yt=Ze?.error;if(yt&&yt.status&&yt.message){const Wt=function(dn){const wn=dn.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(wn)>=0?wn:it.UNKNOWN}(yt.status);R(new gt(Wt,yt.message))}else R(new gt(it.UNKNOWN,"Server responded with status "+H.getStatus()))}else R(new gt(it.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Ft(Ta,`RPC '${e}' ${g} completed.`)}});const q=JSON.stringify(d);Ft(Ta,`RPC '${e}' ${g} sending request:`,d),H.send(t,"POST",q,l,15)})}Ro(e,t,l){const d=Tc(),g=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=ta(),R=Ki(),H={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(H.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(H.xmlHttpFactory=new Ga({})),this.Eo(H.initMessageHeaders,t,l),H.encodeInitMessageHeaders=!0;const ie=g.join("");Ft(Ta,`Creating RPC '${e}' stream ${d}: ${ie}`,H);const be=b.createWebChannel(ie,H);let Ze=!1,yt=!1;const Wt=new xu({ro:wn=>{yt?Ft(Ta,`Not sending because RPC '${e}' stream ${d} is closed:`,wn):(Ze||(Ft(Ta,`Opening RPC '${e}' stream ${d} transport.`),be.open(),Ze=!0),Ft(Ta,`RPC '${e}' stream ${d} sending:`,wn),be.send(wn))},oo:()=>be.close()}),dn=(wn,Cr,Xr)=>{wn.listen(Cr,mr=>{try{Xr(mr)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return dn(be,ba.EventType.OPEN,()=>{yt||Ft(Ta,`RPC '${e}' stream ${d} transport opened.`)}),dn(be,ba.EventType.CLOSE,()=>{yt||(yt=!0,Ft(Ta,`RPC '${e}' stream ${d} transport closed`),Wt.wo())}),dn(be,ba.EventType.ERROR,wn=>{yt||(yt=!0,eo(Ta,`RPC '${e}' stream ${d} transport errored:`,wn),Wt.wo(new gt(it.UNAVAILABLE,"The operation could not be completed")))}),dn(be,ba.EventType.MESSAGE,wn=>{var Cr;if(!yt){const Xr=wn.data[0];En(!!Xr);const mr=Xr,Ts=mr.error||(null===(Cr=mr[0])||void 0===Cr?void 0:Cr.error);if(Ts){Ft(Ta,`RPC '${e}' stream ${d} received error:`,Ts);const Zi=Ts.status;let Ui=function(If){const Y0=Ci[If];if(void 0!==Y0)return Vm(Y0)}(Zi),Na=Ts.message;void 0===Ui&&(Ui=it.INTERNAL,Na="Unknown error status: "+Zi+" with message "+Ts.message),yt=!0,Wt.wo(new gt(Ui,Na)),be.close()}else Ft(Ta,`RPC '${e}' stream ${d} received:`,Xr),Wt._o(Xr)}}),dn(R,ul.STAT_EVENT,wn=>{wn.stat===va.PROXY?Ft(Ta,`RPC '${e}' stream ${d} detected buffering proxy`):wn.stat===va.NOPROXY&&Ft(Ta,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{Wt.fo()},0),Wt}}function Qh(){return typeof document<"u"?document:null}function Jh(o){return new j(o,!0)}class Vg{constructor(e,t,l=1e3,d=1.5,g=6e4){this.ii=e,this.timerId=t,this.Po=l,this.bo=d,this.Vo=g,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),d=Math.max(0,t-l);d>0&&Ft("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,d,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class r0{constructor(e,t,l,d,g,b,R,H){this.ii=e,this.$o=l,this.Oo=d,this.connection=g,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=H,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var l=this;return(0,Be.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():t&&t.code===it.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):t&&t.code===it.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,d])=>{this.Fo===t&&this.Zo(l,d)},l=>{e(()=>{const d=new gt(it.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(d)})})}Zo(e,t){const l=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(d=>{l(()=>this.tu(d))}),this.stream.onMessage(d=>{l(()=>this.onMessage(d))})}Go(){var e=this;this.state=5,this.qo.No((0,Be.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nb extends r0{constructor(e,t,l,d,g,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,d,b),this.serializer=g}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Mo(o,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:ln(),d=e.targetChange.targetIds||[],g=function(H,q){return H.useProto3Json?(En(void 0===q||"string"==typeof q),rs.fromBase64String(q||"")):(En(void 0===q||q instanceof Uint8Array),rs.fromUint8Array(q||new Uint8Array))}(o,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(H){const q=void 0===H.code?it.UNKNOWN:Vm(H.code);return new gt(q,H.message||"")}(b);t=new Bm(l,d,g,R||null)}else if("documentChange"in e){const l=e.documentChange,d=_i(o,l.document.name),g=ft(l.document.updateTime),b=l.document.createTime?ft(l.document.createTime):Pn.min(),R=new $r({mapValue:{fields:l.document.fields}}),H=ci.newFoundDocument(d,g,b,R);t=new gg(l.targetIds||[],l.removedTargetIds||[],H.key,H)}else if("documentDelete"in e){const l=e.documentDelete,d=_i(o,l.document),g=l.readTime?ft(l.readTime):Pn.min(),b=ci.newNoDocument(d,g);t=new gg([],l.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const l=e.documentRemove,d=_i(o,l.document);t=new gg([],l.removedTargetIds||[],d,null)}else{if(!("filter"in e))return ln();{const l=e.filter,{count:d=0,unchangedNames:g}=l,b=new Hc(d,g);t=new mg(l.targetId,b)}}var H;return t}(this.serializer,e),l=function(d){if(!("targetChange"in d))return Pn.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Pn.min():g.readTime?ft(g.readTime):Pn.min()}(e);return this.listener.nu(t,l)}su(e){const t={};t.database=Go(this.serializer),t.addTarget=function(d,g){let b;const R=g.target;if(b=sg(R)?{documents:Wc(d,R)}:{query:ud(d,R)},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=Ue(d,g.resumeToken);const H=J(d,g.expectedCount);null!==H&&(b.expectedCount=H)}else if(g.snapshotVersion.compareTo(Pn.min())>0){b.readTime=ge(d,g.snapshotVersion.toTimestamp());const H=J(d,g.expectedCount);null!==H&&(b.expectedCount=H)}return b}(this.serializer,e);const l=function Um(o,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Wo(t)}iu(e){const t={};t.database=Go(this.serializer),t.removeTarget=e,this.Wo(t)}}class Mb extends r0{constructor(e,t,l,d,g,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,d,b),this.serializer=g,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(En(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Dc(o,e){return o&&o.length>0?(En(void 0!==e),o.map(t=>function(l,d){let g=ft(l.updateTime?l.updateTime:d);return g.isEqual(Pn.min())&&(g=ft(d)),new ug(g,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=ft(e.commitTime);return this.listener.cu(l,t)}return En(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Go(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>function Uh(o,e){let t;if(e instanceof Zd)t={update:yg(o,e.key,e.value)};else if(e instanceof ad)t={delete:gr(o,e.key)};else if(e instanceof jc)t={update:yg(o,e.key,e.data),updateMask:dd(e.fieldMask)};else{if(!(e instanceof Fm))return ln();t={verify:gr(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(d,g){const b=g.transform;if(b instanceof Kd)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Eu)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof od)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Uc)return{fieldPath:g.field.canonicalString(),increment:b.gt};throw ln()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Nt(o,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:ln()),t;var d}(this.serializer,l))};this.Wo(t)}}class Bg extends class{}{constructor(e,t,l,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=d,this.lu=!1}fu(){if(this.lu)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Io(e,t,l,d,g)).catch(d=>{throw"FirebaseError"===d.name?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(it.UNKNOWN,d.toString())})}vo(e,t,l,d){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.connection.vo(e,t,l,g,b,d)).catch(g=>{throw"FirebaseError"===g.name?(g.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new gt(it.UNKNOWN,g.toString())})}terminate(){this.lu=!0}}class Fw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ti(t),this.mu=!1):Ft("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Lw{constructor(e,t,l,d,g){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=g,this.Pu.Yr(R=>{l.enqueueAndForget((0,Be.Z)(function*(){var H;Ya(b)&&(Ft("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,Be.Z)(function*(q){const ie=sn(q);ie.vu.add(4),yield ec(ie),ie.bu.set("Unknown"),ie.vu.delete(4),yield n_(ie)}),function(q){return H.apply(this,arguments)})(b))}))}),this.bu=new Fw(l,d)}}function n_(o){return qi.apply(this,arguments)}function qi(){return qi=(0,Be.Z)(function*(o){if(Ya(o))for(const e of o.Ru)yield e(!0)}),qi.apply(this,arguments)}function ec(o){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,Be.Z)(function*(o){for(const e of o.Ru)yield e(!1)}),Ug.apply(this,arguments)}function Xh(o,e){const t=sn(o);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Dr(t)?md(t):Jc(t).Ko()&&Ou(t,e))}function th(o,e){const t=sn(o),l=Jc(t);t.Au.delete(e),l.Ko()&&Yc(t,e),0===t.Au.size&&(l.Ko()?l.jo():Ya(t)&&t.bu.set("Unknown"))}function Ou(o,e){if(o.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pn.min())>0){const t=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jc(o).su(e)}function Yc(o,e){o.Vu.qt(e),Jc(o).iu(e)}function md(o){o.Vu=new ay({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),le:e=>o.Au.get(e)||null,ue:()=>o.datastore.serializer.databaseId}),Jc(o).start(),o.bu.gu()}function Dr(o){return Ya(o)&&!Jc(o).Uo()&&o.Au.size>0}function Ya(o){return 0===sn(o).vu.size}function ef(o){o.Vu=void 0}function xb(o){return ms.apply(this,arguments)}function ms(){return ms=(0,Be.Z)(function*(o){o.Au.forEach((e,t)=>{Ou(o,e)})}),ms.apply(this,arguments)}function r_(o,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,Be.Z)(function*(o,e){ef(o),Dr(o)?(o.bu.Iu(e),md(o)):o.bu.set("Unknown")}),Ry.apply(this,arguments)}function xy(o,e,t){return tf.apply(this,arguments)}function tf(){return tf=(0,Be.Z)(function*(o,e,t){if(o.bu.set("Online"),e instanceof Bm&&2===e.state&&e.cause)try{yield(l=(0,Be.Z)(function*(d,g){const b=g.cause;for(const R of g.targetIds)d.Au.has(R)&&(yield d.remoteSyncer.rejectListen(R,b),d.Au.delete(R),d.Vu.removeTarget(R))}),function(d,g){return l.apply(this,arguments)})(o,e)}catch(l){Ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Al(o,l)}else if(e instanceof gg?o.Vu.Ht(e):e instanceof mg?o.Vu.ne(e):o.Vu.Xt(e),!t.isEqual(Pn.min()))try{const l=yield Ty(o.localStore);t.compareTo(l)>=0&&(yield function(d,g){const b=d.Vu.ce(g);return b.targetChanges.forEach((R,H)=>{if(R.resumeToken.approximateByteSize()>0){const q=d.Au.get(H);q&&d.Au.set(H,q.withResumeToken(R.resumeToken,g))}}),b.targetMismatches.forEach((R,H)=>{const q=d.Au.get(R);if(!q)return;d.Au.set(R,q.withResumeToken(rs.EMPTY_BYTE_STRING,q.snapshotVersion)),Yc(d,R);const ie=new El(q.target,R,H,q.sequenceNumber);Ou(d,ie)}),d.remoteSyncer.applyRemoteEvent(b)}(o,t))}catch(l){Ft("RemoteStore","Failed to raise snapshot:",l),yield Al(o,l)}var l}),tf.apply(this,arguments)}function Al(o,e,t){return _d.apply(this,arguments)}function _d(){return _d=(0,Be.Z)(function*(o,e,t){if(!gi(e))throw e;o.vu.add(1),yield ec(o),o.bu.set("Offline"),t||(t=()=>Ty(o.localStore)),o.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){Ft("RemoteStore","Retrying IndexedDB access"),yield t(),o.vu.delete(1),yield n_(o)}))}),_d.apply(this,arguments)}function Qc(o,e){return e().catch(t=>Al(o,t,e))}function nh(o){return rh.apply(this,arguments)}function rh(){return rh=(0,Be.Z)(function*(o){const e=sn(o),t=yd(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gp(e);)try{const d=yield Ab(e.localStore,l);if(null===d){0===e.Eu.length&&t.jo();break}l=d.batchId,s0(e,d)}catch(d){yield Al(e,d)}nf(e)&&i_(e)}),rh.apply(this,arguments)}function gp(o){return Ya(o)&&o.Eu.length<10}function s0(o,e){o.Eu.push(e);const t=yd(o);t.Ko()&&t.ou&&t.uu(e.mutations)}function nf(o){return Ya(o)&&!yd(o).Uo()&&o.Eu.length>0}function i_(o){yd(o).start()}function o0(o){return jg.apply(this,arguments)}function jg(){return jg=(0,Be.Z)(function*(o){yd(o).hu()}),jg.apply(this,arguments)}function Oy(o){return a0.apply(this,arguments)}function a0(){return a0=(0,Be.Z)(function*(o){const e=yd(o);for(const t of o.Eu)e.uu(t.mutations)}),a0.apply(this,arguments)}function Py(o,e,t){return s_.apply(this,arguments)}function s_(){return s_=(0,Be.Z)(function*(o,e,t){const l=o.Eu.shift(),d=Lh.from(l,e,t);yield Qc(o,()=>o.remoteSyncer.applySuccessfulWrite(d)),yield nh(o)}),s_.apply(this,arguments)}function o_(o,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,Be.Z)(function*(o,e){var t;e&&yd(o).ou&&(yield(t=(0,Be.Z)(function*(l,d){if(Xf(g=d.code)&&g!==it.ABORTED){const b=l.Eu.shift();yd(l).Qo(),yield Qc(l,()=>l.remoteSyncer.rejectFailedWrite(b.batchId,d)),yield nh(l)}var g}),function(l,d){return t.apply(this,arguments)})(o,e)),nf(o)&&i_(o)}),Hg.apply(this,arguments)}function a_(o,e){return mp.apply(this,arguments)}function mp(){return mp=(0,Be.Z)(function*(o,e){const t=sn(o);t.asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials");const l=Ya(t);t.vu.add(3),yield ec(t),l&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield n_(t)}),mp.apply(this,arguments)}function rf(){return rf=(0,Be.Z)(function*(o,e){const t=sn(o);e?(t.vu.delete(2),yield n_(t)):e||(t.vu.add(2),yield ec(t),t.bu.set("Unknown"))}),rf.apply(this,arguments)}function Jc(o){return o.Su||(o.Su=function(e,t,l){const d=sn(e);return d.fu(),new Nb(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(o.datastore,o.asyncQueue,{uo:xb.bind(null,o),ao:r_.bind(null,o),nu:xy.bind(null,o)}),o.Ru.push(function(){var e=(0,Be.Z)(function*(t){t?(o.Su.Qo(),Dr(o)?md(o):o.bu.set("Unknown")):(yield o.Su.stop(),ef(o))});return function(t){return e.apply(this,arguments)}}())),o.Su}function yd(o){return o.Du||(o.Du=function(e,t,l){const d=sn(e);return d.fu(),new Mb(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(o.datastore,o.asyncQueue,{uo:o0.bind(null,o),ao:o_.bind(null,o),au:Oy.bind(null,o),cu:Py.bind(null,o)}),o.Ru.push(function(){var e=(0,Be.Z)(function*(t){t?(o.Du.Qo(),yield nh(o)):(yield o.Du.stop(),o.Eu.length>0&&(Ft("RemoteStore",`Stopping write stream with ${o.Eu.length} pending writes`),o.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),o.Du}class $g{constructor(e,t,l,d,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=d,this.removalCallback=g,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,l,d,g){const b=Date.now()+l,R=new $g(e,t,b,d,g);return R.start(l),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ih(o,e){if(ti("AsyncQueue",`${e}: ${o}`),gi(o))return new gt(it.UNAVAILABLE,`${e}: ${o}`);throw o}class sf{constructor(e){this.comparator=e?(t,l)=>e(t,l)||Kt.comparator(t.key,l.key):(t,l)=>Kt.comparator(t.key,l.key),this.keyedMap=yu(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new sf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,g=l.getNext().key;if(!d.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new sf;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class ky{constructor(){this.Cu=new mi(Kt.comparator)}track(e){const t=e.doc.key,l=this.Cu.get(t);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(t):1===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,l)=>{e.push(l)}),e}}class _p{constructor(e,t,l,d,g,b,R,H,q){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=d,this.mutatedKeys=g,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=H,this.hasCachedResults=q}static fromInitialDocuments(e,t,l,d,g){const b=[];return t.forEach(R=>{b.push({type:0,doc:R})}),new _p(e,t,sf.emptySet(t),b,l,d,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==l[d].type||!t[d].doc.isEqual(l[d].doc))return!1;return!0}}class Ob{constructor(){this.Nu=void 0,this.listeners=[]}}class l0{constructor(){this.queries=new bl(e=>ty(e),sd),this.onlineState="Unknown",this.ku=new Set}}function Ws(o,e){return yp.apply(this,arguments)}function yp(){return yp=(0,Be.Z)(function*(o,e){const t=sn(o),l=e.query;let d=!1,g=t.queries.get(l);if(g||(d=!0,g=new Ob),d)try{g.Nu=yield t.onListen(l)}catch(b){const R=ih(b,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(R)}t.queries.set(l,g),g.listeners.push(e),e.Mu(t.onlineState),g.Nu&&e.$u(g.Nu)&&vd(t)}),yp.apply(this,arguments)}function Gg(o,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Be.Z)(function*(o,e){const t=sn(o),l=e.query;let d=!1;const g=t.queries.get(l);if(g){const b=g.listeners.indexOf(e);b>=0&&(g.listeners.splice(b,1),d=0===g.listeners.length)}if(d)return t.queries.delete(l),t.onUnlisten(l)}),Wg.apply(this,arguments)}function zg(o,e){const t=sn(o);let l=!1;for(const d of e){const b=t.queries.get(d.query);if(b){for(const R of b.listeners)R.$u(d)&&(l=!0);b.Nu=d}}l&&vd(t)}function vp(o,e,t){const l=sn(o),d=l.queries.get(e);if(d)for(const g of d.listeners)g.onError(t);l.queries.delete(e)}function vd(o){o.ku.forEach(e=>{e.next()})}class la{constructor(e,t,l){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const d of e.docChanges)3!==d.type&&l.push(d);e=new _p(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=_p.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fy{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class qg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=dr(),this.mutatedKeys=dr(),this.tc=kh(e),this.ec=new sf(this.tc)}get nc(){return this.Yu}sc(e,t){const l=t?t.ic:new ky,d=t?t.ec:this.ec;let g=t?t.mutatedKeys:this.mutatedKeys,b=d,R=!1;const H="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,q="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((ie,be)=>{const Ze=d.get(ie),yt=mu(this.query,be)?be:null,Wt=!!Ze&&this.mutatedKeys.has(Ze.key),dn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let wn=!1;Ze&&yt?Ze.data.isEqual(yt.data)?Wt!==dn&&(l.track({type:3,doc:yt}),wn=!0):this.rc(Ze,yt)||(l.track({type:2,doc:yt}),wn=!0,(H&&this.tc(yt,H)>0||q&&this.tc(yt,q)<0)&&(R=!0)):!Ze&&yt?(l.track({type:0,doc:yt}),wn=!0):Ze&&!yt&&(l.track({type:1,doc:Ze}),wn=!0,(H||q)&&(R=!0)),wn&&(yt?(b=b.add(yt),g=dn?g.add(ie):g.delete(ie)):(b=b.delete(ie),g=g.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),g=g.delete(ie.key),l.track({type:1,doc:ie})}return{ec:b,ic:l,zi:R,mutatedKeys:g}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const d=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const g=e.ic.xu();g.sort((q,ie)=>function(be,Ze){const yt=Wt=>{switch(Wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return yt(be)-yt(Ze)}(q.type,ie.type)||this.tc(q.doc,ie.doc)),this.oc(l);const b=t?this.uc():[],R=0===this.Zu.size&&this.current?1:0,H=R!==this.Xu;return this.Xu=R,0!==g.length||H?{snapshot:new _p(this.query,e.ec,d,g,e.mutatedKeys,0===R,H,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:b}:{cc:b}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ky,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=dr(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const t=[];return e.forEach(l=>{this.Zu.has(l)||t.push(new u0(l))}),this.Zu.forEach(l=>{e.has(l)||t.push(new Fy(l))}),t}hc(e){this.Yu=e.ir,this.Zu=dr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return _p.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Zg{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class l_{constructor(e){this.key=e,this.fc=!1}}class c_{constructor(e,t,l,d,g,b){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=d,this.currentUser=g,this.maxConcurrentLimboResolutions=b,this.dc={},this.wc=new bl(R=>ty(R),sd),this._c=new Map,this.mc=new Set,this.gc=new mi(Kt.comparator),this.yc=new Map,this.Ic=new wy,this.Tc={},this.Ec=new Map,this.Ac=Xd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function af(o,e){return sh.apply(this,arguments)}function sh(){return sh=(0,Be.Z)(function*(o,e){const t=nc(o);let l,d;const g=t.wc.get(e);if(g)l=g.targetId,t.sharedClientState.addLocalQueryTarget(l),d=g.view.lc();else{const b=yield hi(t.localStore,Ds(e)),R=t.sharedClientState.addLocalQueryTarget(b.targetId);l=b.targetId,d=yield Yg(t,e,l,"current"===R,b.resumeToken),t.isPrimaryClient&&Xh(t.remoteStore,b)}return d}),sh.apply(this,arguments)}function Yg(o,e,t,l,d){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,Be.Z)(function*(o,e,t,l,d){o.Rc=(be,Ze,yt)=>{return(Wt=(0,Be.Z)(function*(dn,wn,Cr,Xr){let mr=wn.view.sc(Cr);mr.zi&&(mr=yield Zh(dn.localStore,wn.query,!1).then(({documents:Ui})=>wn.view.sc(Ui,mr)));const Ts=Xr&&Xr.targetChanges.get(wn.targetId),Zi=wn.view.applyChanges(mr,dn.isPrimaryClient,Ts);return jy(dn,wn.targetId,Zi.cc),Zi.snapshot}),function(dn,wn,Cr,Xr){return Wt.apply(this,arguments)})(o,be,Ze,yt);var Wt};const g=yield Zh(o.localStore,e,!0),b=new qg(e,g.ir),R=b.sc(g.documents),H=cd.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==o.onlineState,d),q=b.applyChanges(R,o.isPrimaryClient,H);jy(o,t,q.cc);const ie=new Zg(e,t,b);return o.wc.set(e,ie),o._c.has(t)?o._c.get(t).push(e):o._c.set(t,[e]),q.snapshot}),Ni.apply(this,arguments)}function ku(o,e){return bd.apply(this,arguments)}function bd(){return bd=(0,Be.Z)(function*(o,e){const t=sn(o),l=t.wc.get(e),d=t._c.get(l.targetId);if(d.length>1)return t._c.set(l.targetId,d.filter(g=>!sd(g,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Er(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),th(t.remoteStore,l.targetId),Vu(t,l.targetId)}).catch(ue))):(Vu(t,l.targetId),yield Er(t.localStore,l.targetId,!0))}),bd.apply(this,arguments)}function Qg(){return Qg=(0,Be.Z)(function*(o,e,t){const l=Bu(o);try{const d=yield function(g,b){const R=sn(g),H=ni.now(),q=b.reduce((Ze,yt)=>Ze.add(yt.key),dr());let ie,be;return R.persistence.runTransaction("Locally write mutations","readwrite",Ze=>{let yt=sa(),Wt=dr();return R.Zi.getEntries(Ze,q).next(dn=>{yt=dn,yt.forEach((wn,Cr)=>{Cr.isValidDocument()||(Wt=Wt.add(wn))})}).next(()=>R.localDocuments.getOverlayedDocuments(Ze,yt)).next(dn=>{ie=dn;const wn=[];for(const Cr of b){const Xr=qd(Cr,ie.get(Cr.key).overlayedDocument);null!=Xr&&wn.push(new jc(Cr.key,Xr,is(Xr.value.mapValue),gs.exists(!0)))}return R.mutationQueue.addMutationBatch(Ze,H,wn,b)}).next(dn=>{be=dn;const wn=dn.applyToLocalDocumentSet(ie,Wt);return R.documentOverlayCache.saveOverlays(Ze,dn.batchId,wn)})}).then(()=>({batchId:be.batchId,changes:Wf(ie)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(d.batchId),function(g,b,R){let H=g.Tc[g.currentUser.toKey()];H||(H=new mi(Kn)),H=H.insert(b,R),g.Tc[g.currentUser.toKey()]=H}(l,d.batchId,t),yield Ed(l,d.changes),yield nh(l.remoteStore)}catch(d){const g=ih(d,"Failed to persist write");t.reject(g)}}),Qg.apply(this,arguments)}function Jg(o,e){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,Be.Z)(function*(o,e){const t=sn(o);try{const l=yield Sy(t.localStore,e);e.targetChanges.forEach((d,g)=>{const b=t.yc.get(g);b&&(En(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?b.fc=!0:d.modifiedDocuments.size>0?En(b.fc):d.removedDocuments.size>0&&(En(b.fc),b.fc=!1))}),yield Ed(t,l,e)}catch(l){yield ue(l)}}),Fu.apply(this,arguments)}function u_(o,e,t){const l=sn(o);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const d=[];l.wc.forEach((g,b)=>{const R=b.view.Mu(e);R.snapshot&&d.push(R.snapshot)}),function(g,b){const R=sn(g);R.onlineState=b;let H=!1;R.queries.forEach((q,ie)=>{for(const be of ie.listeners)be.Mu(b)&&(H=!0)}),H&&vd(R)}(l.eventManager,e),d.length&&l.dc.nu(d),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Lu(o,e,t){return tc.apply(this,arguments)}function tc(){return tc=(0,Be.Z)(function*(o,e,t){const l=sn(o);l.sharedClientState.updateQueryState(e,"rejected",t);const d=l.yc.get(e),g=d&&d.key;if(g){let b=new mi(Kt.comparator);b=b.insert(g,ci.newNoDocument(g,Pn.min()));const R=dr().add(g),H=new Vh(Pn.min(),new Map,new mi(Kn),b,R);yield Jg(l,H),l.gc=l.gc.remove(g),l.yc.delete(e),p0(l)}else yield Er(l.localStore,e,!1).then(()=>Vu(l,e,t)).catch(ue)}),tc.apply(this,arguments)}function wd(o,e){return lf.apply(this,arguments)}function lf(){return lf=(0,Be.Z)(function*(o,e){const t=sn(o),l=e.batch.batchId;try{const d=yield Fi(t.localStore,e);Uy(t,l,null),By(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield Ed(t,d)}catch(d){yield ue(d)}}),lf.apply(this,arguments)}function oh(o,e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Be.Z)(function*(o,e,t){const l=sn(o);try{const d=yield function(g,b){const R=sn(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let q;return R.mutationQueue.lookupMutationBatch(H,b).next(ie=>(En(null!==ie),q=ie.keys(),R.mutationQueue.removeMutationBatch(H,ie))).next(()=>R.mutationQueue.performConsistencyCheck(H)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(H,q,b)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,q)).next(()=>R.localDocuments.getDocuments(H,q))})}(l.localStore,e);Uy(l,e,t),By(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield Ed(l,d)}catch(d){yield ue(d)}}),Ly.apply(this,arguments)}function By(o,e){(o.Ec.get(e)||[]).forEach(t=>{t.resolve()}),o.Ec.delete(e)}function Uy(o,e,t){const l=sn(o);let d=l.Tc[l.currentUser.toKey()];if(d){const g=d.get(e);g&&(t?g.reject(t):g.resolve(),d=d.remove(e)),l.Tc[l.currentUser.toKey()]=d}}function Vu(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const l of o._c.get(e))o.wc.delete(l),t&&o.dc.Pc(l,t);o._c.delete(e),o.isPrimaryClient&&o.Ic.Is(e).forEach(l=>{o.Ic.containsKey(l)||h0(o,l)})}function h0(o,e){o.mc.delete(e.path.canonicalString());const t=o.gc.get(e);null!==t&&(th(o.remoteStore,t),o.gc=o.gc.remove(e),o.yc.delete(t),p0(o))}function jy(o,e,t){for(const l of t)l instanceof Fy?(o.Ic.addReference(l.key,e),f0(o,l)):l instanceof u0?(Ft("SyncEngine","Document no longer in limbo: "+l.key),o.Ic.removeReference(l.key,e),o.Ic.containsKey(l.key)||h0(o,l.key)):ln()}function f0(o,e){const t=e.key,l=t.path.canonicalString();o.gc.get(t)||o.mc.has(l)||(Ft("SyncEngine","New document in limbo: "+t),o.mc.add(l),p0(o))}function p0(o){for(;o.mc.size>0&&o.gc.size<o.maxConcurrentLimboResolutions;){const e=o.mc.values().next().value;o.mc.delete(e);const t=new Kt(Un.fromString(e)),l=o.Ac.next();o.yc.set(l,new l_(t)),o.gc=o.gc.insert(t,l),Xh(o.remoteStore,new El(Ds(yl(t.path)),l,"TargetPurposeLimboResolution",Uo.ct))}}function Ed(o,e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,Be.Z)(function*(o,e,t){const l=sn(o),d=[],g=[],b=[];var R;l.wc.isEmpty()||(l.wc.forEach((R,H)=>{b.push(l.Rc(H,e,t).then(q=>{if((q||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(H.targetId,q?.fromCache?"not-current":"current"),q){d.push(q);const ie=Qm.Li(H.targetId,q);g.push(ie)}}))}),yield Promise.all(b),l.dc.nu(d),yield(R=(0,Be.Z)(function*(H,q){const ie=sn(H);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",be=>ae.forEach(q,Ze=>ae.forEach(Ze.Fi,yt=>ie.persistence.referenceDelegate.addReference(be,Ze.targetId,yt)).next(()=>ae.forEach(Ze.Bi,yt=>ie.persistence.referenceDelegate.removeReference(be,Ze.targetId,yt)))))}catch(be){if(!gi(be))throw be;Ft("LocalStore","Failed to update sequence numbers: "+be)}for(const be of q){const Ze=be.targetId;if(!be.fromCache){const yt=ie.Ji.get(Ze),dn=yt.withLastLimboFreeSnapshotVersion(yt.snapshotVersion);ie.Ji=ie.Ji.insert(Ze,dn)}}}),function(H,q){return R.apply(this,arguments)})(l.localStore,g))}),Hy.apply(this,arguments)}function kb(o,e){return h_.apply(this,arguments)}function h_(){return h_=(0,Be.Z)(function*(o,e){const t=sn(o);if(!t.currentUser.isEqual(e)){Ft("SyncEngine","User change. New user:",e.toKey());const l=yield Pr(t.localStore,e);t.currentUser=e,(d=t).Ec.forEach(b=>{b.forEach(R=>{R.reject(new gt(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ec.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield Ed(t,l.er)}var d}),h_.apply(this,arguments)}function $y(o,e){const t=sn(o),l=t.yc.get(e);if(l&&l.fc)return dr().add(l.key);{let d=dr();const g=t._c.get(e);if(!g)return d;for(const b of g){const R=t.wc.get(b);d=d.unionWith(R.view.nc)}return d}}function nc(o){const e=sn(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lu.bind(null,e),e.dc.nu=zg.bind(null,e.eventManager),e.dc.Pc=vp.bind(null,e.eventManager),e}function Bu(o){const e=sn(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oh.bind(null,e),e}class Sc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.serializer=Jh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function yi(o,e,t,l){return new Ai(o,e,t,l)}(this.persistence,new Iy,e.initialUser,this.serializer)}createPersistence(e){return new Ey(Mu.zs,this.serializer)}createSharedClientState(e){return new Wr}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xc{initialize(e,t){var l=this;return(0,Be.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=d=>u_(l.syncEngine,d,1),l.remoteStore.remoteSyncer.handleCredentialChange=kb.bind(null,l.syncEngine),yield function Qa(o,e){return rf.apply(this,arguments)}(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new l0}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),l=new Xl(e.databaseInfo);return new Bg(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,d=e.asyncQueue,g=R=>u_(this.syncEngine,R,0),b=kg.D()?new kg:new t_,new Lw(t,l,d,g,b);var t,l,d,g,b}createSyncEngine(e,t){return function(l,d,g,b,R,H,q){const ie=new c_(l,d,g,b,R,H);return q&&(ie.vc=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const l=sn(t);Ft("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield ec(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Cd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ip{constructor(e,t,l,d){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=d,this.user=Di.UNAUTHENTICATED,this.clientId=qu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var b=(0,Be.Z)(function*(R){Ft("FirestoreClient","Received user=",R.uid),yield g.authCredentialListener(R),g.user=R});return function(R){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(l,b=>(Ft("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const d=ih(l,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function Uu(o,e){return ah.apply(this,arguments)}function ah(){return ah=(0,Be.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider");const t=yield o.getConfiguration();yield e.initialize(t);let l=t.initialUser;o.setCredentialChangeListener(function(){var d=(0,Be.Z)(function*(g){l.isEqual(g)||(yield Pr(e.localStore,g),l=g)});return function(g){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),ah.apply(this,arguments)}function tm(o,e){return nm.apply(this,arguments)}function nm(){return nm=(0,Be.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield rm(o);Ft("FirestoreClient","Initializing OnlineComponentProvider");const l=yield o.getConfiguration();yield e.initialize(t,l),o.setCredentialChangeListener(d=>a_(e.remoteStore,d)),o.setAppCheckTokenChangeListener((d,g)=>a_(e.remoteStore,g)),o._onlineComponents=e}),nm.apply(this,arguments)}function Ky(o){return"FirebaseError"===o.name?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function rm(o){return hf.apply(this,arguments)}function hf(){return hf=(0,Be.Z)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){Ft("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uu(o,o._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ky(t))throw t;eo("Error using user provided cache. Falling back to memory cache: "+t),yield Uu(o,new Sc)}}else Ft("FirestoreClient","Using default OfflineComponentProvider"),yield Uu(o,new Sc);return o._offlineComponents}),hf.apply(this,arguments)}function Tp(o){return m_.apply(this,arguments)}function m_(){return m_=(0,Be.Z)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(Ft("FirestoreClient","Using user provided OnlineComponentProvider"),yield tm(o,o._uninitializedComponentsProvider._online)):(Ft("FirestoreClient","Using default OnlineComponentProvider"),yield tm(o,new Xc))),o._onlineComponents}),m_.apply(this,arguments)}function im(o){return rm(o).then(e=>e.localStore)}function Sp(o){return sm.apply(this,arguments)}function sm(){return sm=(0,Be.Z)(function*(o){const e=yield Tp(o),t=e.eventManager;return t.onListen=af.bind(null,e.syncEngine),t.onUnlisten=ku.bind(null,e.syncEngine),t}),sm.apply(this,arguments)}function Ac(o,e,t={}){const l=new ar;return o.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(d,g,b,R,H){const q=new Cd({next:be=>{g.enqueueAndForget(()=>Gg(d,ie));const Ze=be.docs.has(b);!Ze&&be.fromCache?H.reject(new gt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&be.fromCache&&R&&"server"===R.source?H.reject(new gt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(be)},error:be=>H.reject(be)}),ie=new la(yl(b.path),q,{includeMetadataChanges:!0,Ku:!0});return Ws(d,ie)}(yield Sp(o),o.asyncQueue,e,t,l)})),l.promise}function pf(o,e,t={}){const l=new ar;return o.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(d,g,b,R,H){const q=new Cd({next:be=>{g.enqueueAndForget(()=>Gg(d,ie)),be.fromCache&&"server"===R.source?H.reject(new gt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(be)},error:be=>H.reject(be)}),ie=new la(b,q,{includeMetadataChanges:!0,Ku:!0});return Ws(d,ie)}(yield Sp(o),o.asyncQueue,e,t,l)})),l.promise}function om(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const b_=new Map;function eu(o,e,t){if(!t)throw new gt(it.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function w_(o){if(!Kt.isDocumentKey(o))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Xy(o){if(Kt.isDocumentKey(o))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function E_(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(t=o).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof o?"a function":ln()}function Vr(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=E_(o);throw new gt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function D_(o,e){if(e<=0)throw new gt(it.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class ev{constructor(e){var t,l;if(void 0===e.host){if(void 0!==e.ssl)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function gf(o,e,t,l){if(!0===e&&!0===l)throw new gt(it.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=om(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,t,l,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Es;switch(t.type){case"firstParty":return new Kl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=b_.get(e);t&&(Ft("ComponentProvider","Removing Datastore"),b_.delete(e),t.terminate())}(this),Promise.resolve()}}class os{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new os(this.firestore,e,this._key)}}class Fs{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class rc extends Fs{constructor(e,t,l){super(e,t,yl(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new os(this.firestore,null,new Kt(e))}withConverter(e){return new rc(this.firestore,e,this._path)}}function Id(o,e,...t){if(o=(0,ze.m9)(o),1===arguments.length&&(e=qu.A()),eu("doc","path",e),o instanceof lh){const l=Un.fromString(e,...t);return w_(l),new os(o,null,new Kt(l))}{if(!(o instanceof os||o instanceof rc))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(Un.fromString(e,...t));return w_(l),new os(o.firestore,o instanceof rc?o.converter:null,new Kt(l))}}function Np(o,e){return o=(0,ze.m9)(o),e=(0,ze.m9)(e),(o instanceof os||o instanceof rc)&&(e instanceof os||e instanceof rc)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function Mp(o,e){return o=(0,ze.m9)(o),e=(0,ze.m9)(e),o instanceof Fs&&e instanceof Fs&&o.firestore===e.firestore&&sd(o._query,e._query)&&o.converter===e.converter}class C_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vg(this,"async_queue_retry"),this.Xc=()=>{const t=Qh();t&&Ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Qh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ar;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!gi(t))throw t;Ft("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,ti("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=t,t}enqueueAfterDelay(e,t,l){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const d=$g.createAndSchedule(this,e,t,l,g=>this.na(g));return this.zc.push(d),d}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Rp(o){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(o)}class Cs extends lh{constructor(e,t,l,d){super(e,t,l,d),this.type="firestore",this._queue=new C_,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||I_(this),this._firestoreClient.terminate()}}function Is(o){return o._firestoreClient||I_(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function I_(o){var e,t,l;const d=o._freezeSettings(),g=(R=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new tg(o._databaseId,R,o._persistenceKey,(q=d).host,q.ssl,q.experimentalForceLongPolling,q.experimentalAutoDetectLongPolling,om(q.experimentalLongPollingOptions),q.useFetchStreams));var R,q;o._firestoreClient=new Ip(o._authCredentials,o._appCheckCredentials,o._queue,g),(null===(t=d.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(l=d.cache)||void 0===l?void 0:l._onlineComponentProvider)&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.cache.kind,_offline:d.cache._offlineComponentProvider,_online:d.cache._onlineComponentProvider})}class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(rs.fromBase64String(e))}catch(t){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nl(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ic{constructor(e){this._methodName=e}}class Xa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const jb=/^__.*__$/;class E0{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zd(e,this.data,t,this.fieldTransforms)}}class tu{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ml(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class ca{constructor(e,t,l,d,g,b){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=d,void 0===g&&this.ua(),this.fieldTransforms=g||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ca(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.aa({path:l,la:!1});return d.fa(e),d}da(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.aa({path:l,la:!1});return d.ua(),d}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return bf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ml(this.ca)&&jb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ov{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||Jh(e)}ya(e,t,l,d=!1){return new ca({ca:e,methodName:t,ga:l,path:pi.emptyPath(),la:!1,ma:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ch(o){const e=o._freezeSettings(),t=Jh(o._databaseId);return new ov(o._databaseId,!!e.ignoreUndefinedProperties,t)}function uh(o,e,t,l,d,g={}){const b=o.ya(g.merge||g.mergeFields?2:0,e,t,d);dm("Data must be an object, but it was:",b,l);const R=cm(l,b);let H,q;if(g.merge)H=new jo(b.fieldMask),q=b.fieldTransforms;else if(g.mergeFields){const ie=[];for(const be of g.mergeFields){const Ze=qo(e,be,t);if(!b.contains(Ze))throw new gt(it.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);cv(ie,Ze)||ie.push(Ze)}H=new jo(ie),q=b.fieldTransforms.filter(be=>H.covers(be.field))}else H=null,q=b.fieldTransforms;return new E0(new $r(R),H,q)}class Rl extends ic{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rl}}function xl(o,e,t,l=!1){return Ad(t,o.ya(l?4:3,e))}function Ad(o,e){if(um(o=(0,ze.m9)(o)))return dm("Unsupported field value:",e,o),cm(o,e);if(o instanceof ic)return function(t,l){if(!Ml(l.ca))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,l){const d=[];let g=0;for(const b of t){let R=Ad(b,l.wa(g));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),g++}return{arrayValue:{values:d}}}(o,e)}return function(t,l){if(null===(t=(0,ze.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bu(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=ni.fromDate(t);return{timestampValue:ge(l.serializer,d)}}if(t instanceof ni){const d=new ni(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ge(l.serializer,d)}}if(t instanceof Xa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Ue(l.serializer,t._byteString)};if(t instanceof os){const d=l.databaseId,g=t.firestore._databaseId;if(!g.isEqual(d))throw l._a(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:nn(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${E_(t)}`)}(o,e)}function cm(o,e){const t={};return Uf(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(o,(l,d)=>{const g=Ad(d,e.ha(l));null!=g&&(t[l]=g)}),{mapValue:{fields:t}}}function um(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof ni||o instanceof Xa||o instanceof Nl||o instanceof os||o instanceof ic)}function dm(o,e,t){if(!um(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=E_(t);throw e._a("an object"===l?o+" a custom object":o+" "+l)}var l}function qo(o,e,t){if((e=(0,ze.m9)(e))instanceof Sd)return e._internalPath;if("string"==typeof e)return vf(o,e);throw bf("Field path arguments must be of type string or ",o,!1,void 0,t)}const N_=new RegExp("[~\\*/\\[\\]]");function vf(o,e,t){if(e.search(N_)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new Sd(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function bf(o,e,t,l,d){const g=l&&!l.isEmpty(),b=void 0!==d;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let H="";return(g||b)&&(H+=" (found",g&&(H+=` in field ${l}`),b&&(H+=` in document ${d}`),H+=")"),new gt(it.INVALID_ARGUMENT,R+o+H)}function cv(o,e){return o.some(t=>t.isEqual(e))}class Pp{constructor(e,t,l,d,g){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=d,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class D0 extends Pp{data(){return super.data()}}function kp(o,e){return"string"==typeof e?vf(o,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}function wf(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class Ef extends hm{}function hh(o,e,...t){let l=[];e instanceof hm&&l.push(e),l=l.concat(t),function(d){const g=d.filter(R=>R instanceof Fp).length,b=d.filter(R=>R instanceof Df).length;if(g>1||g>0&&b>0)throw new gt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const d of l)o=d._apply(o);return o}class Df extends Ef{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new Df(e,t,l)}_apply(e){const t=this._parse(e);return hv(e._query,t),new Fs(e.firestore,e.converter,gu(e._query,t))}_parse(e){const t=ch(e.firestore);return function(d,g,b,R,H,q,ie){let be;if(H.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new gt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){Vp(ie,q);const Ze=[];for(const yt of ie)Ze.push(pm(R,d,yt));be={arrayValue:{values:Ze}}}else be=pm(R,d,ie)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||Vp(ie,q),be=xl(b,"where",ie,"in"===q||"not-in"===q);return Gr.create(H,q,be)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fp extends hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fp(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:Qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,d){let g=l;const b=d.getFlattenedFilters();for(const R of b)hv(g,R),g=gu(g,R)}(e._query,t),new Fs(e.firestore,e.converter,gu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class uv extends Ef{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new uv(e,t)}_apply(e){const t=function(l,d,g){if(null!==l.startAt)throw new gt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new gt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new bc(d,g);return function(R,H){if(null===$d(R)){const q=id(R);null!==q&&ph(0,q,H.field)}}(l,b),b}(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,function(l,d){const g=l.explicitOrderBy.concat([d]);return new _l(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}class fm extends Ef{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new fm(e,t,l)}_apply(e){return new Fs(e.firestore,e.converter,Gd(e._query,this._limit,this._limitType))}}class R_ extends Ef{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new R_(e,t,l)}_apply(e){const t=T0(e,this.type,this._docOrFields,this._inclusive);return new Fs(e.firestore,e.converter,(d=t,new _l((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class x_ extends Ef{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new x_(e,t,l)}_apply(e){const t=T0(e,this.type,this._docOrFields,this._inclusive);return new Fs(e.firestore,e.converter,(d=t,new _l((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function T0(o,e,t,l){if(t[0]=(0,ze.m9)(t[0]),t[0]instanceof Pp)return function(d,g,b,R,H){if(!R)throw new gt(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const q=[];for(const ie of Vc(d))if(ie.field.isKeyField())q.push(k(g,R.key));else{const be=R.data.field(ie.field);if(du(be))throw new gt(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===be){const Ze=ie.field.canonicalString();throw new gt(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}q.push(be)}return new to(q,H)}(o._query,o.firestore._databaseId,e,t[0]._document,l);{const d=ch(o.firestore);return function(g,b,R,H,q,ie){const be=g.explicitOrderBy;if(q.length>be.length)throw new gt(it.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let yt=0;yt<q.length;yt++){const Wt=q[yt];if(be[yt].field.isKeyField()){if("string"!=typeof Wt)throw new gt(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Wt}`);if(!Rm(g)&&-1!==Wt.indexOf("/"))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Wt}' contains a slash.`);const dn=g.path.child(Un.fromString(Wt));if(!Kt.isDocumentKey(dn))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${dn}' is not because it contains an odd number of segments.`);const wn=new Kt(dn);Ze.push(k(b,wn))}else{const dn=xl(R,H,Wt);Ze.push(dn)}}return new to(Ze,ie)}(o._query,o.firestore._databaseId,d,e,t,l)}}function pm(o,e,t){if("string"==typeof(t=(0,ze.m9)(t))){if(""===t)throw new gt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rm(e)&&-1!==t.indexOf("/"))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(Un.fromString(t));if(!Kt.isDocumentKey(l))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return k(o,new Kt(l))}if(t instanceof os)return k(o,t._key);throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E_(t)}.`)}function Vp(o,e){if(!Array.isArray(o)||0===o.length)throw new gt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hv(o,e){if(e.isInequality()){const l=id(o),d=e.field;if(null!==l&&!l.isEqual(d))throw new gt(it.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${d.toString()}'`);const g=$d(o);null!==g&&ph(0,d,g)}const t=function(l,d){for(const g of l)for(const b of g.getFlattenedFilters())if(d.indexOf(b.op)>=0)return b.op;return null}(o.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new gt(it.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ph(o,e,t){if(!t.isEqual(e))throw new gt(it.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gm{convertValue(e,t="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return Yl(e,(d,g)=>{l[d]=this.convertValue(g,t)}),l}convertGeoPoint(e){return new Xa(ps(e.latitude),ps(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=Fc(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(Ud(e));default:return null}}convertTimestamp(e){const t=Ql(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=Un.fromString(e);En($m(l));const d=new hu(l.get(1),l.get(3)),g=new Kt(l.popFirst(5));return d.isEqual(t)||ti(`Document ${g} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function Bp(o,e,t){let l;return l=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,l}class Nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends Pp{constructor(e,t,l,d,g,b){super(e,t,l,d,b),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(kp("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class mm extends Ol{data(e={}){return super.data(e)}}class Hu{constructor(e,t,l,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Nd(d.hasPendingWrites,d.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new mm(this._firestore,this._userDataWriter,l.key,l,new Nd(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new mm(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Nd(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>d||3!==b.type).map(b=>{const R=new mm(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Nd(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let H=-1,q=-1;return 0!==b.type&&(H=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),q=g.indexOf(b.doc.key)),{type:Wb(b.type),doc:R,oldIndex:H,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wb(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function F_(o,e){return o instanceof Ol&&e instanceof Ol?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof Hu&&e instanceof Hu&&o._firestore===e._firestore&&Mp(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class gh extends gm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new os(this.firestore,null,t)}}function _h(o,e,t){o=Vr(o,os);const l=Vr(o.firestore,Cs),d=Bp(o.converter,e,t);return Cf(l,[uh(ch(l),"setDoc",o._key,d,null!==o.converter,t).toMutation(o._key,gs.none())])}function jp(o,e,t,...l){o=Vr(o,os);const d=Vr(o.firestore,Cs),g=ch(d);let b;return b="string"==typeof(e=(0,ze.m9)(e))||e instanceof Sd?function lv(o,e,t,l,d,g){const b=o.ya(1,e,t),R=[qo(e,l,t)],H=[d];if(g.length%2!=0)throw new gt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<g.length;Ze+=2)R.push(qo(e,g[Ze])),H.push(g[Ze+1]);const q=[],ie=$r.empty();for(let Ze=R.length-1;Ze>=0;--Ze)if(!cv(q,R[Ze])){const yt=R[Ze];let Wt=H[Ze];Wt=(0,ze.m9)(Wt);const dn=b.da(yt);if(Wt instanceof Rl)q.push(yt);else{const wn=Ad(Wt,dn);null!=wn&&(q.push(yt),ie.set(yt,wn))}}const be=new jo(q);return new tu(ie,be,b.fieldTransforms)}(g,"updateDoc",o._key,e,t,l):function dh(o,e,t,l){const d=o.ya(1,e,t);dm("Data must be an object, but it was:",d,l);const g=[],b=$r.empty();Yl(l,(H,q)=>{const ie=vf(e,H,t);q=(0,ze.m9)(q);const be=d.da(ie);if(q instanceof Rl)g.push(ie);else{const Ze=Ad(q,be);null!=Ze&&(g.push(ie),b.set(ie,Ze))}});const R=new jo(g);return new tu(b,R,d.fieldTransforms)}(g,"updateDoc",o._key,e),Cf(d,[b.toMutation(o._key,gs.exists(!0))])}function Hw(o,...e){var t,l,d;o=(0,ze.m9)(o);let g={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Rp(e[b])||(g=e[b],b++);const R={includeMetadataChanges:g.includeMetadataChanges};if(Rp(e[b])){const be=e[b];e[b]=null===(t=be.next)||void 0===t?void 0:t.bind(be),e[b+1]=null===(l=be.error)||void 0===l?void 0:l.bind(be),e[b+2]=null===(d=be.complete)||void 0===d?void 0:d.bind(be)}let H,q,ie;if(o instanceof os)q=Vr(o.firestore,Cs),ie=yl(o._key.path),H={next:be=>{e[b]&&e[b](ym(q,o,be))},error:e[b+1],complete:e[b+2]};else{const be=Vr(o,Fs);q=Vr(be.firestore,Cs),ie=be._query;const Ze=new gh(q);H={next:yt=>{e[b]&&e[b](new Hu(q,Ze,be,yt))},error:e[b+1],complete:e[b+2]},wf(o._query)}return function(be,Ze,yt,Wt){const dn=new Cd(Wt),wn=new la(Ze,dn,yt);return be.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return Ws(yield Sp(be),wn)})),()=>{dn.Dc(),be.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return Gg(yield Sp(be),wn)}))}}(Is(q),ie,R,H)}function Cf(o,e){return function(t,l){const d=new ar;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function d0(o,e,t){return Qg.apply(this,arguments)}(yield function y_(o){return Tp(o).then(e=>e.syncEngine)}(t),l,d)})),d.promise}(Is(o),e)}function ym(o,e,t){const l=t.docs.get(e._key),d=new gh(o);return new Ol(o,d,e._key,l,new Nd(t.hasPendingWrites,t.fromCache),e.converter)}function Xb(){if(typeof Uint8Array>"u")throw new gt("unimplemented","Uint8Arrays are not available in this environment.")}function ew(){if(!function Ah(){return typeof atob<"u"}())throw new gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $p{constructor(e){this._delegate=e}static fromBase64String(e){return ew(),new $p(Nl.fromBase64String(e))}static fromUint8Array(e){return Xb(),new $p(Nl.fromUint8Array(e))}toBase64(){return ew(),this._delegate.toBase64()}toUint8Array(){return Xb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Gp(o){return function tw(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const l of e)if(l in t&&"function"==typeof t[l])return!0;return!1}(o,["next","error","complete"])}class yh extends gm{constructor(e){super(),this.firestore=e}convertBytes(e){return new $p(new Nl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Mc.forKey(t,this.firestore,null)}}class vh{constructor(e,t,l){this._firestore=e,this._userDataWriter=t,this._delegate=l}fromFirestore(e,t){const l=new mm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Em(this._firestore,l),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const l=vh.INSTANCES;let d=l.get(e);d||(d=new WeakMap,l.set(e,d));let g=d.get(t);return g||(g=new vh(e,new yh(e),t),d.set(t,g)),g}}vh.INSTANCES=new WeakMap;class Mc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yh(e)}static forPath(e,t,l){if(e.length%2!=0)throw new gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Mc(t,new os(t._delegate,l,new Kt(e)))}static forKey(e,t,l){return new Mc(t,new os(t._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new Wp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wp(this.firestore,function Ap(o,e,...t){if(o=(0,ze.m9)(o),eu("collection","path",e),o instanceof lh){const l=Un.fromString(e,...t);return Xy(l),new rc(o,null,l)}{if(!(o instanceof os||o instanceof rc))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(Un.fromString(e,...t));return Xy(l),new rc(o.firestore,null,l)}}(this._delegate,e))}catch(t){throw Sa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ze.m9)(e))instanceof os&&Np(this._delegate,e)}set(e,t){t=function V0(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gt("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?_h(this._delegate,e,t):_h(this._delegate,e)}catch(l){throw Sa(l,"setDoc()","DocumentReference.set()")}}update(e,t,...l){try{return 1===arguments.length?jp(this._delegate,e):jp(this._delegate,e,t,...l)}catch(d){throw Sa(d,"updateDoc()","DocumentReference.update()")}}delete(){return function _m(o){return Cf(Vr(o.firestore,Cs),[new ad(o._key,gs.none())])}(this._delegate)}onSnapshot(...e){const t=U0(e),l=j0(e,d=>new $u(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return Hw(this._delegate,t,l)}get(e){let t;return t="cache"===e?.source?function Rn(o){o=Vr(o,os);const e=Vr(o.firestore,Cs),t=Is(e),l=new gh(e);return function y0(o,e){const t=new ar;return o.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(l=(0,Be.Z)(function*(d,g,b){try{const R=yield function(H,q){const ie=sn(H);return ie.persistence.runTransaction("read document","readonly",be=>ie.localDocuments.getDocument(be,q))}(d,g);R.isFoundDocument()?b.resolve(R):R.isNoDocument()?b.resolve(null):b.reject(new gt(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const H=ih(R,`Failed to get document '${g} from cache`);b.reject(H)}}),function(d,g,b){return l.apply(this,arguments)})(yield im(o),e,t);var l})),t.promise}(t,o._key).then(d=>new Ol(e,l,o._key,d,new Nd(null!==d&&d.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function V_(o){o=Vr(o,os);const e=Vr(o.firestore,Cs);return Ac(Is(e),o._key,{source:"server"}).then(t=>ym(e,o,t))}(this._delegate):function L_(o){o=Vr(o,os);const e=Vr(o.firestore,Cs);return Ac(Is(e),o._key).then(t=>ym(e,o,t))}(this._delegate),t.then(l=>new $u(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new Mc(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}function Sa(o,e,t){return o.message=o.message.replace(e,t),o}function U0(o){for(const e of o)if("object"==typeof e&&!Gp(e))return e;return{}}function j0(o,e){var t,l;let d;return d=Gp(o[0])?o[0]:Gp(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:g=>{d.next&&d.next(e(g))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(l=d.complete)||void 0===l?void 0:l.bind(d)}}class $u{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Mc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return F_(this._delegate,e._delegate)}}class Em extends $u{data(e){const t=this._delegate.data(e);return function kd(o,e){o||ln()}(void 0!==t),t}}class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yh(e)}where(e,t,l){try{return new Aa(this.firestore,hh(this._delegate,function M_(o,e,t){const l=e,d=kp("where",o);return Df._create(d,l,t)}(e,t,l)))}catch(d){throw Sa(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Aa(this.firestore,hh(this._delegate,function Hb(o,e="asc"){const t=e,l=kp("orderBy",o);return uv._create(l,t)}(e,t)))}catch(l){throw Sa(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Aa(this.firestore,hh(this._delegate,function $b(o){return D_("limit",o),fm._create("limit",o,"F")}(e)))}catch(t){throw Sa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Aa(this.firestore,hh(this._delegate,function Gb(o){return D_("limitToLast",o),fm._create("limitToLast",o,"L")}(e)))}catch(t){throw Sa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Aa(this.firestore,hh(this._delegate,function dv(...o){return R_._create("startAt",o,!0)}(...e)))}catch(t){throw Sa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Aa(this.firestore,hh(this._delegate,function I0(...o){return R_._create("startAfter",o,!1)}(...e)))}catch(t){throw Sa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Aa(this.firestore,hh(this._delegate,function Lp(...o){return x_._create("endBefore",o,!1)}(...e)))}catch(t){throw Sa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Aa(this.firestore,hh(this._delegate,function fh(...o){return x_._create("endAt",o,!0)}(...e)))}catch(t){throw Sa(t,"endAt()","Query.endAt()")}}isEqual(e){return Mp(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function B_(o){o=Vr(o,Fs);const e=Vr(o.firestore,Cs),t=Is(e),l=new gh(e);return function ff(o,e){const t=new ar;return o.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(l=(0,Be.Z)(function*(d,g,b){try{const R=yield Zh(d,g,!0),H=new qg(g,R.ir),q=H.sc(R.documents),ie=H.applyChanges(q,!1);b.resolve(ie.snapshot)}catch(R){const H=ih(R,`Failed to execute query '${g} against cache`);b.reject(H)}}),function(d,g,b){return l.apply(this,arguments)})(yield im(o),e,t);var l})),t.promise}(t,o._query).then(d=>new Hu(e,l,o,d))}(this._delegate):"server"===e?.source?function ua(o){o=Vr(o,Fs);const e=Vr(o.firestore,Cs),t=Is(e),l=new gh(e);return pf(t,o._query,{source:"server"}).then(d=>new Hu(e,l,o,d))}(this._delegate):function mh(o){o=Vr(o,Fs);const e=Vr(o.firestore,Cs),t=Is(e),l=new gh(e);return wf(o._query),pf(t,o._query).then(d=>new Hu(e,l,o,d))}(this._delegate),t.then(l=>new Dm(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const t=U0(e),l=j0(e,d=>new Dm(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return Hw(this._delegate,t,l)}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}class Ww{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Em(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Em(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ww(this._firestore,t))}forEach(e,t){this._delegate.forEach(l=>{e.call(t,new Em(this._firestore,l))})}isEqual(e){return F_(this._delegate,e._delegate)}}class Wp extends Aa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mc(this.firestore,e):null}doc(e){try{return new Mc(this.firestore,void 0===e?Id(this._delegate):Id(this._delegate,e))}catch(t){throw Sa(t,"doc()","CollectionReference.doc()")}}add(e){return function Bi(o,e){const t=Vr(o.firestore,Cs),l=Id(o),d=Bp(o.converter,e);return Cf(t,[uh(ch(o.firestore),"addDoc",l._key,d,null!==o.converter,{}).toMutation(l._key,gs.exists(!1))]).then(()=>l)}(this._delegate,e).then(t=>new Mc(this.firestore,t))}isEqual(e){return Np(this._delegate,e._delegate)}withConverter(e){return new Wp(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}var wh=z(1205),iw=z(2032),zw=z(1274);function W0(o,e){return function G0(o,e=D.z){return new X.y(t=>{let l;return null!=e?e.schedule(()=>{l=o.onSnapshot({includeMetadataChanges:!0},t)}):l=o.onSnapshot({includeMetadataChanges:!0},t),()=>{l?.()}})}(o,e)}function bv(o,e){return W0(o,e).pipe((0,pe.U)(t=>({payload:t,type:"query"})))}function Cm(o,e){return bv(o,e).pipe((0,Re.O)(void 0),me(),(0,pe.U)(([t,l])=>{const d=l.payload.docChanges(),g=d.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((b,R)=>{const H=d.find(ie=>ie.doc.ref.isEqual(b.ref)),q=t?.payload.docs.find(ie=>ie.ref.isEqual(b.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(b.metadata)||!H&&q&&JSON.stringify(q.metadata)===JSON.stringify(b.metadata)||g.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:b}})}),g}))}function K0(o,e,t){return Cm(o,t).pipe((0,Se.R)((l,d)=>function sw(o,e,t){return e.forEach(l=>{t.indexOf(l.type)>-1&&(o=function ow(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return wv(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return wv(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wv(o,e.oldIndex,1)}return o}(o,l))}),o}(l,d.map(g=>g.payload),e),[]),(0,It.x)(),(0,pe.U)(l=>l.map(d=>({type:d.type,payload:d}))))}function wv(o,e,t,...l){const d=o.slice();return d.splice(e,t,...l),d}function Rd(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class Zo{constructor(e,t,l){this.ref=e,this.query=t,this.afs=l}stateChanges(e){let t=Cm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pe.U)(l=>l.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,Re.O)(void 0),me(),(0,ot.h)(([l,d])=>d.length>0||!l),(0,pe.U)(([l,d])=>d),Pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Rd(e);return K0(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(e={}){return bv(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),Pe.iC)}get(e){return(0,Ee.D)(this.query.get(e)).pipe(Pe.iC)}add(e){return this.ref.add(e)}doc(e){return new el(this.ref.doc(e),this.afs)}}class el{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const l=this.ref.collection(e),{ref:d,query:g}=Cv(l,t);return new Zo(d,g,this.afs)}snapshotChanges(){return function z0(o,e){return W0(o,e).pipe((0,Re.O)(void 0),me(),(0,pe.U)(([t,l])=>l.exists?t?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ee.D)(this.ref.get(e)).pipe(Pe.iC)}}class zp{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Cm(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.filter(l=>e.indexOf(l.type)>-1)),(0,ot.h)(t=>t.length>0),Pe.iC):Cm(this.query,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Rd(e);return K0(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(e={}){return bv(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(l=>l.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),Pe.iC)}get(e){return(0,Ee.D)(this.query.get(e)).pipe(Pe.iC)}}const Ev=new w.OlP("angularfire2.enableFirestorePersistence"),q0=new w.OlP("angularfire2.firestore.persistenceSettings"),Dv=new w.OlP("angularfire2.firestore.settings"),Z0=new w.OlP("angularfire2.firestore.use-emulator");function Cv(o,e=(t=>t)){return{query:e(o),ref:o}}let Iv=(()=>{class o{constructor(t,l,d,g,b,R,H,q,ie,be,Ze,yt,Wt,dn,wn,Cr,Xr){this.schedulers=H;const mr=(0,Ye.on)(t,R,l),Ts=ie;be&&(0,wh.nw)(mr,R,Ze,Wt,dn,wn,yt,Cr),[this.firestore,this.persistenceEnabled$]=(0,Ye.cc)(`${mr.name}.firestore`,"AngularFirestore",mr.name,()=>{const Zi=R.runOutsideAngular(()=>mr.firestore());if(g&&Zi.settings(g),Ts&&Zi.useEmulator(...Ts),d&&!(0,Lt.PM)(b)){const Ui=()=>{try{return(0,Ee.D)(Zi.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(Na){return typeof console<"u"&&console.warn(Na),(0,Ne.of)(!1)}};return[Zi,R.runOutsideAngular(Ui)]}return[Zi,(0,Ne.of)(!1)]},[g,Ts,d])}collection(t,l){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:b}=Cv(d,l),R=this.schedulers.ngZone.run(()=>g);return new Zo(R,b,this)}collectionGroup(t,l){const d=l||(b=>b),g=this.firestore.collectionGroup(t);return new zp(d(g),this)}doc(t){let l;l="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>l);return new el(d,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(t){return new(t||o)(w.LFG(Ye.Dh),w.LFG(Ye.xv,8),w.LFG(Ev,8),w.LFG(Dv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(Pe.HU),w.LFG(q0,8),w.LFG(Z0,8),w.LFG(wh.zQ,8),w.LFG(wh.Qv,8),w.LFG(wh.L6,8),w.LFG(wh._Q,8),w.LFG(wh.rT,8),w.LFG(wh.lh,8),w.LFG(wh.f7,8),w.LFG(iw.nm,8))},o.\u0275prov=w.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),Tv=(()=>{class o{constructor(){zw.Z.registerVersion("angularfire",Pe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:o,providers:[{provide:Ev,useValue:!0},{provide:q0,useValue:t}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=w.oAB({type:o}),o.\u0275inj=w.cJS({providers:[Iv]}),o})()},2011:(Jt,Je,z)=>{z.d(Je,{Dh:()=>Fe,GT:()=>Pe,cc:()=>ot,hO:()=>It,on:()=>me,pX:()=>Ne,xv:()=>We});var w=z(4650),D=z(1274),X=z(710);Jt=z.hmd(Jt);const Ee=["ngOnDestroy"],Ne=(Xe,Be,Vt,mt={})=>new Proxy(Xe,{get:(tt,ze)=>Vt.runOutsideAngular(()=>{var Ot;if(Xe[ze])return!(null===(Ot=mt?.spy)||void 0===Ot)&&Ot.get&&mt.spy.get(ze,Xe[ze]),Xe[ze];if(Ee.indexOf(ze)>-1)return()=>{};const Dt=Be.toPromise().then(we=>{const ct=we&&we[ze];return"function"==typeof ct?ct.bind(we):ct&&ct.then?ct.then(dt=>Vt.run(()=>dt)):Vt.run(()=>ct)});return new Proxy(()=>{},{get:(we,ct)=>Dt[ct],apply:(we,ct,dt)=>Dt.then(Tt=>{var rn;const Pt=Tt&&Tt(...dt);return!(null===(rn=mt?.spy)||void 0===rn)&&rn.apply&&mt.spy.apply(ze,dt,Pt),Pt})})})}),Pe=(Xe,Be)=>{Be.forEach(Vt=>{Object.getOwnPropertyNames(Vt.prototype||Vt).forEach(mt=>{Object.defineProperty(Xe.prototype,mt,Object.getOwnPropertyDescriptor(Vt.prototype||Vt,mt))})})};class Re{constructor(Be){return Be}}const Fe=new w.OlP("angularfire2.app.options"),We=new w.OlP("angularfire2.app.name");function me(Xe,Be,Vt){const tt="object"==typeof Vt&&Vt||{};tt.name=tt.name||"string"==typeof Vt&&Vt||"[DEFAULT]";const Ot=D.Z.apps.filter(Dt=>Dt&&Dt.name===tt.name)[0]||Be.runOutsideAngular(()=>D.Z.initializeApp(Xe,tt));try{JSON.stringify(Xe)!==JSON.stringify(Ot.options)&&pe("error",`${Ot.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Re(Ot)}const pe=(Xe,...Be)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Xe](...Be)},Se={provide:Re,useFactory:me,deps:[Fe,w.R0b,[new w.FiY,We]]};let It=(()=>{class Xe{constructor(Vt){D.Z.registerVersion("angularfire",X.q4.full,"core"),D.Z.registerVersion("angularfire",X.q4.full,"app-compat"),D.Z.registerVersion("angular",w.q4F.full,Vt.toString())}static initializeApp(Vt,mt){return{ngModule:Xe,providers:[{provide:Fe,useValue:Vt},{provide:We,useValue:mt}]}}}return Xe.\u0275fac=function(Vt){return new(Vt||Xe)(w.LFG(w.Lbi))},Xe.\u0275mod=w.oAB({type:Xe}),Xe.\u0275inj=w.cJS({providers:[Se]}),Xe})();function ot(Xe,Be,Vt,mt,tt){const[,ze,Ot]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Xe)||[];if(ze)return function Ye(Xe,Be){try{return Xe.toString()===Be.toString()}catch{return Xe===Be}}(tt,Ot)||(lt("error",`${Be} was already initialized on the ${Vt} Firebase App with different settings.${Lt?" You may need to reload as Firebase is not HMR aware.":""}`),lt("warn",{is:tt,was:Ot})),ze;{const Dt=mt();return globalThis.\u0275AngularfireInstanceCache.push([Xe,Dt,tt]),Dt}}const Lt=!!Jt.hot,lt=(Xe,...Be)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Xe](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(Jt,Je,z)=>{z.d(Je,{q4:()=>ns,iC:()=>Jl,fc:()=>Ka,HU:()=>hu,vb:()=>du,JM:()=>vc});var w=z(4650),D=z(8140),X=z(5861),Ee=z(9681),Ne=z(2090),Pe=z(4859),Re=z(1877);let We,me;const It=new WeakMap,ot=new WeakMap,Ye=new WeakMap,Lt=new WeakMap,lt=new WeakMap;let Vt={get(M,k,Y){if(M instanceof IDBTransaction){if("done"===k)return ot.get(M);if("objectStoreNames"===k)return M.objectStoreNames||Ye.get(M);if("store"===k)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Ot(M[k])},set:(M,k,Y)=>(M[k]=Y,!0),has:(M,k)=>M instanceof IDBTransaction&&("done"===k||"store"===k)||k in M};function ze(M){return"function"==typeof M?function tt(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...k){return M.apply(Dt(this),k),Ot(It.get(this))}:function(...k){return Ot(M.apply(Dt(this),k))}:function(k,...Y){const le=M.call(Dt(this),k,...Y);return Ye.set(le,k.sort?k.sort():[k]),Ot(le)}}(M):(M instanceof IDBTransaction&&function Be(M){if(ot.has(M))return;const k=new Promise((Y,le)=>{const xe=()=>{M.removeEventListener("complete",He),M.removeEventListener("error",pt),M.removeEventListener("abort",pt)},He=()=>{Y(),xe()},pt=()=>{le(M.error||new DOMException("AbortError","AbortError")),xe()};M.addEventListener("complete",He),M.addEventListener("error",pt),M.addEventListener("abort",pt)});ot.set(M,k)}(M),((M,k)=>k.some(Y=>M instanceof Y))(M,function pe(){return We||(We=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Vt):M)}function Ot(M){if(M instanceof IDBRequest)return function Xe(M){const k=new Promise((Y,le)=>{const xe=()=>{M.removeEventListener("success",He),M.removeEventListener("error",pt)},He=()=>{Y(Ot(M.result)),xe()},pt=()=>{le(M.error),xe()};M.addEventListener("success",He),M.addEventListener("error",pt)});return k.then(Y=>{Y instanceof IDBCursor&&It.set(Y,M)}).catch(()=>{}),lt.set(k,M),k}(M);if(Lt.has(M))return Lt.get(M);const k=ze(M);return k!==M&&(Lt.set(M,k),lt.set(k,M)),k}const Dt=M=>lt.get(M),dt=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],rn=new Map;function Pt(M,k){if(!(M instanceof IDBDatabase)||k in M||"string"!=typeof k)return;if(rn.get(k))return rn.get(k);const Y=k.replace(/FromIndex$/,""),le=k!==Y,xe=Tt.includes(Y);if(!(Y in(le?IDBIndex:IDBObjectStore).prototype)||!xe&&!dt.includes(Y))return;const He=function(){var pt=(0,X.Z)(function*(Gt,...Rt){const Sn=this.transaction(Gt,xe?"readwrite":"readonly");let Mn=Sn.store;return le&&(Mn=Mn.index(Rt.shift())),(yield Promise.all([Mn[Y](...Rt),xe&&Sn.done]))[0]});return function(Rt){return pt.apply(this,arguments)}}();return rn.set(k,He),He}!function mt(M){Vt=M(Vt)}(M=>({...M,get:(k,Y,le)=>Pt(k,Y)||M.get(k,Y,le),has:(k,Y)=>!!Pt(k,Y)||M.has(k,Y)}));const Yn="@firebase/installations",Hn="w:0.6.4",Te="FIS_v2",Ut=new Ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function At(M){return M instanceof Ne.ZR&&M.code.includes("request-failed")}function Zt({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function _n(M){return{token:M.token,requestStatus:2,expiresIn:vt(M.expiresIn),creationTime:Date.now()}}function pn(M,k){return zt.apply(this,arguments)}function zt(){return(zt=(0,X.Z)(function*(M,k){const le=(yield k.json()).error;return Ut.create("request-failed",{requestName:M,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function Dn({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Wn(M,{refreshToken:k}){const Y=Dn(M);return Y.append("Authorization",function lr(M){return`${Te} ${M}`}(k)),Y}function zn(M){return hr.apply(this,arguments)}function hr(){return(hr=(0,X.Z)(function*(M){const k=yield M();return k.status>=500&&k.status<600?M():k})).apply(this,arguments)}function vt(M){return Number(M.replace("s","000"))}function wt(M,k){return kn.apply(this,arguments)}function kn(){return(kn=(0,X.Z)(function*({appConfig:M,heartbeatServiceProvider:k},{fid:Y}){const le=Zt(M),xe=Dn(M),He=k.getImmediate({optional:!0});if(He){const Sn=yield He.getHeartbeatsHeader();Sn&&xe.append("x-firebase-client",Sn)}const Gt={method:"POST",headers:xe,body:JSON.stringify({fid:Y,authVersion:Te,appId:M.appId,sdkVersion:Hn})},Rt=yield zn(()=>fetch(le,Gt));if(Rt.ok){const Sn=yield Rt.json();return{fid:Sn.fid||Y,registrationStatus:2,refreshToken:Sn.refreshToken,authToken:_n(Sn.authToken)}}throw yield pn("Create Installation",Rt)})).apply(this,arguments)}function nr(M){return new Promise(k=>{setTimeout(k,M)})}const ls=/^[cdef][\w-]{21}$/;function fr(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Y=function vr(M){return function Br(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return ls.test(Y)?Y:""}catch{return""}}function Fn(M){return`${M.appName}!${M.appId}`}const mn=new Map;function hn(M,k){const Y=Fn(M);Vn(Y,k),function on(M,k){const Y=function xr(){return!bn&&"BroadcastChannel"in self&&(bn=new BroadcastChannel("[Firebase] FID Change"),bn.onmessage=M=>{Vn(M.data.key,M.data.fid)}),bn}();Y&&Y.postMessage({key:M,fid:k}),function On(){0===mn.size&&bn&&(bn.close(),bn=null)}()}(Y,k)}function Vn(M,k){const Y=mn.get(M);if(Y)for(const le of Y)le(k)}let bn=null;const Ir="firebase-installations-store";let ri=null;function ut(){return ri||(ri=function we(M,k,{blocked:Y,upgrade:le,blocking:xe,terminated:He}={}){const pt=indexedDB.open(M,k),Gt=Ot(pt);return le&&pt.addEventListener("upgradeneeded",Rt=>{le(Ot(pt.result),Rt.oldVersion,Rt.newVersion,Ot(pt.transaction))}),Y&&pt.addEventListener("blocked",()=>Y()),Gt.then(Rt=>{He&&Rt.addEventListener("close",()=>He()),xe&&Rt.addEventListener("versionchange",()=>xe())}).catch(()=>{}),Gt}("firebase-installations-database",1,{upgrade:(M,k)=>{0===k&&M.createObjectStore(Ir)}})),ri}function Ie(M,k){return ht.apply(this,arguments)}function ht(){return(ht=(0,X.Z)(function*(M,k){const Y=Fn(M),xe=(yield ut()).transaction(Ir,"readwrite"),He=xe.objectStore(Ir),pt=yield He.get(Y);return yield He.put(k,Y),yield xe.done,(!pt||pt.fid!==k.fid)&&hn(M,k.fid),k})).apply(this,arguments)}function jt(M){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,X.Z)(function*(M){const k=Fn(M),le=(yield ut()).transaction(Ir,"readwrite");yield le.objectStore(Ir).delete(k),yield le.done})).apply(this,arguments)}function en(M,k){return rr.apply(this,arguments)}function rr(){return(rr=(0,X.Z)(function*(M,k){const Y=Fn(M),xe=(yield ut()).transaction(Ir,"readwrite"),He=xe.objectStore(Ir),pt=yield He.get(Y),Gt=k(pt);return void 0===Gt?yield He.delete(Y):yield He.put(Gt,Y),yield xe.done,Gt&&(!pt||pt.fid!==Gt.fid)&&hn(M,Gt.fid),Gt})).apply(this,arguments)}function ye(M){return _e.apply(this,arguments)}function _e(){return(_e=(0,X.Z)(function*(M){let k;const Y=yield en(M.appConfig,le=>{const xe=Le(le),He=nt(M,xe);return k=He.registrationPromise,He.installationEntry});return""===Y.fid?{installationEntry:yield k}:{installationEntry:Y,registrationPromise:k}})).apply(this,arguments)}function Le(M){return fe(M||{fid:fr(),registrationStatus:0})}function nt(M,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ut.create("app-offline"))};const Y={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},le=function $e(M,k){return Ht.apply(this,arguments)}(M,Y);return{installationEntry:Y,registrationPromise:le}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:gn(M)}:{installationEntry:k}}function Ht(){return(Ht=(0,X.Z)(function*(M,k){try{const Y=yield wt(M,k);return Ie(M.appConfig,Y)}catch(Y){throw At(Y)&&409===Y.customData.serverCode?yield jt(M.appConfig):yield Ie(M.appConfig,{fid:k.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function gn(M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,X.Z)(function*(M){let k=yield tr(M.appConfig);for(;1===k.registrationStatus;)yield nr(100),k=yield tr(M.appConfig);if(0===k.registrationStatus){const{installationEntry:Y,registrationPromise:le}=yield ye(M);return le||Y}return k})).apply(this,arguments)}function tr(M){return en(M,k=>{if(!k)throw Ut.create("installation-not-found");return fe(k)})}function fe(M){return function de(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function se(M,k){return je.apply(this,arguments)}function je(){return(je=(0,X.Z)(function*({appConfig:M,heartbeatServiceProvider:k},Y){const le=_t(M,Y),xe=Wn(M,Y),He=k.getImmediate({optional:!0});if(He){const Sn=yield He.getHeartbeatsHeader();Sn&&xe.append("x-firebase-client",Sn)}const Gt={method:"POST",headers:xe,body:JSON.stringify({installation:{sdkVersion:Hn,appId:M.appId}})},Rt=yield zn(()=>fetch(le,Gt));if(Rt.ok)return _n(yield Rt.json());throw yield pn("Generate Auth Token",Rt)})).apply(this,arguments)}function _t(M,{fid:k}){return`${Zt(M)}/${k}/authTokens:generate`}function Yt(M){return An.apply(this,arguments)}function An(){return(An=(0,X.Z)(function*(M,k=!1){let Y;const le=yield en(M.appConfig,He=>{if(!Ii(He))throw Ut.create("not-registered");const pt=He.authToken;if(!k&&Sr(pt))return He;if(1===pt.requestStatus)return Y=Ln(M,k),He;{if(!navigator.onLine)throw Ut.create("app-offline");const Gt=Fr(He);return Y=xn(M,Gt),Gt}});return Y?yield Y:le.authToken})).apply(this,arguments)}function Ln(M,k){return kr.apply(this,arguments)}function kr(){return(kr=(0,X.Z)(function*(M,k){let Y=yield vi(M.appConfig);for(;1===Y.authToken.requestStatus;)yield nr(100),Y=yield vi(M.appConfig);const le=Y.authToken;return 0===le.requestStatus?Yt(M,k):le})).apply(this,arguments)}function vi(M){return en(M,k=>{if(!Ii(k))throw Ut.create("not-registered");return function Ti(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function xn(M,k){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,X.Z)(function*(M,k){try{const Y=yield se(M,k),le=Object.assign(Object.assign({},k),{authToken:Y});return yield Ie(M.appConfig,le),Y}catch(Y){if(!At(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const le=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Ie(M.appConfig,le)}else yield jt(M.appConfig);throw Y}})).apply(this,arguments)}function Ii(M){return void 0!==M&&2===M.registrationStatus}function Sr(M){return 2===M.requestStatus&&!function _s(M){const k=Date.now();return k<M.creationTime||M.creationTime+M.expiresIn<k+36e5}(M)}function Fr(M){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:k})}function Hi(){return(Hi=(0,X.Z)(function*(M){const k=M,{installationEntry:Y,registrationPromise:le}=yield ye(k);return le?le.catch(console.error):Yt(k).catch(console.error),Y.fid})).apply(this,arguments)}function Po(){return(Po=(0,X.Z)(function*(M,k=!1){const Y=M;return yield ur(Y),(yield Yt(Y,k)).token})).apply(this,arguments)}function ur(M){return zs.apply(this,arguments)}function zs(){return(zs=(0,X.Z)(function*(M){const{registrationPromise:k}=yield ye(M);k&&(yield k)})).apply(this,arguments)}function Rr(M){return Ut.create("missing-app-config-values",{valueName:M})}const ii="installations",us=M=>{const k=M.getProvider("app").getImmediate(),Y=function Vs(M){if(!M||!M.options)throw Rr("App Configuration");if(!M.name)throw Rr("App Name");const k=["projectId","apiKey","appId"];for(const Y of k)if(!M.options[Y])throw Rr(Y);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(k);return{app:k,appConfig:Y,heartbeatServiceProvider:(0,Ee._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},po=M=>{const k=M.getProvider("app").getImmediate(),Y=(0,Ee._getProvider)(k,ii).getImmediate();return{getId:()=>function zr(M){return Hi.apply(this,arguments)}(Y),getToken:xe=>function fo(M){return Po.apply(this,arguments)}(Y,xe)}};(function ds(){(0,Ee._registerComponent)(new Pe.wA(ii,us,"PUBLIC")),(0,Ee._registerComponent)(new Pe.wA("installations-internal",po,"PRIVATE"))})(),(0,Ee.registerVersion)(Yn,"0.6.4"),(0,Ee.registerVersion)(Yn,"0.6.4","esm2017");const bi="@firebase/remote-config",Ur=new Ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oo{constructor(k,Y,le,xe){this.client=k,this.storage=Y,this.storageCache=le,this.logger=xe}isCachedDataFresh(k,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-Y,xe=le<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${xe}.`),xe}fetch(k){var Y=this;return(0,X.Z)(function*(){const[le,xe]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(xe&&Y.isCachedDataFresh(k.cacheMaxAgeMillis,le))return xe;k.eTag=xe&&xe.eTag;const He=yield Y.client.fetch(k),pt=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===He.status&&pt.push(Y.storage.setLastSuccessfulFetchResponse(He)),yield Promise.all(pt),He})()}}function qs(M=navigator){return M.languages&&M.languages[0]||M.language}class Zs{constructor(k,Y,le,xe,He,pt){this.firebaseInstallations=k,this.sdkVersion=Y,this.namespace=le,this.projectId=xe,this.apiKey=He,this.appId=pt}fetch(k){var Y=this;return(0,X.Z)(function*(){const[le,xe]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Rt={sdk_version:Y.sdkVersion,app_instance_id:le,app_instance_id_token:xe,app_id:Y.appId,language_code:qs()},Sn={method:"POST",headers:Gt,body:JSON.stringify(Rt)},Mn=fetch(pt,Sn),Xn=new Promise((Gs,gl)=>{k.signal.addEventListener(()=>{const bc=new Error("The operation was aborted.");bc.name="AbortError",gl(bc)})});let uo;try{yield Promise.race([Mn,Xn]),uo=yield Mn}catch(Gs){let gl="fetch-client-network";throw"AbortError"===Gs?.name&&(gl="fetch-timeout"),Ur.create(gl,{originalErrorMessage:Gs?.message})}let $r=uo.status;const is=uo.headers.get("ETag")||void 0;let ci,to;if(200===uo.status){let Gs;try{Gs=yield uo.json()}catch(gl){throw Ur.create("fetch-client-parse",{originalErrorMessage:gl?.message})}ci=Gs.entries,to=Gs.state}if("INSTANCE_STATE_UNSPECIFIED"===to?$r=500:"NO_CHANGE"===to?$r=304:("NO_TEMPLATE"===to||"EMPTY_CONFIG"===to)&&(ci={}),304!==$r&&200!==$r)throw Ur.create("fetch-status",{httpStatus:$r});return{status:$r,eTag:is,config:ci}})()}}class Bl{constructor(k,Y){this.client=k,this.storage=Y}fetch(k){var Y=this;return(0,X.Z)(function*(){const le=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(k,le)})()}attemptFetch(k,{throttleEndTimeMillis:Y,backoffCount:le}){var xe=this;return(0,X.Z)(function*(){yield function Ys(M,k){return new Promise((Y,le)=>{const xe=Math.max(k-Date.now(),0),He=setTimeout(Y,xe);M.addEventListener(()=>{clearTimeout(He),le(Ur.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,Y);try{const He=yield xe.client.fetch(k);return yield xe.storage.deleteThrottleMetadata(),He}catch(He){if(!function Oa(M){if(!(M instanceof Ne.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}(He))throw He;const pt={throttleEndTimeMillis:Date.now()+(0,Ne.$s)(le),backoffCount:le+1};return yield xe.storage.setThrottleMetadata(pt),xe.attemptFetch(k,pt)}})()}}class Pa{constructor(k,Y,le,xe,He){this.app=k,this._client=Y,this._storageCache=le,this._storage=xe,this._logger=He,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wi(M,k){const Y=M.target.error||void 0;return Ur.create(k,{originalErrorMessage:Y&&Y?.message})}const Ei="app_namespace_store";class Kr{constructor(k,Y,le,xe=function Qo(){return new Promise((M,k)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=le=>{k(wi(le,"storage-open"))},Y.onsuccess=le=>{M(le.target.result)},Y.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(Ei,{keyPath:"compositeKey"})}}catch(Y){k(Ur.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=k,this.appName=Y,this.namespace=le,this.openDbPromise=xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var Y=this;return(0,X.Z)(function*(){const le=yield Y.openDbPromise;return new Promise((xe,He)=>{const Gt=le.transaction([Ei],"readonly").objectStore(Ei),Rt=Y.createCompositeKey(k);try{const Sn=Gt.get(Rt);Sn.onerror=Mn=>{He(wi(Mn,"storage-get"))},Sn.onsuccess=Mn=>{const Xn=Mn.target.result;xe(Xn?Xn.value:void 0)}}catch(Sn){He(Ur.create("storage-get",{originalErrorMessage:Sn?.message}))}})})()}set(k,Y){var le=this;return(0,X.Z)(function*(){const xe=yield le.openDbPromise;return new Promise((He,pt)=>{const Rt=xe.transaction([Ei],"readwrite").objectStore(Ei),Sn=le.createCompositeKey(k);try{const Mn=Rt.put({compositeKey:Sn,value:Y});Mn.onerror=Xn=>{pt(wi(Xn,"storage-set"))},Mn.onsuccess=()=>{He()}}catch(Mn){pt(Ur.create("storage-set",{originalErrorMessage:Mn?.message}))}})})()}delete(k){var Y=this;return(0,X.Z)(function*(){const le=yield Y.openDbPromise;return new Promise((xe,He)=>{const Gt=le.transaction([Ei],"readwrite").objectStore(Ei),Rt=Y.createCompositeKey(k);try{const Sn=Gt.delete(Rt);Sn.onerror=Mn=>{He(wi(Mn,"storage-delete"))},Sn.onsuccess=()=>{xe()}}catch(Sn){He(Ur.create("storage-delete",{originalErrorMessage:Sn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Si{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,X.Z)(function*(){const Y=k.storage.getLastFetchStatus(),le=k.storage.getLastSuccessfulFetchTimestampMillis(),xe=k.storage.getActiveConfig(),He=yield Y;He&&(k.lastFetchStatus=He);const pt=yield le;pt&&(k.lastSuccessfulFetchTimestampMillis=pt);const Gt=yield xe;Gt&&(k.activeConfig=Gt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function vs(){return vo.apply(this,arguments)}function vo(){return(vo=(0,X.Z)(function*(){if(!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch{return!1}})).apply(this,arguments)}let bs,Mi;!function yo(){(0,Ee._registerComponent)(new Pe.wA("remote-config",function M(k,{instanceIdentifier:Y}){const le=k.getProvider("app").getImmediate(),xe=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ur.create("registration-window");if(!(0,Ne.hl)())throw Ur.create("indexed-db-unavailable");const{projectId:He,apiKey:pt,appId:Gt}=le.options;if(!He)throw Ur.create("registration-project-id");if(!pt)throw Ur.create("registration-api-key");if(!Gt)throw Ur.create("registration-app-id");const Rt=new Kr(Gt,le.name,Y=Y||"firebase"),Sn=new Si(Rt),Mn=new Re.Yd(bi);Mn.logLevel=Re.in.ERROR;const Xn=new Zs(xe,Ee.SDK_VERSION,Y,He,pt,Gt),uo=new Bl(Xn,Rt),$r=new oo(uo,Rt,Sn,Mn),is=new Pa(le,$r,Sn,Rt,Mn);return function br(M){const k=(0,Ne.m9)(M);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(is),is},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(bi,"0.4.4"),(0,Ee.registerVersion)(bi,"0.4.4","esm2017")}();const Ul=new WeakMap,Gi=new WeakMap,Pi=new WeakMap,Ns=new WeakMap,Nn=new WeakMap;let dc={get(M,k,Y){if(M instanceof IDBTransaction){if("done"===k)return Gi.get(M);if("objectStoreNames"===k)return M.objectStoreNames||Pi.get(M);if("store"===k)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return hs(M[k])},set:(M,k,Y)=>(M[k]=Y,!0),has:(M,k)=>M instanceof IDBTransaction&&("done"===k||"store"===k)||k in M};function La(M){return"function"==typeof M?function Xo(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ri(){return Mi||(Mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...k){return M.apply(ao(this),k),hs(Ul.get(this))}:function(...k){return hs(M.apply(ao(this),k))}:function(k,...Y){const le=M.call(ao(this),k,...Y);return Pi.set(le,k.sort?k.sort():[k]),hs(le)}}(M):(M instanceof IDBTransaction&&function xc(M){if(Gi.has(M))return;const k=new Promise((Y,le)=>{const xe=()=>{M.removeEventListener("complete",He),M.removeEventListener("error",pt),M.removeEventListener("abort",pt)},He=()=>{Y(),xe()},pt=()=>{le(M.error||new DOMException("AbortError","AbortError")),xe()};M.addEventListener("complete",He),M.addEventListener("error",pt),M.addEventListener("abort",pt)});Gi.set(M,k)}(M),((M,k)=>k.some(Y=>M instanceof Y))(M,function tl(){return bs||(bs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,dc):M)}function hs(M){if(M instanceof IDBRequest)return function jl(M){const k=new Promise((Y,le)=>{const xe=()=>{M.removeEventListener("success",He),M.removeEventListener("error",pt)},He=()=>{Y(hs(M.result)),xe()},pt=()=>{le(M.error),xe()};M.addEventListener("success",He),M.addEventListener("error",pt)});return k.then(Y=>{Y instanceof IDBCursor&&Ul.set(Y,M)}).catch(()=>{}),Nn.set(k,M),k}(M);if(Ns.has(M))return Ns.get(M);const k=La(M);return k!==M&&(Ns.set(M,k),Nn.set(k,M)),k}const ao=M=>Nn.get(M);function Mt(M,k,{blocked:Y,upgrade:le,blocking:xe,terminated:He}={}){const pt=indexedDB.open(M,k),Gt=hs(pt);return le&&pt.addEventListener("upgradeneeded",Rt=>{le(hs(pt.result),Rt.oldVersion,Rt.newVersion,hs(pt.transaction))}),Y&&pt.addEventListener("blocked",()=>Y()),Gt.then(Rt=>{He&&Rt.addEventListener("close",()=>He()),xe&&Rt.addEventListener("versionchange",()=>xe())}).catch(()=>{}),Gt}function cr(M,{blocked:k}={}){const Y=indexedDB.deleteDatabase(M);return k&&Y.addEventListener("blocked",()=>k()),hs(Y).then(()=>{})}const Ms=["get","getKey","getAll","getAllKeys","count"],Js=["put","add","delete","clear"],si=new Map;function ga(M,k){if(!(M instanceof IDBDatabase)||k in M||"string"!=typeof k)return;if(si.get(k))return si.get(k);const Y=k.replace(/FromIndex$/,""),le=k!==Y,xe=Js.includes(Y);if(!(Y in(le?IDBIndex:IDBObjectStore).prototype)||!xe&&!Ms.includes(Y))return;const He=function(){var pt=(0,X.Z)(function*(Gt,...Rt){const Sn=this.transaction(Gt,xe?"readwrite":"readonly");let Mn=Sn.store;return le&&(Mn=Mn.index(Rt.shift())),(yield Promise.all([Mn[Y](...Rt),xe&&Sn.done]))[0]});return function(Rt){return pt.apply(this,arguments)}}();return si.set(k,He),He}!function Jo(M){dc=M(dc)}(M=>({...M,get:(k,Y,le)=>ga(k,Y)||M.get(k,Y,le),has:(k,Y)=>!!ga(k,Y)||M.has(k,Y)}));const bo="/firebase-messaging-sw.js",ws="/firebase-cloud-messaging-push-scope",Va="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hc="google.c.a.c_id",qr="google.c.a.c_l",W="google.c.a.ts",U="google.c.a.e";var te=(()=>{return(M=te||(te={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",te;var M})();function rt(M){const k=new Uint8Array(M);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function an(M){const Y=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(Y),xe=new Uint8Array(le.length);for(let He=0;He<le.length;++He)xe[He]=le.charCodeAt(He);return xe}const pr="fcm_token_details_db",lo="fcm_token_object_Store";function wo(M){return ko.apply(this,arguments)}function ko(){return ko=(0,X.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(He=>He.name).includes(pr))return null;let k=null;return(yield Mt(pr,5,{upgrade:(le=(0,X.Z)(function*(xe,He,pt,Gt){var Rt;if(He<2||!xe.objectStoreNames.contains(lo))return;const Sn=Gt.objectStore(lo),Mn=yield Sn.index("fcmSenderId").get(M);if(yield Sn.clear(),Mn)if(2===He){const Xn=Mn;if(!Xn.auth||!Xn.p256dh||!Xn.endpoint)return;k={token:Xn.fcmToken,createTime:null!==(Rt=Xn.createTime)&&void 0!==Rt?Rt:Date.now(),subscriptionOptions:{auth:Xn.auth,p256dh:Xn.p256dh,endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:"string"==typeof Xn.vapidKey?Xn.vapidKey:rt(Xn.vapidKey)}}}else if(3===He){const Xn=Mn;k={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:rt(Xn.auth),p256dh:rt(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:rt(Xn.vapidKey)}}}else if(4===He){const Xn=Mn;k={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:rt(Xn.auth),p256dh:rt(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:rt(Xn.vapidKey)}}}}),function(He,pt,Gt,Rt){return le.apply(this,arguments)})})).close(),yield cr(pr),yield cr("fcm_vapid_details_db"),yield cr("undefined"),Xi(k)?k:null;var le}),ko.apply(this,arguments)}function Xi(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:k}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Wi="firebase-messaging-store";let Ba=null;function Fo(){return Ba||(Ba=Mt("firebase-messaging-database",1,{upgrade:(M,k)=>{0===k&&M.createObjectStore(Wi)}})),Ba}function Eo(M){return _a.apply(this,arguments)}function _a(){return(_a=(0,X.Z)(function*(M){const k=rl(M),le=yield(yield Fo()).transaction(Wi).objectStore(Wi).get(k);if(le)return le;{const xe=yield wo(M.appConfig.senderId);if(xe)return yield ya(M,xe),xe}})).apply(this,arguments)}function ya(M,k){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,X.Z)(function*(M,k){const Y=rl(M),xe=(yield Fo()).transaction(Wi,"readwrite");return yield xe.objectStore(Wi).put(k,Y),yield xe.done,k})).apply(this,arguments)}function ja(M){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,X.Z)(function*(M){const k=rl(M),le=(yield Fo()).transaction(Wi,"readwrite");yield le.objectStore(Wi).delete(k),yield le.done})).apply(this,arguments)}function rl({appConfig:M}){return M.appId}const Mr=new Ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Do(M,k){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,X.Z)(function*(M,k){const Y=yield js(M),le=Co(k),xe={method:"POST",headers:Y,body:JSON.stringify(le)};let He;try{He=yield(yield fetch($l(M.appConfig),xe)).json()}catch(pt){throw Mr.create("token-subscribe-failed",{errorInfo:pt?.toString()})}if(He.error)throw Mr.create("token-subscribe-failed",{errorInfo:He.error.message});if(!He.token)throw Mr.create("token-subscribe-no-token");return He.token})).apply(this,arguments)}function sl(M,k){return ol.apply(this,arguments)}function ol(){return(ol=(0,X.Z)(function*(M,k){const Y=yield js(M),le=Co(k.subscriptionOptions),xe={method:"PATCH",headers:Y,body:JSON.stringify(le)};let He;try{He=yield(yield fetch(`${$l(M.appConfig)}/${k.token}`,xe)).json()}catch(pt){throw Mr.create("token-update-failed",{errorInfo:pt?.toString()})}if(He.error)throw Mr.create("token-update-failed",{errorInfo:He.error.message});if(!He.token)throw Mr.create("token-update-no-token");return He.token})).apply(this,arguments)}function Vo(M,k){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,X.Z)(function*(M,k){const le={method:"DELETE",headers:yield js(M)};try{const He=yield(yield fetch(`${$l(M.appConfig)}/${k}`,le)).json();if(He.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:He.error.message})}catch(xe){throw Mr.create("token-unsubscribe-failed",{errorInfo:xe?.toString()})}})).apply(this,arguments)}function $l({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function js(M){return al.apply(this,arguments)}function al(){return(al=(0,X.Z)(function*({appConfig:M,installations:k}){const Y=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Co({p256dh:M,auth:k,endpoint:Y,vapidKey:le}){const xe={web:{endpoint:Y,auth:k,p256dh:M}};return le!==Va&&(xe.web.applicationPubKey=le),xe}const Gl=6048e5;function Wl(M){return ll.apply(this,arguments)}function ll(){return(ll=(0,X.Z)(function*(M){const k=yield cl(M.swRegistration,M.vapidKey),Y={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:k.endpoint,auth:rt(k.getKey("auth")),p256dh:rt(k.getKey("p256dh"))},le=yield Eo(M.firebaseDependencies);if(le){if(O(le.subscriptionOptions,Y))return Date.now()>=le.createTime+Gl?Ha(M,{token:le.token,createTime:Date.now(),subscriptionOptions:Y}):le.token;try{yield Vo(M.firebaseDependencies,le.token)}catch(xe){console.warn(xe)}return Oc(M.firebaseDependencies,Y)}return Oc(M.firebaseDependencies,Y)})).apply(this,arguments)}function xs(M){return Io.apply(this,arguments)}function Io(){return(Io=(0,X.Z)(function*(M){const k=yield Eo(M.firebaseDependencies);k&&(yield Vo(M.firebaseDependencies,k.token),yield ja(M.firebaseDependencies));const Y=yield M.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function Ha(M,k){return $a.apply(this,arguments)}function $a(){return($a=(0,X.Z)(function*(M,k){try{const Y=yield sl(M.firebaseDependencies,k),le=Object.assign(Object.assign({},k),{token:Y,createTime:Date.now()});return yield ya(M.firebaseDependencies,le),Y}catch(Y){throw yield xs(M),Y}})).apply(this,arguments)}function Oc(M,k){return Os.apply(this,arguments)}function Os(){return(Os=(0,X.Z)(function*(M,k){const le={token:yield Do(M,k),createTime:Date.now(),subscriptionOptions:k};return yield ya(M,le),le.token})).apply(this,arguments)}function cl(M,k){return jr.apply(this,arguments)}function jr(){return(jr=(0,X.Z)(function*(M,k){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:an(k)})})).apply(this,arguments)}function O(M,k){return k.vapidKey===M.vapidKey&&k.endpoint===M.endpoint&&k.auth===M.auth&&k.p256dh===M.p256dh}function Z(M){const k={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function B(M,k){if(!k.notification)return;M.notification={};const Y=k.notification.title;Y&&(M.notification.title=Y);const le=k.notification.body;le&&(M.notification.body=le);const xe=k.notification.image;xe&&(M.notification.image=xe);const He=k.notification.icon;He&&(M.notification.icon=He)}(k,M),function ne(M,k){!k.data||(M.data=k.data)}(k,M),function De(M,k){var Y,le,xe,He,pt;if(!(k.fcmOptions||null!==(Y=k.notification)&&void 0!==Y&&Y.click_action))return;M.fcmOptions={};const Gt=null!==(xe=null===(le=k.fcmOptions)||void 0===le?void 0:le.link)&&void 0!==xe?xe:null===(He=k.notification)||void 0===He?void 0:He.click_action;Gt&&(M.fcmOptions.link=Gt);const Rt=null===(pt=k.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Rt&&(M.fcmOptions.analyticsLabel=Rt)}(k,M),k}function at(M){return"object"==typeof M&&!!M&&hc in M}function Ct(M,k){const Y=[];for(let le=0;le<M.length;le++)Y.push(M.charAt(le)),le<k.length&&Y.push(k.charAt(le));return Y.join("")}function ir(M){return Mr.create("missing-app-config-values",{valueName:M})}Ct("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ct("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qn{constructor(k,Y,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xe=function Cn(M){if(!M||!M.options)throw ir("App Configuration Object");if(!M.name)throw ir("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=M;for(const le of k)if(!Y[le])throw ir(le);return{appName:M.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:xe,installations:Y,analyticsProvider:le}}_delete(){return Promise.resolve()}}function $n(M){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,X.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(bo,{scope:ws}),M.swRegistration.update().catch(()=>{})}catch(k){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function di(M,k){return Or.apply(this,arguments)}function Or(){return(Or=(0,X.Z)(function*(M,k){if(!k&&!M.swRegistration&&(yield $n(M)),k||!M.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");M.swRegistration=k}})).apply(this,arguments)}function ki(M,k){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,X.Z)(function*(M,k){k?M.vapidKey=k:M.vapidKey||(M.vapidKey=Va)})).apply(this,arguments)}function ta(){return(ta=(0,X.Z)(function*(M,k){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield ki(M,k?.vapidKey),yield di(M,k?.serviceWorkerRegistration),Wl(M)})).apply(this,arguments)}function Ki(M,k,Y){return na.apply(this,arguments)}function na(){return(na=(0,X.Z)(function*(M,k,Y){const le=To(k);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:Y[hc],message_name:Y[qr],message_time:Y[W],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function To(M){switch(M){case te.NOTIFICATION_CLICKED:return"notification_open";case te.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function va(){return(va=(0,X.Z)(function*(M,k){const Y=k.data;if(!Y.isFirebaseMessaging)return;M.onMessageHandler&&Y.messageType===te.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Z(Y)):M.onMessageHandler.next(Z(Y)));const le=Y.data;at(le)&&"1"===le[U]&&(yield Ki(M,Y.messageType,le))})).apply(this,arguments)}const Ga="@firebase/messaging",Ch=M=>{const k=new Qn(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function ul(M,k){return va.apply(this,arguments)}(k,Y)),k},iu=M=>{const k=M.getProvider("messaging").getImmediate();return{getToken:le=>function zi(M,k){return ta.apply(this,arguments)}(k,le)}};function fc(){return Di.apply(this,arguments)}function Di(){return(Di=(0,X.Z)(function*(){try{yield(0,Ne.eu)()}catch{return!1}return typeof window<"u"&&(0,Ne.hl)()&&(0,Ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xs(){(0,Ee._registerComponent)(new Pe.wA("messaging",Ch,"PUBLIC")),(0,Ee._registerComponent)(new Pe.wA("messaging-internal",iu,"PRIVATE")),(0,Ee.registerVersion)(Ga,"0.12.4"),(0,Ee.registerVersion)(Ga,"0.12.4","esm2017")}();const ln="analytics",En="firebase_id",it="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gt="https://www.googletagmanager.com/gtag/js",ar=new Re.Yd("@firebase/analytics"),Es=new Ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function So(M){if(!M.startsWith(gt)){const k=Es.create("invalid-gtag-resource",{gtagURL:M});return ar.warn(k.message),""}return M}function ra(M){return Promise.all(M.map(k=>k.catch(Y=>Y)))}function Kl(M,k){const Y=function Yp(M,k){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(M,k)),Y}("firebase-js-sdk-policy",{createScriptURL:So}),le=document.createElement("script"),xe=`${gt}?l=${M}&id=${k}`;le.src=Y?Y?.createScriptURL(xe):xe,le.async=!0,document.head.appendChild(le)}function zu(M,k,Y,le,xe,He){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,X.Z)(function*(M,k,Y,le,xe,He){const pt=le[xe];try{if(pt)yield k[pt];else{const Rt=(yield ra(Y)).find(Sn=>Sn.measurementId===xe);Rt&&(yield k[Rt.appId])}}catch(Gt){ar.error(Gt)}M("config",xe,He)})).apply(this,arguments)}function kf(M,k,Y,le,xe){return qu.apply(this,arguments)}function qu(){return(qu=(0,X.Z)(function*(M,k,Y,le,xe){try{let He=[];if(xe&&xe.send_to){let pt=xe.send_to;Array.isArray(pt)||(pt=[pt]);const Gt=yield ra(Y);for(const Rt of pt){const Sn=Gt.find(Xn=>Xn.measurementId===Rt),Mn=Sn&&k[Sn.appId];if(!Mn){He=[];break}He.push(Mn)}}0===He.length&&(He=Object.values(k)),yield Promise.all(He),M("event",le,xe||{})}catch(He){ar.error(He)}})).apply(this,arguments)}function dl(M){const k=window.document.getElementsByTagName("script");for(const Y of Object.values(k))if(Y.src&&Y.src.includes(gt)&&Y.src.includes(M))return Y;return null}const Un=new class hl{constructor(k={},Y=1e3){this.throttleMetadata=k,this.intervalMillis=Y}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,Y){this.throttleMetadata[k]=Y}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function ai(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function pi(M){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,X.Z)(function*(M){var k;const{appId:Y,apiKey:le}=M,xe={method:"GET",headers:ai(le)},He=it.replace("{app-id}",Y),pt=yield fetch(He,xe);if(200!==pt.status&&304!==pt.status){let Gt="";try{const Rt=yield pt.json();null!==(k=Rt.error)&&void 0!==k&&k.message&&(Gt=Rt.error.message)}catch{}throw Es.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:Gt})}return pt.json()})).apply(this,arguments)}function ql(M){return fs.apply(this,arguments)}function fs(){return(fs=(0,X.Z)(function*(M,k=Un,Y){const{appId:le,apiKey:xe,measurementId:He}=M.options;if(!le)throw Es.create("no-app-id");if(!xe){if(He)return{measurementId:He,appId:le};throw Es.create("no-api-key")}const pt=k.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gt=new fl;return setTimeout((0,X.Z)(function*(){Gt.abort()}),void 0!==Y?Y:6e4),Hs({appId:le,apiKey:xe,measurementId:He},pt,Gt,k)})).apply(this,arguments)}function Hs(M,k,Y){return su.apply(this,arguments)}function su(){return(su=(0,X.Z)(function*(M,{throttleEndTimeMillis:k,backoffCount:Y},le,xe=Un){var He;const{appId:pt,measurementId:Gt}=M;try{yield Wa(le,k)}catch(Rt){if(Gt)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Rt?.message}]`),{appId:pt,measurementId:Gt};throw Rt}try{const Rt=yield pi(M);return xe.deleteThrottleMetadata(pt),Rt}catch(Rt){const Sn=Rt;if(!mc(Sn)){if(xe.deleteThrottleMetadata(pt),Gt)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Sn?.message}]`),{appId:pt,measurementId:Gt};throw Rt}const Mn=503===Number(null===(He=Sn?.customData)||void 0===He?void 0:He.httpStatus)?(0,Ne.$s)(Y,xe.intervalMillis,30):(0,Ne.$s)(Y,xe.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+Mn,backoffCount:Y+1};return xe.setThrottleMetadata(pt,Xn),ar.debug(`Calling attemptFetch again in ${Mn} millis`),Hs(M,Xn,le,xe)}})).apply(this,arguments)}function Wa(M,k){return new Promise((Y,le)=>{const xe=Math.max(k-Date.now(),0),He=setTimeout(Y,xe);M.addEventListener(()=>{clearTimeout(He),le(Es.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function mc(M){if(!(M instanceof Ne.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}class fl{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let A,gi;function T(){return(T=(0,X.Z)(function*(M,k,Y,le,xe){if(xe&&xe.global)M("event",Y,le);else{const He=yield k;M("event",Y,Object.assign(Object.assign({},le),{send_to:He}))}})).apply(this,arguments)}function za(M){gi=M}function Ao(M){A=M}function No(){return pl.apply(this,arguments)}function pl(){return(pl=(0,X.Z)(function*(){if(!(0,Ne.hl)())return ar.warn(Es.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ne.eu)()}catch(M){return ar.warn(Es.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return(wa=(0,X.Z)(function*(M,k,Y,le,xe,He,pt){var Gt;const Rt=ql(M);Rt.then($r=>{Y[$r.measurementId]=$r.appId,M.options.measurementId&&$r.measurementId!==M.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${$r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($r=>ar.error($r)),k.push(Rt);const Sn=No().then($r=>{if($r)return le.getId()}),[Mn,Xn]=yield Promise.all([Rt,Sn]);dl(He)||Kl(He,Mn.measurementId),gi&&(xe("consent","default",gi),za(void 0)),xe("js",new Date);const uo=null!==(Gt=pt?.config)&&void 0!==Gt?Gt:{};return uo.origin="firebase",uo.update=!0,null!=Xn&&(uo[En]=Xn),xe("config",Mn.measurementId,uo),A&&(xe("set",A),Ao(void 0)),Mn.measurementId})).apply(this,arguments)}class Uo{constructor(k){this.app=k}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},Yu=[];const Fd={};let au,Vi,Ps="dataLayer",Ih=!1;function Qp(M,k,Y){!function Lf(){const M=[];if((0,Ne.ru)()&&M.push("This is a browser extension environment."),(0,Ne.zI)()||M.push("Cookies are not available."),M.length>0){const k=M.map((le,xe)=>`(${xe+1}) ${le}`).join(" "),Y=Es.create("invalid-analytics-context",{errorInfo:k});ar.warn(Y.message)}}();const le=M.options.appId;if(!le)throw Es.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Es.create("no-api-key");ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=co[le])throw Es.create("already-exists",{id:le});if(!Ih){!function Yr(M){let k=[];Array.isArray(window[M])?k=window[M]:window[M]=k}(Ps);const{wrappedGtag:He,gtagCore:pt}=function Zu(M,k,Y,le,xe){let He=function(...pt){window[le].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(He=window[xe]),window[xe]=function Kn(M,k,Y,le){function He(){return(He=(0,X.Z)(function*(pt,...Gt){try{if("event"===pt){const[Rt,Sn]=Gt;yield kf(M,k,Y,Rt,Sn)}else if("config"===pt){const[Rt,Sn]=Gt;yield zu(M,k,Y,le,Rt,Sn)}else if("consent"===pt){const[Rt]=Gt;M("consent","update",Rt)}else if("get"===pt){const[Rt,Sn,Mn]=Gt;M("get",Rt,Sn,Mn)}else if("set"===pt){const[Rt]=Gt;M("set",Rt)}else M(pt,...Gt)}catch(Rt){ar.error(Rt)}})).apply(this,arguments)}return function xe(pt){return He.apply(this,arguments)}}(He,M,k,Y),{gtagCore:He,wrappedGtag:window[xe]}}(co,Yu,Fd,Ps,"gtag");Vi=He,au=pt,Ih=!0}return co[le]=function ou(M,k,Y,le,xe,He,pt){return wa.apply(this,arguments)}(M,Yu,Fd,k,au,Ps,Y),new Uo(M)}function Nm(){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,X.Z)(function*(){if((0,Ne.ru)()||!(0,Ne.zI)()||!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch{return!1}})).apply(this,arguments)}const Zl="@firebase/analytics";!function Bf(){(0,Ee._registerComponent)(new Pe.wA(ln,(k,{options:Y})=>Qp(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,Ee._registerComponent)(new Pe.wA("analytics-internal",function M(k){try{const Y=k.getProvider(ln).getImmediate();return{logEvent:(le,xe,He)=>function _c(M,k,Y,le){M=(0,Ne.m9)(M),function N(M,k,Y,le,xe){return T.apply(this,arguments)}(Vi,co[M.app.options.appId],k,Y,le).catch(xe=>ar.error(xe))}(Y,le,xe,He)}}catch(Y){throw Es.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,Ee.registerVersion)(Zl,"0.10.0"),(0,Ee.registerVersion)(Zl,"0.10.0","esm2017")}();var yc=z(4408),Th=z(7565);const ks=new class Sh extends Th.v{}(class uu extends yc.o{constructor(k,Y){super(k,Y),this.scheduler=k,this.work=Y}schedule(k,Y=0){return Y>0?super.schedule(k,Y):(this.delay=Y,this.state=k,this.scheduler.flush(this),this)}execute(k,Y){return Y>0||this.closed?super.execute(k,Y):this._execute(k,Y)}requestAsyncId(k,Y,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(k,Y,le):(k.flush(this),0)}});var Yl=z(4986),Uf=z(8505),mi=z(5363),Bd=z(9468);const ns=new w.GfV("7.6.1"),li="__angularfire_symbol__analyticsIsSupportedValue",Ju="__angularfire_symbol__analyticsIsSupported",ia="__angularfire_symbol__remoteConfigIsSupportedValue",jo="__angularfire_symbol__remoteConfigIsSupported",Xu="__angularfire_symbol__messagingIsSupportedValue",Ah="__angularfire_symbol__messagingIsSupported";function vc(M,k,Y){if(k){if(1===k.length)return k[0];const He=k.filter(pt=>pt.app===Y);if(1===He.length)return He[0]}return Y.container.getProvider(M).getImmediate({optional:!0})}globalThis[Ju]||(globalThis[Ju]=Nm().then(M=>globalThis[li]=M).catch(()=>globalThis[li]=!1)),globalThis[Ah]||(globalThis[Ah]=fc().then(M=>globalThis[Xu]=M).catch(()=>globalThis[Xu]=!1)),globalThis[jo]||(globalThis[jo]=vs().then(M=>globalThis[ia]=M).catch(()=>globalThis[ia]=!1));const du=(M,k)=>{const Y=k?[k]:(0,D.C6)(),le=[];return Y.forEach(xe=>{xe.container.getProvider(M).instances.forEach(pt=>{le.includes(pt)||le.push(pt)})}),le};function Fc(){}class Ud{constructor(k,Y=ks){this.zone=k,this.delegate=Y}now(){return this.delegate.now()}schedule(k,Y,le){const xe=this.zone;return this.delegate.schedule(function(pt){xe.runGuarded(()=>{k.apply(this,[pt])})},Y,le)}}class tg{constructor(k){this.zone=k,this.task=null}call(k,Y){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fc,{},Fc,Fc)),Y.pipe((0,Uf.b)({next:le,complete:le,error:le})).subscribe(k).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hu=(()=>{class M{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Ud(Zone.current)),this.insideAngular=Y.run(()=>new Ud(Zone.current,Yl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Y){return new(Y||M)(w.LFG(w.R0b))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ea(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Ka(M){return M.pipe((0,mi.Q)(Ea().outsideAngular))}function Jl(M){return Ea(),function jd(M){return function(Y){return(Y=Y.lift(new tg(M.ngZone))).pipe((0,Bd.R)(M.outsideAngular),(0,mi.Q)(M.insideAngular))}}(Ea())(M)}},2090:(Jt,Je,z)=>{z.d(Je,{$s:()=>jt,BH:()=>ze,DV:()=>vt,Dv:()=>Vn,G6:()=>Hn,GJ:()=>zn,L:()=>We,LL:()=>st,P0:()=>Vt,Pz:()=>tt,Sg:()=>Ot,UG:()=>ct,UI:()=>wt,US:()=>Pe,Wj:()=>xr,Wl:()=>_n,Yr:()=>un,ZB:()=>Se,ZR:()=>Et,aH:()=>mt,b$:()=>rn,cI:()=>Zt,dS:()=>Li,eu:()=>Me,g5:()=>X,gK:()=>on,gQ:()=>vr,h$:()=>Fe,hl:()=>Te,hu:()=>D,jU:()=>dt,lb:()=>On,m9:()=>rr,ne:()=>Fn,p$:()=>pe,pd:()=>fr,r3:()=>hr,ru:()=>Tt,tV:()=>me,uI:()=>we,ug:()=>or,vZ:()=>kn,w1:()=>Yn,w9:()=>Wn,xO:()=>ls,xb:()=>lr,z$:()=>Dt,zI:()=>Ge,zd:()=>Ss});const D=function(ye,_e){if(!ye)throw X(_e)},X=function(ye){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ye)},Ee=function(ye){const _e=[];let Le=0;for(let nt=0;nt<ye.length;nt++){let $e=ye.charCodeAt(nt);$e<128?_e[Le++]=$e:$e<2048?(_e[Le++]=$e>>6|192,_e[Le++]=63&$e|128):55296==(64512&$e)&&nt+1<ye.length&&56320==(64512&ye.charCodeAt(nt+1))?($e=65536+((1023&$e)<<10)+(1023&ye.charCodeAt(++nt)),_e[Le++]=$e>>18|240,_e[Le++]=$e>>12&63|128,_e[Le++]=$e>>6&63|128,_e[Le++]=63&$e|128):(_e[Le++]=$e>>12|224,_e[Le++]=$e>>6&63|128,_e[Le++]=63&$e|128)}return _e},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,_e){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Le=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,nt=[];for(let $e=0;$e<ye.length;$e+=3){const Ht=ye[$e],gn=$e+1<ye.length,Bn=gn?ye[$e+1]:0,tr=$e+2<ye.length,fe=tr?ye[$e+2]:0;let je=(15&Bn)<<2|fe>>6,_t=63&fe;tr||(_t=64,gn||(je=64)),nt.push(Le[Ht>>2],Le[(3&Ht)<<4|Bn>>4],Le[je],Le[_t])}return nt.join("")},encodeString(ye,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(ye):this.encodeByteArray(Ee(ye),_e)},decodeString(ye,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(ye):function(ye){const _e=[];let Le=0,nt=0;for(;Le<ye.length;){const $e=ye[Le++];if($e<128)_e[nt++]=String.fromCharCode($e);else if($e>191&&$e<224){const Ht=ye[Le++];_e[nt++]=String.fromCharCode((31&$e)<<6|63&Ht)}else if($e>239&&$e<365){const tr=((7&$e)<<18|(63&ye[Le++])<<12|(63&ye[Le++])<<6|63&ye[Le++])-65536;_e[nt++]=String.fromCharCode(55296+(tr>>10)),_e[nt++]=String.fromCharCode(56320+(1023&tr))}else{const Ht=ye[Le++],gn=ye[Le++];_e[nt++]=String.fromCharCode((15&$e)<<12|(63&Ht)<<6|63&gn)}}return _e.join("")}(this.decodeStringToByteArray(ye,_e))},decodeStringToByteArray(ye,_e){this.init_();const Le=_e?this.charToByteMapWebSafe_:this.charToByteMap_,nt=[];for(let $e=0;$e<ye.length;){const Ht=Le[ye.charAt($e++)],Bn=$e<ye.length?Le[ye.charAt($e)]:0;++$e;const fe=$e<ye.length?Le[ye.charAt($e)]:64;++$e;const se=$e<ye.length?Le[ye.charAt($e)]:64;if(++$e,null==Ht||null==Bn||null==fe||null==se)throw new Re;nt.push(Ht<<2|Bn>>4),64!==fe&&(nt.push(Bn<<4&240|fe>>2),64!==se&&nt.push(fe<<6&192|se))}return nt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(ye){const _e=Ee(ye);return Pe.encodeByteArray(_e,!0)},We=function(ye){return Fe(ye).replace(/\./g,"")},me=function(ye){try{return Pe.decodeString(ye,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function pe(ye){return Se(void 0,ye)}function Se(ye,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return _e}for(const Le in _e)!_e.hasOwnProperty(Le)||!It(Le)||(ye[Le]=Se(ye[Le],_e[Le]));return ye}function It(ye){return"__proto__"!==ye}const Xe=()=>{try{return function ot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=ye&&me(ye[1]);return _e&&JSON.parse(_e)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},Vt=ye=>{const _e=(ye=>{var _e,Le;return null===(Le=null===(_e=Xe())||void 0===_e?void 0:_e.emulatorHosts)||void 0===Le?void 0:Le[ye]})(ye);if(!_e)return;const Le=_e.lastIndexOf(":");if(Le<=0||Le+1===_e.length)throw new Error(`Invalid host ${_e} with no separate hostname and port!`);const nt=parseInt(_e.substring(Le+1),10);return"["===_e[0]?[_e.substring(1,Le-1),nt]:[_e.substring(0,Le),nt]},mt=()=>{var ye;return null===(ye=Xe())||void 0===ye?void 0:ye.config},tt=ye=>{var _e;return null===(_e=Xe())||void 0===_e?void 0:_e[`_${ye}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,Le)=>{this.resolve=_e,this.reject=Le})}wrapCallback(_e){return(Le,nt)=>{Le?this.reject(Le):this.resolve(nt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(Le):_e(Le,nt))}}}function Ot(ye,_e){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const nt=_e||"demo-project",$e=ye.iat||0,Ht=ye.sub||ye.user_id;if(!Ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gn=Object.assign({iss:`https://securetoken.google.com/${nt}`,aud:nt,iat:$e,exp:$e+3600,auth_time:$e,sub:Ht,user_id:Ht,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(gn)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function ct(){var ye;const _e=null===(ye=Xe())||void 0===ye?void 0:ye.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dt(){return"object"==typeof self&&self.self===self}function Tt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yn(){const ye=Dt();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function un(){return!1}function Hn(){return!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return"object"==typeof indexedDB}catch{return!1}}function Me(){return new Promise((ye,_e)=>{try{let Le=!0;const nt="validate-browser-context-for-indexeddb-analytics-module",$e=self.indexedDB.open(nt);$e.onsuccess=()=>{$e.result.close(),Le||self.indexedDB.deleteDatabase(nt),ye(!0)},$e.onupgradeneeded=()=>{Le=!1},$e.onerror=()=>{var Ht;_e((null===(Ht=$e.error)||void 0===Ht?void 0:Ht.message)||"")}}catch(Le){_e(Le)}})}function Ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Et extends Error{constructor(_e,Le,nt){super(Le),this.code=_e,this.customData=nt,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(_e,Le,nt){this.service=_e,this.serviceName=Le,this.errors=nt}create(_e,...Le){const nt=Le[0]||{},$e=`${this.service}/${_e}`,Ht=this.errors[_e],gn=Ht?function Ut(ye,_e){return ye.replace(At,(Le,nt)=>{const $e=_e[nt];return null!=$e?String($e):`<${nt}?>`})}(Ht,nt):"Error";return new Et($e,`${this.serviceName}: ${gn} (${$e}).`,nt)}}const At=/\{\$([^}]+)}/g;function Zt(ye){return JSON.parse(ye)}function _n(ye){return JSON.stringify(ye)}const pn=function(ye){let _e={},Le={},nt={},$e="";try{const Ht=ye.split(".");_e=Zt(me(Ht[0])||""),Le=Zt(me(Ht[1])||""),$e=Ht[2],nt=Le.d||{},delete Le.d}catch{}return{header:_e,claims:Le,data:nt,signature:$e}},Wn=function(ye){const Le=pn(ye).claims;return!!Le&&"object"==typeof Le&&Le.hasOwnProperty("iat")},zn=function(ye){const _e=pn(ye).claims;return"object"==typeof _e&&!0===_e.admin};function hr(ye,_e){return Object.prototype.hasOwnProperty.call(ye,_e)}function vt(ye,_e){if(Object.prototype.hasOwnProperty.call(ye,_e))return ye[_e]}function lr(ye){for(const _e in ye)if(Object.prototype.hasOwnProperty.call(ye,_e))return!1;return!0}function wt(ye,_e,Le){const nt={};for(const $e in ye)Object.prototype.hasOwnProperty.call(ye,$e)&&(nt[$e]=_e.call(Le,ye[$e],$e,ye));return nt}function kn(ye,_e){if(ye===_e)return!0;const Le=Object.keys(ye),nt=Object.keys(_e);for(const $e of Le){if(!nt.includes($e))return!1;const Ht=ye[$e],gn=_e[$e];if(nr(Ht)&&nr(gn)){if(!kn(Ht,gn))return!1}else if(Ht!==gn)return!1}for(const $e of nt)if(!Le.includes($e))return!1;return!0}function nr(ye){return null!==ye&&"object"==typeof ye}function ls(ye){const _e=[];for(const[Le,nt]of Object.entries(ye))Array.isArray(nt)?nt.forEach($e=>{_e.push(encodeURIComponent(Le)+"="+encodeURIComponent($e))}):_e.push(encodeURIComponent(Le)+"="+encodeURIComponent(nt));return _e.length?"&"+_e.join("&"):""}function Ss(ye){const _e={};return ye.replace(/^\?/,"").split("&").forEach(nt=>{if(nt){const[$e,Ht]=nt.split("=");_e[decodeURIComponent($e)]=decodeURIComponent(Ht)}}),_e}function fr(ye){const _e=ye.indexOf("?");if(!_e)return"";const Le=ye.indexOf("#",_e);return ye.substring(_e,Le>0?Le:void 0)}class vr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let _e=1;_e<this.blockSize;++_e)this.pad_[_e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(_e,Le){Le||(Le=0);const nt=this.W_;if("string"==typeof _e)for(let se=0;se<16;se++)nt[se]=_e.charCodeAt(Le)<<24|_e.charCodeAt(Le+1)<<16|_e.charCodeAt(Le+2)<<8|_e.charCodeAt(Le+3),Le+=4;else for(let se=0;se<16;se++)nt[se]=_e[Le]<<24|_e[Le+1]<<16|_e[Le+2]<<8|_e[Le+3],Le+=4;for(let se=16;se<80;se++){const je=nt[se-3]^nt[se-8]^nt[se-14]^nt[se-16];nt[se]=4294967295&(je<<1|je>>>31)}let fe,de,$e=this.chain_[0],Ht=this.chain_[1],gn=this.chain_[2],Bn=this.chain_[3],tr=this.chain_[4];for(let se=0;se<80;se++){se<40?se<20?(fe=Bn^Ht&(gn^Bn),de=1518500249):(fe=Ht^gn^Bn,de=1859775393):se<60?(fe=Ht&gn|Bn&(Ht|gn),de=2400959708):(fe=Ht^gn^Bn,de=3395469782);const je=($e<<5|$e>>>27)+fe+tr+de+nt[se]&4294967295;tr=Bn,Bn=gn,gn=4294967295&(Ht<<30|Ht>>>2),Ht=$e,$e=je}this.chain_[0]=this.chain_[0]+$e&4294967295,this.chain_[1]=this.chain_[1]+Ht&4294967295,this.chain_[2]=this.chain_[2]+gn&4294967295,this.chain_[3]=this.chain_[3]+Bn&4294967295,this.chain_[4]=this.chain_[4]+tr&4294967295}update(_e,Le){if(null==_e)return;void 0===Le&&(Le=_e.length);const nt=Le-this.blockSize;let $e=0;const Ht=this.buf_;let gn=this.inbuf_;for(;$e<Le;){if(0===gn)for(;$e<=nt;)this.compress_(_e,$e),$e+=this.blockSize;if("string"==typeof _e){for(;$e<Le;)if(Ht[gn]=_e.charCodeAt($e),++gn,++$e,gn===this.blockSize){this.compress_(Ht),gn=0;break}}else for(;$e<Le;)if(Ht[gn]=_e[$e],++gn,++$e,gn===this.blockSize){this.compress_(Ht),gn=0;break}}this.inbuf_=gn,this.total_+=Le}digest(){const _e=[];let Le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&Le,Le/=256;this.compress_(this.buf_);let nt=0;for(let $e=0;$e<5;$e++)for(let Ht=24;Ht>=0;Ht-=8)_e[nt]=this.chain_[$e]>>Ht&255,++nt;return _e}}function Fn(ye,_e){const Le=new mn(ye,_e);return Le.subscribe.bind(Le)}class mn{constructor(_e,Le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Le,this.task.then(()=>{_e(this)}).catch(nt=>{this.error(nt)})}next(_e){this.forEachObserver(Le=>{Le.next(_e)})}error(_e){this.forEachObserver(Le=>{Le.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,Le,nt){let $e;if(void 0===_e&&void 0===Le&&void 0===nt)throw new Error("Missing Observer.");$e=function cn(ye,_e){if("object"!=typeof ye||null===ye)return!1;for(const Le of _e)if(Le in ye&&"function"==typeof ye[Le])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:Le,complete:nt},void 0===$e.next&&($e.next=Tn),void 0===$e.error&&($e.error=Tn),void 0===$e.complete&&($e.complete=Tn);const Ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$e.error(this.finalError):$e.complete()}catch{}}),this.observers.push($e),Ht}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let Le=0;Le<this.observers.length;Le++)this.sendOne(Le,_e)}sendOne(_e,Le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{Le(this.observers[_e])}catch(nt){typeof console<"u"&&console.error&&console.error(nt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const Vn=function(ye,_e,Le,nt){let $e;if(nt<_e?$e="at least "+_e:nt>Le&&($e=0===Le?"none":"no more than "+Le),$e)throw new Error(ye+" failed: Was called with "+nt+(1===nt?" argument.":" arguments.")+" Expects "+$e+".")};function on(ye,_e){return`${ye} failed: ${_e} argument `}function xr(ye,_e,Le,nt){if((!nt||Le)&&"function"!=typeof Le)throw new Error(on(ye,_e)+"must be a valid function.")}function On(ye,_e,Le,nt){if((!nt||Le)&&("object"!=typeof Le||null===Le))throw new Error(on(ye,_e)+"must be a valid context object.")}const Li=function(ye){const _e=[];let Le=0;for(let nt=0;nt<ye.length;nt++){let $e=ye.charCodeAt(nt);if($e>=55296&&$e<=56319){const Ht=$e-55296;nt++,D(nt<ye.length,"Surrogate pair missing trail surrogate."),$e=65536+(Ht<<10)+(ye.charCodeAt(nt)-56320)}$e<128?_e[Le++]=$e:$e<2048?(_e[Le++]=$e>>6|192,_e[Le++]=63&$e|128):$e<65536?(_e[Le++]=$e>>12|224,_e[Le++]=$e>>6&63|128,_e[Le++]=63&$e|128):(_e[Le++]=$e>>18|240,_e[Le++]=$e>>12&63|128,_e[Le++]=$e>>6&63|128,_e[Le++]=63&$e|128)}return _e},or=function(ye){let _e=0;for(let Le=0;Le<ye.length;Le++){const nt=ye.charCodeAt(Le);nt<128?_e++:nt<2048?_e+=2:nt>=55296&&nt<=56319?(_e+=4,Le++):_e+=3}return _e};function jt(ye,_e=1e3,Le=2){const nt=_e*Math.pow(Le,ye),$e=Math.round(.5*nt*(Math.random()-.5)*2);return Math.min(144e5,nt+$e)}function rr(ye){return ye&&ye._delegate?ye._delegate:ye}},2340:(Jt,Je,z)=>{z.d(Je,{N:()=>w});const w={production:!0,firebase:{apiKey:"AIzaSyByrfbD3qEUwjBMnR4pFXuEGXc8NLQDhu4",authDomain:"zero-app-38a13.firebaseapp.com",databaseURL:"https://zero-app-38a13.firebaseio.com",projectId:"zero-app-38a13",storageBucket:"zero-app-38a13.appspot.com",messagingSenderId:"660290528027",appId:"1:660290528027:web:6d181def69e88524d0e9be"}}},8733:(Jt,Je,z)=>{var w=z(1481),D=z(4650),X=z(9062);const Ee=[{path:"profile",loadChildren:()=>z.e(367).then(z.bind(z,3367)).then(r=>r.ProfileModule)},{path:"chat",loadChildren:()=>z.e(738).then(z.bind(z,8738)).then(r=>r.ChatAppModule)},{path:"**",redirectTo:"profile"}];let Ne=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[X.Bz.forRoot(Ee,{useHash:!0}),X.Bz]}),r})(),Pe=(()=>{class r{constructor(){this.title="jaymark"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=D.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,u){1&n&&D._UZ(0,"router-outlet")},dependencies:[X.lC]}),r})();var Re=z(6895),Fe=z(9751),We=z(515),me=z(9646),pe=z(7579),Se=z(8421),It=z(5577),ot=z(1144),Ye=z(576),Lt=z(3268);const lt=["addListener","removeListener"],Xe=["addEventListener","removeEventListener"],Be=["on","off"];function Vt(r,i,n,u){if((0,Ye.m)(n)&&(u=n,n=void 0),u)return Vt(r,i,n).pipe((0,Lt.Z)(u));const[f,y]=function Ot(r){return(0,Ye.m)(r.addEventListener)&&(0,Ye.m)(r.removeEventListener)}(r)?Xe.map(S=>P=>r[S](i,P,n)):function tt(r){return(0,Ye.m)(r.addListener)&&(0,Ye.m)(r.removeListener)}(r)?lt.map(mt(r,i)):function ze(r){return(0,Ye.m)(r.on)&&(0,Ye.m)(r.off)}(r)?Be.map(mt(r,i)):[];if(!f&&(0,ot.z)(r))return(0,It.z)(S=>Vt(S,i,n))((0,Se.Xf)(r));if(!f)throw new TypeError("Invalid event target");return new Fe.y(S=>{const P=(...G)=>S.next(1<G.length?G:G[0]);return f(P),()=>y(P)})}function mt(r,i){return n=>u=>r[n](i,u)}var Dt=z(4986),we=z(3532);const{isArray:Tt}=Array;function rn(r){return 1===r.length&&Tt(r[0])?r[0]:r}var Pt=z(5403);z(1135),z(9841);var Te=z(5032);new Fe.y(Te.Z);var qe=z(3269);function Et(...r){const i=(0,qe.jO)(r),n=rn(r);return n.length?new Fe.y(u=>{let f=n.map(()=>[]),y=n.map(()=>!1);u.add(()=>{f=y=null});for(let S=0;!u.closed&&S<n.length;S++)(0,Se.Xf)(n[S]).subscribe((0,Pt.x)(u,P=>{if(f[S].push(P),f.every(G=>G.length)){const G=f.map(Q=>Q.shift());u.next(i?i(...G):G),f.some((Q,oe)=>!Q.length&&y[oe])&&u.complete()}},()=>{y[S]=!0,!f[S].length&&u.complete()}));return()=>{f=y=null}}):We.E}var st=z(7272),At=z(4482);function Zt(r){return(0,At.e)((i,n)=>{(0,Se.Xf)(r).subscribe((0,Pt.x)(n,()=>n.complete(),Te.Z)),!n.closed&&i.subscribe(n)})}var _n=z(9300),pn=z(5698),zt=z(4004),Wn=(z(8675),z(1884)),zn=z(3900),hr=z(8505),vt=z(4671);function lr(...r){const i=(0,qe.jO)(r);return(0,At.e)((n,u)=>{const f=r.length,y=new Array(f);let S=r.map(()=>!1),P=!1;for(let G=0;G<f;G++)(0,Se.Xf)(r[G]).subscribe((0,Pt.x)(u,Q=>{y[G]=Q,!P&&!S[G]&&(S[G]=!0,(P=S.every(vt.y))&&(S=null))},Te.Z));n.subscribe((0,Pt.x)(u,G=>{if(P){const Q=[G,...y];u.next(i?i(...Q):Q)}}))})}z(9718);var Ss=z(433);Math,Math,Math;const Ri=["*"],lo=["dialog"];function iu(r){return"string"==typeof r}function Di(r){return null!=r}function ti(r){return(r||document.body).getBoundingClientRect()}const En={animation:!0,transitionTimerDelayMs:5},kd=()=>{},{transitionTimerDelayMs:sn}=En,it=new Map,gt=(r,i,n,u)=>{let f=u.context||{};const y=it.get(i);if(y)switch(u.runningTransition){case"continue":return We.E;case"stop":r.run(()=>y.transition$.complete()),f=Object.assign(y.context,f),it.delete(i)}const S=n(i,u.animation,f)||kd;if(!u.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>S()),(0,me.of)(void 0).pipe(function eo(r){return i=>new Fe.y(n=>i.subscribe({next:S=>r.run(()=>n.next(S)),error:S=>r.run(()=>n.error(S)),complete:()=>r.run(()=>n.complete())}))}(r));const P=new pe.x,G=new pe.x,Q=P.pipe(function Ut(...r){return i=>(0,st.z)(i,(0,me.of)(...r))}(!0));it.set(i,{transition$:P,complete:()=>{G.next(),G.complete()},context:f});const oe=function ln(r){const{transitionDelay:i,transitionDuration:n}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(n))}(i);return r.runOutsideAngular(()=>{const Ce=Vt(i,"transitionend").pipe(Zt(Q),(0,_n.h)(({target:Qe})=>Qe===i));(function Yn(...r){return 1===(r=rn(r)).length?(0,Se.Xf)(r[0]):new Fe.y(function fi(r){return i=>{let n=[];for(let u=0;n&&!i.closed&&u<r.length;u++)n.push((0,Se.Xf)(r[u]).subscribe((0,Pt.x)(i,f=>{if(n){for(let y=0;y<n.length;y++)y!==u&&n[y].unsubscribe();n=null}i.next(f)})))}}(r))})(function dt(r=0,i,n=Dt.P){let u=-1;return null!=i&&((0,we.K)(i)?n=i:u=i),new Fe.y(f=>{let y=function ct(r){return r instanceof Date&&!isNaN(r)}(r)?+r-n.now():r;y<0&&(y=0);let S=0;return n.schedule(function(){f.closed||(f.next(S++),0<=u?this.schedule(void 0,u):f.complete())},y)})}(oe+sn).pipe(Zt(Q)),Ce,G).pipe(Zt(Q)).subscribe(()=>{it.delete(i),r.run(()=>{S(),P.next(),P.complete()})})}),P.asObservable()};let So=(()=>{class r{constructor(){this.animation=En.animation}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),Un=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),ee=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({}),r})();var ts=(()=>{return(r=ts||(ts={}))[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",ts;var r})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Bf=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yc(r){const i=Array.from(r.querySelectorAll(Bf)).filter(n=>-1!==n.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let og=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez,Ss.u5]}),r})(),Vc=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({}),r})();class Ds{constructor(i,n,u){this.nodes=i,this.viewRef=n,this.componentRef=u}}let Gd=(()=>{class r{constructor(n,u){this._el=n,this._zone=u}ngOnInit(){this._zone.onStable.asObservable().pipe((0,pn.q)(1)).subscribe(()=>{gt(this._zone,this._el.nativeElement,(n,u)=>{u&&ti(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return gt(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(n){return new(n||r)(D.Y36(D.SBq),D.Y36(D.R0b))},r.\u0275cmp=D.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,u){2&n&&(D.Tol("modal-backdrop"+(u.backdropClass?" "+u.backdropClass:"")),D.ekj("show",!u.animation)("fade",u.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,u){},encapsulation:2}),r})();class sd{close(i){}dismiss(i){}}class ty{constructor(i,n,u,f){this._windowCmptRef=i,this._contentRef=n,this._backdropCmptRef=u,this._beforeDismiss=f,this._closed=new pe.x,this._dismissed=new pe.x,this._hidden=new pe.x,i.instance.dismissEvent.subscribe(y=>{this.dismiss(y)}),this.result=new Promise((y,S)=>{this._resolve=y,this._reject=S}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Zt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Zt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function zl(r){return r&&r.then}(n)?!1!==n&&this._dismiss(i):n.then(u=>{!1!==u&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,me.of)(void 0);i.subscribe(()=>{const{nativeElement:u}=this._windowCmptRef.location;u.parentNode.removeChild(u),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:u}=this._backdropCmptRef.location;u.parentNode.removeChild(u),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Et(i,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vl=(()=>{return(r=vl||(vl={}))[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",vl;var r})();let mu=(()=>{class r{constructor(n,u,f){this._document=n,this._elRef=u,this._zone=f,this._closed$=new pe.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new D.vpe,this.shown=new pe.x,this.hidden=new pe.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,pn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,u={animation:this.animation,runningTransition:"stop"},S=Et(gt(this._zone,n,()=>n.classList.remove("show"),u),gt(this._zone,this._dialogEl.nativeElement,()=>{},u));return S.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),S}_show(){const n={animation:this.animation,runningTransition:"continue"};Et(gt(this._zone,this._elRef.nativeElement,(y,S)=>{S&&ti(y),y.classList.add("show")},n),gt(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Vt(n,"keydown").pipe(Zt(this._closed$),(0,_n.h)(f=>f.which===ts.Escape)).subscribe(f=>{this.keyboard?requestAnimationFrame(()=>{f.defaultPrevented||this._zone.run(()=>this.dismiss(vl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let u=!1;Vt(this._dialogEl.nativeElement,"mousedown").pipe(Zt(this._closed$),(0,hr.b)(()=>u=!1),(0,zn.w)(()=>Vt(n,"mouseup").pipe(Zt(this._closed$),(0,pn.q)(1))),(0,_n.h)(({target:f})=>n===f)).subscribe(()=>{u=!0}),Vt(n,"click").pipe(Zt(this._closed$)).subscribe(({target:f})=>{n===f&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!u&&this._zone.run(()=>this.dismiss(vl.BACKDROP_CLICK))),u=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const u=n.querySelector("[ngbAutofocus]"),f=yc(n)[0];(u||f||n).focus()}}_restoreFocus(){const n=this._document.body,u=this._elWithFocus;let f;f=u&&u.focus&&n.contains(u)?u:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>f.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&gt(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(n){return new(n||r)(D.Y36(Re.K0),D.Y36(D.SBq),D.Y36(D.R0b))},r.\u0275cmp=D.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,u){if(1&n&&D.Gf(lo,7),2&n){let f;D.iGM(f=D.CRH())&&(u._dialogEl=f.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,u){2&n&&(D.uIk("aria-modal",!0)("aria-labelledby",u.ariaLabelledBy)("aria-describedby",u.ariaDescribedBy),D.Tol("modal d-block"+(u.windowClass?" "+u.windowClass:"")),D.ekj("fade",u.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ri,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,u){1&n&&(D.F$t(),D.TgZ(0,"div",0,1)(2,"div",2),D.Hsn(3),D.qZA()()),2&n&&D.Tol("modal-dialog"+(u.size?" modal-"+u.size:"")+(u.centered?" modal-dialog-centered":"")+u.fullscreenClass+(u.scrollable?" modal-dialog-scrollable":"")+(u.modalDialogClass?" "+u.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),r})(),xm=(()=>{class r{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),u=this._document.body,f=u.style,{overflow:y,paddingRight:S}=f;if(n>0){const P=parseFloat(window.getComputedStyle(u).paddingRight);f.paddingRight=`${P+n}px`}return f.overflow="hidden",()=>{n>0&&(f.paddingRight=S),f.overflow=y}}}return r.\u0275fac=function(n){return new(n||r)(D.LFG(Re.K0))},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),kh=(()=>{class r{constructor(n,u,f,y,S,P){this._applicationRef=n,this._injector=u,this._document=f,this._scrollBar=y,this._rendererFactory=S,this._ngZone=P,this._activeWindowCmptHasChanged=new pe.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new D.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const G=this._windowCmpts[this._windowCmpts.length-1];((r,i,n,u=!1)=>{this._ngZone.runOutsideAngular(()=>{const f=Vt(i,"focusin").pipe(Zt(n),(0,zt.U)(y=>y.target));Vt(i,"keydown").pipe(Zt(n),(0,_n.h)(y=>y.which===ts.Tab),lr(f)).subscribe(([y,S])=>{const[P,G]=yc(i);(S===P||S===i)&&y.shiftKey&&(G.focus(),y.preventDefault()),S===G&&!y.shiftKey&&(P.focus(),y.preventDefault())}),u&&Vt(i,"click").pipe(Zt(n),lr(f),(0,zt.U)(y=>y[1])).subscribe(y=>y.focus())})})(0,G.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(G.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,u,f){const y=f.container instanceof HTMLElement?f.container:Di(f.container)?this._document.querySelector(f.container):this._document.body,S=this._rendererFactory.createRenderer(null,null);if(!y)throw new Error(`The specified modal container "${f.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const P=new sd,G=this._getContentRef(f.injector||n,u,P,f);let Q=!1!==f.backdrop?this._attachBackdrop(y):void 0,oe=this._attachWindowComponent(y,G.nodes),Ce=new ty(oe,G,Q,f.beforeDismiss);return this._registerModalRef(Ce),this._registerWindowCmpt(oe),Ce.hidden.pipe((0,pn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(S.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),P.close=Oe=>{Ce.close(Oe)},P.dismiss=Oe=>{Ce.dismiss(Oe)},this._applyWindowOptions(oe.instance,f),1===this._modalRefs.length&&S.addClass(this._document.body,"modal-open"),Q&&Q.instance&&(this._applyBackdropOptions(Q.instance,f),Q.changeDetectorRef.detectChanges()),oe.changeDetectorRef.detectChanges(),Ce}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(u=>u.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let u=(0,D.LMc)(Gd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(u.hostView),n.appendChild(u.location.nativeElement),u}_attachWindowComponent(n,u){let f=(0,D.LMc)(mu,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:u});return this._applicationRef.attachView(f.hostView),n.appendChild(f.location.nativeElement),f}_applyWindowOptions(n,u){this._windowAttributes.forEach(f=>{Di(u[f])&&(n[f]=u[f])})}_applyBackdropOptions(n,u){this._backdropAttributes.forEach(f=>{Di(u[f])&&(n[f]=u[f])})}_getContentRef(n,u,f,y){return u?u instanceof D.Rgc?this._createFromTemplateRef(u,f):iu(u)?this._createFromString(u):this._createFromComponent(n,u,f,y):new Ds([])}_createFromTemplateRef(n,u){const y=n.createEmbeddedView({$implicit:u,close(S){u.close(S)},dismiss(S){u.dismiss(S)}});return this._applicationRef.attachView(y),new Ds([y.rootNodes],y)}_createFromString(n){const u=this._document.createTextNode(`${n}`);return new Ds([[u]])}_createFromComponent(n,u,f,y){const S=D.zs3.create({providers:[{provide:sd,useValue:f}],parent:n}),P=(0,D.LMc)(u,{environmentInjector:this._applicationRef.injector,elementInjector:S}),G=P.location.nativeElement;return y.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(P.hostView),new Ds([[G]],P.hostView,P)}_setAriaHidden(n){const u=n.parentElement;u&&n!==this._document.body&&(Array.from(u.children).forEach(f=>{f!==n&&"SCRIPT"!==f.nodeName&&(this._ariaHiddenValues.set(f,f.getAttribute("aria-hidden")),f.setAttribute("aria-hidden","true"))}),this._setAriaHidden(u))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,u)=>{n?u.setAttribute("aria-hidden",n):u.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const u=()=>{const f=this._modalRefs.indexOf(n);f>-1&&(this._modalRefs.splice(f,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(u,u)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const u=this._windowCmpts.indexOf(n);u>-1&&(this._windowCmpts.splice(u,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(n){return new(n||r)(D.LFG(D.z2F),D.LFG(D.zs3),D.LFG(Re.K0),D.LFG(xm),D.LFG(D.FYo),D.LFG(D.R0b))},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Om=(()=>{class r{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return r.\u0275fac=function(n){return new(n||r)(D.LFG(So))},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),bl=(()=>{class r{constructor(n,u,f){this._injector=n,this._modalStack=u,this._config=f}open(n,u={}){const f={...this._config,animation:this._config.animation,...u};return this._modalStack.open(this._injector,n,f)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(n){return new(n||r)(D.LFG(D.zs3),D.LFG(kh),D.LFG(Om))},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Gf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({providers:[bl]}),r})(),Kf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),Zf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),oa=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),Zd=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),Da=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),Xf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),ld=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),cd=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({}),r})();new D.OlP("live announcer delay",{providedIn:"root",factory:function ay(){return 100}});let C=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[Re.ez]}),r})(),gr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({}),r})();const _i=[dl,Un,T,ee,og,Vc,Gf,Kf,gr,Zf,oa,Zd,Da,Xf,ld,cd,C];let wl=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({imports:[_i,dl,Un,T,ee,og,Vc,Gf,Kf,gr,Zf,oa,Zd,Da,Xf,ld,cd,C]}),r})();var Ca=z(2011),Go=z(1205),Bh=z(6451),yg=z(3099),Yd=z(5026),Mo=z(710),Dc=(z(1146),z(6101),z(4859)),Wc=z(5861),ce=(z(9752),z(2090)),Um=z(1877);class zc{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,n){null==n?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,ce.Wl)(n))}get(i){const n=this.domStorage_.getItem(this.prefixedName_(i));return null==n?null:(0,ce.cI)(n)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Cc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,n){null==n?delete this.cache_[i]:this.cache_[i]=n}get(i){return(0,ce.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Hm=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const i=window[r];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new zc(i)}}catch{}return new Cc},dd=Hm("localStorage"),$m=Hm("sessionStorage"),El=new Um.Yd("@firebase/database"),Gm=function(){let r=1;return function(){return r++}}(),jh=function(r){const i=(0,ce.dS)(r),n=new ce.gQ;n.update(i);const u=n.digest();return ce.US.encodeByteArray(u)},rp=function(...r){let i="";for(let n=0;n<r.length;n++){const u=r[n];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=rp.apply(null,u):i+="object"==typeof u?(0,ce.Wl)(u):u,i+=" "}return i};let Du=null,Qd=!0;const ss=function(...r){if(!0===Qd&&(Qd=!1,null===Du&&!0===$m.get("logging_enabled")&&function(r,i){(0,ce.hu)(!i||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(El.logLevel=Um.in.VERBOSE,Du=El.log.bind(El),i&&$m.set("logging_enabled",!0)):"function"==typeof r?Du=r:(Du=null,$m.remove("logging_enabled"))}(!0)),Du){const i=rp.apply(null,r);Du(i)}},hd=function(r){return function(...i){ss(r,...i)}},Eg=function(...r){const i="FIREBASE INTERNAL ERROR: "+rp(...r);El.error(i)},Ro=function(...r){const i="FIREBASE WARNING: "+rp(...r);El.warn(i)},Dg=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},fd="[MIN_NAME]",Za="[MAX_NAME]",Dl=function(r,i){if(r===i)return 0;if(r===fd||i===Za)return-1;if(i===fd||r===Za)return 1;{const n=Hh(r),u=Hh(i);return null!==n?null!==u?n-u==0?r.length-i.length:n-u:-1:null!==u?1:r<i?-1:1}},Cu=function(r,i){if(i&&r in i)return i[r];throw new Error("Missing required key ("+r+") in object: "+(0,ce.Wl)(i))},Wm=function(r){if("object"!=typeof r||null===r)return(0,ce.Wl)(r);const i=[];for(const u in r)i.push(u);i.sort();let n="{";for(let u=0;u<i.length;u++)0!==u&&(n+=","),n+=(0,ce.Wl)(i[u]),n+=":",n+=Wm(r[i[u]]);return n+="}",n},cy=function(r,i){const n=r.length;if(n<=i)return[r];const u=[];for(let f=0;f<n;f+=i)u.push(r.substring(f,f+i>n?n:f+i));return u};function Wo(r,i){for(const n in r)r.hasOwnProperty(n)&&i(n,r[n])}const Uv=function(r){(0,ce.hu)(!Dg(r),"Invalid JSON number");const u=1023;let f,y,S,P,G;0===r?(y=0,S=0,f=1/r==-1/0?1:0):(f=r<0,(r=Math.abs(r))>=Math.pow(2,1-u)?(P=Math.min(Math.floor(Math.log(r)/Math.LN2),u),y=P+u,S=Math.round(r*Math.pow(2,52-P)-Math.pow(2,52))):(y=0,S=Math.round(r/Math.pow(2,-1074))));const Q=[];for(G=52;G;G-=1)Q.push(S%2?1:0),S=Math.floor(S/2);for(G=11;G;G-=1)Q.push(y%2?1:0),y=Math.floor(y/2);Q.push(f?1:0),Q.reverse();const oe=Q.join("");let Ce="";for(G=0;G<64;G+=8){let Oe=parseInt(oe.substr(G,8),2).toString(16);1===Oe.length&&(Oe="0"+Oe),Ce+=Oe}return Ce.toLowerCase()},Iu=new RegExp("^-?(0*)\\d{1,10}$"),Hh=function(r){if(Iu.test(r)){const i=Number(r);if(i>=-2147483648&&i<=2147483647)return i}return null},sp=function(r){try{r()}catch(i){setTimeout(()=>{throw Ro("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},$h=function(r,i){const n=setTimeout(r,i);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};const Ib=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zh="websocket",Wv="long_polling";function Km(r,i,n){let u;if((0,ce.hu)("string"==typeof i,"typeof type must == string"),(0,ce.hu)("object"==typeof n,"typeof params must == object"),i===zh)u=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(i!==Wv)throw new Error("Unknown connection type: "+i);u=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function Ia(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(n.ns=r.namespace);const f=[];return Wo(n,(y,S)=>{f.push(y+"="+S)}),u+f.join("&")}class qm{constructor(){this.counters_={}}incrementCounter(i,n=1){(0,ce.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=n}get(){return(0,ce.p$)(this.counters_)}}const op={};function Au(r){const i=r.toString();return op[i]||(op[i]=new qm),op[i]}class zv{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,n){this.closeAfterResponse=i,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,n){for(this.pendingResponses[i]=n;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let f=0;f<u.length;++f)u[f]&&sp(()=>{this.onMessage_(u[f])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Il{constructor(i,n,u,f,y,S,P){this.connId=i,this.repoInfo=n,this.applicationId=u,this.appCheckToken=f,this.authToken=y,this.transportSessionId=S,this.lastSessionId=P,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hd(i),this.stats_=Au(n),this.urlFn=G=>(this.appCheckToken&&(G.ac=this.appCheckToken),Km(n,Wv,G))}open(i,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new zv(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,ce.Yr)()||"complete"===document.readyState)r();else{let i=!1;const n=function(){document.body?i||(i=!0,r()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lp((...y)=>{const[S,P,G,Q,oe]=y;if(this.incrementIncomingBytes_(y),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===S)this.id=P,this.password=G;else{if("close"!==S)throw new Error("Unrecognized command received: "+S);P?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(P,()=>{this.onClosed_()})):this.onClosed_()}},(...y)=>{const[S,P]=y;this.incrementIncomingBytes_(y),this.myPacketOrderer.handleResponse(S,P)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ib.test(location.hostname)&&(u.r="f");const f=this.urlFn(u);this.log_("Connecting via long-poll to "+f),this.scriptTagHolder.addTag(f,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Il.forceAllow_=!0}static forceDisallow(){Il.forceDisallow_=!0}static isAvailable(){return!((0,ce.Yr)()||!Il.forceAllow_&&(Il.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const n=(0,ce.Wl)(i);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const u=(0,ce.h$)(n),f=cy(u,1840);for(let y=0;y<f.length;y++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[y]),this.curSegmentNum++}addDisconnectPingFrame(i,n){if((0,ce.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=n,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const n=(0,ce.Wl)(i).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lp{constructor(i,n,u,f){if(this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ce.Yr)())this.commandCB=i,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Gm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=lp.createIFrame_();let y="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(y='<script>document.domain="'+document.domain+'";<\/script>');const S="<html><body>"+y+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(S),this.myIFrame.doc.close()}catch(P){ss("frame writing exception"),P.stack&&ss(P.stack),ss(P)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||ss("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,n){for(this.myID=i,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let n=this.urlFn(i),u="",f=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const S=this.pendingSegs.shift();u=u+"&seg"+f+"="+S.seg+"&ts"+f+"="+S.ts+"&d"+f+"="+S.d,f++}return n+=u,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(i,n,u){this.pendingSegs.push({seg:i,ts:n,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,n){this.outstandingRequests.add(n);const u=()=>{this.outstandingRequests.delete(n),this.newRequest_()},f=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(f),u()})}addTag(i,n){(0,ce.Yr)()?this.doNodeLongPoll(i,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const f=u.readyState;(!f||"loaded"===f||"complete"===f)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),n())},u.onerror=()=>{ss("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let Nu=null;typeof MozWebSocket<"u"?Nu=MozWebSocket:typeof WebSocket<"u"&&(Nu=WebSocket);let qh=(()=>{class r{constructor(n,u,f,y,S,P,G){this.connId=n,this.applicationId=f,this.appCheckToken=y,this.authToken=S,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hd(this.connId),this.stats_=Au(u),this.connURL=r.connectionURL_(u,P,G,y,f),this.nodeAdmin=u.nodeAdmin}static connectionURL_(n,u,f,y,S){const P={v:"5"};return!(0,ce.Yr)()&&typeof location<"u"&&location.hostname&&Ib.test(location.hostname)&&(P.r="f"),u&&(P.s=u),f&&(P.ls=f),y&&(P.ac=y),S&&(P.p=S),Km(n,zh,P)}open(n,u){this.onDisconnect=u,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dd.set("previous_websocket_failure",!0);try{let f;if((0,ce.Yr)()){f={headers:{"User-Agent":`Firebase/5//${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const S=process.env,P=0===this.connURL.indexOf("wss://")?S.HTTPS_PROXY||S.https_proxy:S.HTTP_PROXY||S.http_proxy;P&&(f.proxy={origin:P})}this.mySock=new Nu(this.connURL,[],f)}catch(f){this.log_("Error instantiating WebSocket.");const y=f.message||f.data;return y&&this.log_(y),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=f=>{this.handleIncomingFrame(f)},this.mySock.onerror=f=>{this.log_("WebSocket error.  Closing connection.");const y=f.message||f.data;y&&this.log_(y),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const f=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);f&&f.length>1&&parseFloat(f[1])<4.4&&(n=!0)}return!n&&null!==Nu&&!r.forceDisallow_}static previouslyFailed(){return dd.isInMemoryStorage||!0===dd.get("previous_websocket_failure")}markConnectionHealthy(){dd.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const f=(0,ce.cI)(u);this.onMessage(f)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,ce.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const u=Number(n);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const u=n.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const f=this.extractFrameCount_(u);null!==f&&this.appendFrame_(f)}}send(n){this.resetKeepAlive();const u=(0,ce.Wl)(n);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const f=cy(u,16384);f.length>1&&this.sendString_(String(f.length));for(let y=0;y<f.length;y++)this.sendString_(f[y])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),Ym=(()=>{class r{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Il,qh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const u=qh&&qh.isAvailable();let f=u&&!qh.previouslyFailed();if(n.webSocketOnly&&(u||Ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),f=!0),f)this.transports_=[qh];else{const y=this.transports_=[];for(const S of r.ALL_TRANSPORTS)S&&S.isAvailable()&&y.push(S);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class Rg{constructor(i,n,u,f,y,S,P,G,Q,oe){this.id=i,this.repoInfo_=n,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=y,this.onMessage_=S,this.onReady_=P,this.onDisconnect_=G,this.onKill_=Q,this.lastSessionId=oe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hd("c:"+this.id+":"),this.transportManager_=new Ym(n),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,u)},Math.floor(0));const f=i.healthyTimeout||0;f>0&&(this.healthyTimeout_=$h(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(f)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return n=>{i===this.conn_?this.onConnectionLost_(n):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return n=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(n):i===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const n=i.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const n=Cu("t",i),u=Cu("d",i);if("c"===n)this.onSecondaryControl_(u);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const n=Cu("t",i),u=Cu("d",i);"c"===n?this.onControl_(u):"d"===n&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const n=Cu("t",i);if("d"in i){const u=i.d;if("h"===n){const f=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(f.h=this.repoInfo_.host),this.onHandshake_(f)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(u):"r"===n?this.onReset_(u):"e"===n?Eg("Server Error: "+u):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Eg("Unknown control packet command: "+n)}}onHandshake_(i){const n=i.ts,u=i.v,f=i.h;this.sessionId=i.s,this.repoInfo_.host=f,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==u&&Ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,u),$h(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,n){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$h(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xg{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,ce.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...n){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let f=0;f<u.length;f++)u[f].callback.apply(u[f].context,n)}}on(i,n,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:n,context:u});const f=this.getInitialEvent(i);f&&n.apply(u,f)}off(i,n,u){this.validateEventType_(i);const f=this.listeners_[i]||[];for(let y=0;y<f.length;y++)if(f[y].callback===n&&(!u||u===f[y].context))return void f.splice(y,1)}validateEventType_(i){(0,ce.hu)(this.allowedEvents_.find(n=>n===i),"Unknown event: "+i)}}class dp extends xg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ce.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new dp}getInitialEvent(i){return(0,ce.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Ai{constructor(i,n){if(void 0===n){this.pieces_=i.split("/");let u=0;for(let f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=n}toString(){let i="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(i+="/"+this.pieces_[n]);return i||"/"}}function Pr(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Kc(r){return r.pieces_.length-r.pieceNum_}function Fi(r){let i=r.pieceNum_;return i<r.pieces_.length&&i++,new Ai(r.pieces_,i)}function Er(r){return r.pieceNum_>=r.pieces_.length}class fp extends xg{constructor(){let i,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new fp}getInitialEvent(i){return(0,ce.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Og=1e3;let kg,Zc=(()=>{class r extends class up{put(i,n,u,f){}merge(i,n,u,f){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,n,u){}onDisconnectMerge(i,n,u){}onDisconnectCancel(i,n){}reportStats(i){}}{constructor(n,u,f,y,S,P,G,Q){if(super(),this.repoInfo_=n,this.applicationId_=u,this.onDataUpdate_=f,this.onConnectStatus_=y,this.onServerInfoUpdate_=S,this.authTokenProvider_=P,this.appCheckTokenProvider_=G,this.authOverride_=Q,this.id=r.nextPersistentConnectionId_++,this.log_=hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Og,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Q&&!(0,ce.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fp.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&dp.getInstance().on("online",this.onOnline_,this)}sendRequest(n,u,f){const y=++this.requestNumber_,S={r:y,a:n,b:u};this.log_((0,ce.Wl)(S)),(0,ce.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(S),f&&(this.requestCBHash_[y]=f)}get(n){this.initConnection_();const u=new ce.BH,f={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:f,onComplete:P=>{const G=P.d;"ok"===P.s?u.resolve(G):u.reject(G)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(n,u,f,y){this.initConnection_();const S=n._queryIdentifier,P=n._path.toString();this.log_("Listen called for "+P+" "+S),this.listens.has(P)||this.listens.set(P,new Map),(0,ce.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ce.hu)(!this.listens.get(P).has(S),"listen() called twice for same path/queryId.");const G={onComplete:y,hashFn:u,query:n,tag:f};this.listens.get(P).set(S,G),this.connected_&&this.sendListen_(G)}sendGet_(n){const u=this.outstandingGets_[n];this.sendRequest("g",u.request,f=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(f)})}sendListen_(n){const u=n.query,f=u._path.toString(),y=u._queryIdentifier;this.log_("Listen on "+f+" for "+y);const S={p:f};n.tag&&(S.q=u._queryObject,S.t=n.tag),S.h=n.hashFn(),this.sendRequest("q",S,G=>{const Q=G.d,oe=G.s;r.warnOnListenWarnings_(Q,u),(this.listens.get(f)&&this.listens.get(f).get(y))===n&&(this.log_("listen response",G),"ok"!==oe&&this.removeListen_(f,y),n.onComplete&&n.onComplete(oe,Q))})}static warnOnListenWarnings_(n,u){if(n&&"object"==typeof n&&(0,ce.r3)(n,"w")){const f=(0,ce.DV)(n,"w");if(Array.isArray(f)&&~f.indexOf("no_index")){const y='".indexOn": "'+u._queryParams.getIndex().toString()+'"',S=u._path.toString();Ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${y} at ${S} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,ce.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,u=(0,ce.w9)(n)?"auth":"gauth",f={cred:n};null===this.authOverride_?f.noauth=!0:"object"==typeof this.authOverride_&&(f.authvar=this.authOverride_),this.sendRequest(u,f,y=>{const S=y.s,P=y.d||"error";this.authToken_===n&&("ok"===S?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(S,P))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const u=n.s,f=n.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,f)})}unlisten(n,u){const f=n._path.toString(),y=n._queryIdentifier;this.log_("Unlisten called for "+f+" "+y),(0,ce.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(f,y)&&this.connected_&&this.sendUnlisten_(f,y,n._queryObject,u)}sendUnlisten_(n,u,f,y){this.log_("Unlisten on "+n+" for "+u);const S={p:n};y&&(S.q=f,S.t=y),this.sendRequest("n",S)}onDisconnectPut(n,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,u,f):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:u,onComplete:f})}onDisconnectMerge(n,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,u,f):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:u,onComplete:f})}onDisconnectCancel(n,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(n,u,f,y){const S={p:u,d:f};this.log_("onDisconnect "+n,S),this.sendRequest(n,S,P=>{y&&setTimeout(()=>{y(P.s,P.d)},Math.floor(0))})}put(n,u,f,y){this.putInternal("p",n,u,f,y)}merge(n,u,f,y){this.putInternal("m",n,u,f,y)}putInternal(n,u,f,y,S){this.initConnection_();const P={p:u,d:f};void 0!==S&&(P.h=S),this.outstandingPuts_.push({action:n,request:P,onComplete:y}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(n){const u=this.outstandingPuts_[n].action,f=this.outstandingPuts_[n].request,y=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(u,f,S=>{this.log_(u+" response",S),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),y&&y(S.s,S.d)})}reportStats(n){if(this.connected_){const u={c:n};this.log_("reportStats",u),this.sendRequest("s",u,f=>{"ok"!==f.s&&this.log_("reportStats","Error sending stats: "+f.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,ce.Wl)(n));const u=n.r,f=this.requestCBHash_[u];f&&(delete this.requestCBHash_[u],f(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,u){this.log_("handleServerMessage",n,u),"d"===n?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===n?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===n?this.onListenRevoked_(u.p,u.q):"ac"===n?this.onAuthRevoked_(u.s,u.d):"apc"===n?this.onAppCheckRevoked_(u.s,u.d):"sd"===n?this.onSecurityDebugPacket_(u):Eg("Unrecognized action received from server: "+(0,ce.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,ce.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Og,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Og,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Og),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-n);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,Wc.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const u=n.onDataMessage_.bind(n),f=n.onReady_.bind(n),y=n.onRealtimeDisconnect_.bind(n),S=n.id+":"+r.nextConnectionId_++,P=n.lastSessionId;let G=!1,Q=null;const oe=function(){Q?Q.close():(G=!0,y())};n.realtime_={close:oe,sendRequest:function(Qe){(0,ce.hu)(Q,"sendRequest call when we're not connected not allowed."),Q.sendRequest(Qe)}};const Oe=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[Qe,xt]=yield Promise.all([n.authTokenProvider_.getToken(Oe),n.appCheckTokenProvider_.getToken(Oe)]);G?ss("getToken() completed but was canceled"):(ss("getToken() completed. Creating connection."),n.authToken_=Qe&&Qe.accessToken,n.appCheckToken_=xt&&xt.token,Q=new Rg(S,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,u,f,y,$t=>{Ro($t+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},P))}catch(Qe){n.log_("Failed to get token: "+Qe),G||(n.repoInfo_.nodeAdmin&&Ro(Qe),oe())}}})()}interrupt(n){ss("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ss("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,ce.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Og,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const u=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const u=this.outstandingPuts_[n];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,u){let f;f=u?u.map(S=>Wm(S)).join("$"):"default";const y=this.removeListen_(n,f);y&&y.onComplete&&y.onComplete("permission_denied")}removeListen_(n,u){const f=new Ai(n).toString();let y;if(this.listens.has(f)){const S=this.listens.get(f);y=S.get(u),S.delete(u),0===S.size&&this.listens.delete(f)}else y=void 0;return y}onAuthRevoked_(n,u){ss("Auth token revoked: "+n+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,u){ss("App check token revoked: "+n+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const u of n.values())this.sendListen_(u);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let u="js";(0,ce.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+u+"."+"".replace(/\./g,"-")]=1,(0,ce.uI)()?n["framework.cordova"]=1:(0,ce.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=dp.getInstance().currentlyOnline();return(0,ce.xb)(this.interruptReasons_)&&n}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class Wr{constructor(i,n){this.name=i,this.node=n}static Wrap(i,n){return new Wr(i,n)}}class t_{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,n){const u=new Wr(fd,i),f=new Wr(fd,n);return 0!==this.compare(u,f)}minPost(){return Wr.MIN}}class Fg extends t_{static get __EMPTY_NODE(){return kg}static set __EMPTY_NODE(i){kg=i}compare(i,n){return Dl(i.name,n.name)}isDefinedOn(i){throw(0,ce.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,n){return!1}minPost(){return Wr.MIN}maxPost(){return new Wr(Za,kg)}makePost(i,n){return(0,ce.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Wr(i,kg)}toString(){return".key"}}const Tc=new Fg;class Lg{constructor(i,n,u,f,y=null){this.isReverse_=f,this.resultGenerator_=y,this.nodeStack_=[];let S=1;for(;!i.isEmpty();)if(S=n?u(i.key,n):1,f&&(S*=-1),S<0)i=this.isReverse_?i.left:i.right;else{if(0===S){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,i=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let xu=(()=>{class r{constructor(n,u,f,y,S){this.key=n,this.value=u,this.color=f??r.RED,this.left=y??Xl.EMPTY_NODE,this.right=S??Xl.EMPTY_NODE}copy(n,u,f,y,S){return new r(n??this.key,u??this.value,f??this.color,y??this.left,S??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,u,f){let y=this;const S=f(n,y.key);return y=S<0?y.copy(null,null,null,y.left.insert(n,u,f),null):0===S?y.copy(null,u,null,null,null):y.copy(null,null,null,null,y.right.insert(n,u,f)),y.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xl.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,u){let f,y;if(f=this,u(n,f.key)<0)!f.left.isEmpty()&&!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.remove(n,u),null);else{if(f.left.isRed_()&&(f=f.rotateRight_()),!f.right.isEmpty()&&!f.right.isRed_()&&!f.right.left.isRed_()&&(f=f.moveRedRight_()),0===u(n,f.key)){if(f.right.isEmpty())return Xl.EMPTY_NODE;y=f.right.min_(),f=f.copy(y.key,y.value,null,null,f.right.removeMin_())}f=f.copy(null,null,null,null,f.right.remove(n,u))}return f.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,u)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class Ta{copy(i,n,u,f,y){return this}insert(i,n,u){return new xu(i,n,null)}remove(i,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xl{constructor(i,n=Xl.EMPTY_NODE){this.comparator_=i,this.root_=n}insert(i,n){return new Xl(this.comparator_,this.root_.insert(i,n,this.comparator_).copy(null,null,xu.BLACK,null,null))}remove(i){return new Xl(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,xu.BLACK,null,null))}get(i){let n,u=this.root_;for(;!u.isEmpty();){if(n=this.comparator_(i,u.key),0===n)return u.value;n<0?u=u.left:n>0&&(u=u.right)}return null}getPredecessorKey(i){let n,u=this.root_,f=null;for(;!u.isEmpty();){if(n=this.comparator_(i,u.key),0===n){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}n<0?u=u.left:n>0&&(f=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Lg(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,n){return new Lg(this.root_,i,this.comparator_,!1,n)}getReverseIteratorFrom(i,n){return new Lg(this.root_,i,this.comparator_,!0,n)}getReverseIterator(i){return new Lg(this.root_,null,this.comparator_,!0,i)}}function Qh(r,i){return Dl(r,i)}Xl.EMPTY_NODE=new Ta;const r0=function(r){return"number"==typeof r?"number:"+Uv(r):"string:"+r},Nb=function(r){if(r.isLeafNode()){const i=r.val();(0,ce.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,ce.r3)(i,".sv"),"Priority must be a string or number.")}else(0,ce.hu)(undefined===r||r.isEmpty(),"priority of unexpected type.");(0,ce.hu)(undefined===r||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mb,Bg=(()=>{class r{constructor(n,u=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=u,this.lazyHash_=null,(0,ce.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Nb(this.priorityNode_)}static set __childrenNodeConstructor(n){Mb=n}static get __childrenNodeConstructor(){return Mb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new r(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Er(n)?this:".priority"===Pr(n)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,u){return null}updateImmediateChild(n,u){return".priority"===n?this.updatePriority(u):u.isEmpty()&&".priority"!==n?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,u).updatePriority(this.priorityNode_)}updateChild(n,u){const f=Pr(n);return null===f?u:u.isEmpty()&&".priority"!==f?this:((0,ce.hu)(".priority"!==f||1===Kc(n),".priority must be the last token in a path"),this.updateImmediateChild(f,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fi(n),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,u){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+r0(this.priorityNode_.val())+":");const u=typeof this.value_;n+=u+":",n+="number"===u?Uv(this.value_):this.value_,this.lazyHash_=jh(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===r.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof r.__childrenNodeConstructor?-1:((0,ce.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const u=typeof n.value_,f=typeof this.value_,y=r.VALUE_TYPE_ORDER.indexOf(u),S=r.VALUE_TYPE_ORDER.indexOf(f);return(0,ce.hu)(y>=0,"Unknown leaf type: "+u),(0,ce.hu)(S>=0,"Unknown leaf type: "+f),y===S?"object"===f?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:S-y}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const u=n;return this.value_===u.value_&&this.priorityNode_.equals(u.priorityNode_)}return!1}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();class n_ extends t_{compare(i,n){const u=i.node.getPriority(),f=n.node.getPriority(),y=u.compareTo(f);return 0===y?Dl(i.name,n.name):y}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,n){return!i.getPriority().equals(n.getPriority())}minPost(){return Wr.MIN}maxPost(){return new Wr(Za,new Bg("[PRIORITY-POST]",undefined))}makePost(i,n){const u=undefined(i);return new Wr(n,new Bg("[PRIORITY-POST]",u))}toString(){return".priority"}}const qi=new n_,ec=Math.log(2);class Ug{constructor(i){this.count=parseInt(Math.log(i+1)/ec,10),this.current_=this.count-1;const f=(y=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&f}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Xh=function(r,i,n,u){r.sort(i);const f=function(G,Q){const oe=Q-G;let Ce,Oe;if(0===oe)return null;if(1===oe)return Ce=r[G],Oe=n?n(Ce):Ce,new xu(Oe,Ce.node,xu.BLACK,null,null);{const Qe=parseInt(oe/2,10)+G,xt=f(G,Qe),$t=f(Qe+1,Q);return Ce=r[Qe],Oe=n?n(Ce):Ce,new xu(Oe,Ce.node,xu.BLACK,xt,$t)}},P=function(G){let Q=null,oe=null,Ce=r.length;const Oe=function(xt,$t){const fn=Ce-xt,er=Ce;Ce-=xt;const Zn=f(fn+1,er),_r=r[fn],qn=n?n(_r):_r;Qe(new xu(qn,_r.node,$t,null,Zn))},Qe=function(xt){Q?(Q.left=xt,Q=xt):(oe=xt,Q=xt)};for(let xt=0;xt<G.count;++xt){const $t=G.nextBitIsOne(),fn=Math.pow(2,G.count-(xt+1));$t?Oe(fn,xu.BLACK):(Oe(fn,xu.BLACK),Oe(fn,xu.RED))}return oe}(new Ug(r.length));return new Xl(u||i,P)};let th;const Ou={};class Yc{constructor(i,n){this.indexes_=i,this.indexSet_=n}static get Default(){return(0,ce.hu)(Ou&&qi,"ChildrenNode.ts has not been loaded"),th=th||new Yc({".priority":Ou},{".priority":qi}),th}get(i){const n=(0,ce.DV)(this.indexes_,i);if(!n)throw new Error("No index defined for "+i);return n instanceof Xl?n:null}hasIndex(i){return(0,ce.r3)(this.indexSet_,i.toString())}addIndex(i,n){(0,ce.hu)(i!==Tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let f=!1;const y=n.getIterator(Wr.Wrap);let P,S=y.getNext();for(;S;)f=f||i.isDefinedOn(S.node),u.push(S),S=y.getNext();P=f?Xh(u,i.getCompare()):Ou;const G=i.toString(),Q=Object.assign({},this.indexSet_);Q[G]=i;const oe=Object.assign({},this.indexes_);return oe[G]=P,new Yc(oe,Q)}addToIndexes(i,n){const u=(0,ce.UI)(this.indexes_,(f,y)=>{const S=(0,ce.DV)(this.indexSet_,y);if((0,ce.hu)(S,"Missing index implementation for "+y),f===Ou){if(S.isDefinedOn(i.node)){const P=[],G=n.getIterator(Wr.Wrap);let Q=G.getNext();for(;Q;)Q.name!==i.name&&P.push(Q),Q=G.getNext();return P.push(i),Xh(P,S.getCompare())}return Ou}{const P=n.get(i.name);let G=f;return P&&(G=G.remove(new Wr(i.name,P))),G.insert(i,i.node)}});return new Yc(u,this.indexSet_)}removeFromIndexes(i,n){const u=(0,ce.UI)(this.indexes_,f=>{if(f===Ou)return f;{const y=n.get(i.name);return y?f.remove(new Wr(i.name,y)):f}});return new Yc(u,this.indexSet_)}}let md,Dr=(()=>{class r{constructor(n,u,f){this.children_=n,this.priorityNode_=u,this.indexMap_=f,this.lazyHash_=null,this.priorityNode_&&Nb(this.priorityNode_),this.children_.isEmpty()&&(0,ce.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return md||(md=new r(new Xl(Qh),null,Yc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||md}updatePriority(n){return this.children_.isEmpty()?this:new r(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const u=this.children_.get(n);return null===u?md:u}}getChild(n){const u=Pr(n);return null===u?this:this.getImmediateChild(u).getChild(Fi(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,u){if((0,ce.hu)(u,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(u);{const f=new Wr(n,u);let y,S;u.isEmpty()?(y=this.children_.remove(n),S=this.indexMap_.removeFromIndexes(f,this.children_)):(y=this.children_.insert(n,u),S=this.indexMap_.addToIndexes(f,this.children_));const P=y.isEmpty()?md:this.priorityNode_;return new r(y,P,S)}}updateChild(n,u){const f=Pr(n);if(null===f)return u;{(0,ce.hu)(".priority"!==Pr(n)||1===Kc(n),".priority must be the last token in a path");const y=this.getImmediateChild(f).updateChild(Fi(n),u);return this.updateImmediateChild(f,y)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const u={};let f=0,y=0,S=!0;if(this.forEachChild(qi,(P,G)=>{u[P]=G.val(n),f++,S&&r.INTEGER_REGEXP_.test(P)?y=Math.max(y,Number(P)):S=!1}),!n&&S&&y<2*f){const P=[];for(const G in u)P[G]=u[G];return P}return n&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+r0(this.getPriority().val())+":"),this.forEachChild(qi,(u,f)=>{const y=f.hash();""!==y&&(n+=":"+u+":"+y)}),this.lazyHash_=""===n?"":jh(n)}return this.lazyHash_}getPredecessorChildName(n,u,f){const y=this.resolveIndex_(f);if(y){const S=y.getPredecessorKey(new Wr(n,u));return S?S.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const u=this.resolveIndex_(n);if(u){const f=u.minKey();return f&&f.name}return this.children_.minKey()}getFirstChild(n){const u=this.getFirstChildName(n);return u?new Wr(u,this.children_.get(u)):null}getLastChildName(n){const u=this.resolveIndex_(n);if(u){const f=u.maxKey();return f&&f.name}return this.children_.maxKey()}getLastChild(n){const u=this.getLastChildName(n);return u?new Wr(u,this.children_.get(u)):null}forEachChild(n,u){const f=this.resolveIndex_(n);return f?f.inorderTraversal(y=>u(y.name,y.node)):this.children_.inorderTraversal(u)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,u){const f=this.resolveIndex_(u);if(f)return f.getIteratorFrom(n,y=>y);{const y=this.children_.getIteratorFrom(n.name,Wr.Wrap);let S=y.peek();for(;null!=S&&u.compare(S,n)<0;)y.getNext(),S=y.peek();return y}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,u){const f=this.resolveIndex_(u);if(f)return f.getReverseIteratorFrom(n,y=>y);{const y=this.children_.getReverseIteratorFrom(n.name,Wr.Wrap);let S=y.peek();for(;null!=S&&u.compare(S,n)>0;)y.getNext(),S=y.peek();return y}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ef?-1:0}withIndex(n){if(n===Tc||this.indexMap_.hasIndex(n))return this;{const u=this.indexMap_.addIndex(n,this.children_);return new r(this.children_,this.priorityNode_,u)}}isIndexed(n){return n===Tc||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const u=n;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const f=this.getIterator(qi),y=u.getIterator(qi);let S=f.getNext(),P=y.getNext();for(;S&&P;){if(S.name!==P.name||!S.node.equals(P.node))return!1;S=f.getNext(),P=y.getNext()}return null===S&&null===P}return!1}return!1}}resolveIndex_(n){return n===Tc?null:this.indexMap_.get(n.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();class Ya extends Dr{constructor(){super(new Xl(Qh),Dr.EMPTY_NODE,Yc.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Dr.EMPTY_NODE}isEmpty(){return!1}}const ef=new Ya;Fg.__EMPTY_NODE=Dr.EMPTY_NODE,Bg.__childrenNodeConstructor=Dr;Zc.prototype.simpleListen=function(r,i){this.sendRequest("q",{p:r},i)},Zc.prototype.echo=function(r,i){this.sendRequest("echo",{d:r},i)};var Cv=z(2032),Iv=z(1274);function e(r){return null==r}function t(r){return"function"==typeof r.set}function l(r,i){return t(i)?i:r.ref(i)}function d(r,i){if(function Tv(r){return"string"==typeof r}(r))return i.stringCase();if(t(r))return i.firebaseCase();if(function o(r){return"function"==typeof r.exportVal}(r))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function g(r,i,n="on",u=Dt.z){return new Fe.y(f=>{let y=null;return y=r[n](i,(S,P)=>{u.schedule(()=>{f.next({snapshot:S,prevKey:P})}),"once"===n&&u.schedule(()=>f.complete())},S=>{u.schedule(()=>f.error(S))}),"on"===n?{unsubscribe(){null!=y&&r.off(i,y)}}:{unsubscribe(){}}}).pipe((0,zt.U)(f=>{const{snapshot:y,prevKey:S}=f;let P=null;return y.exists()&&(P=y.key),{type:i,payload:y,prevKey:S,key:P}}),(0,yg.B)())}function R(r,i){const n=r.length;for(let u=0;u<n;u++)if(r[u].payload.key===i)return u;return-1}function q(r,i){const{payload:n,prevKey:u,key:f}=i,y=R(r,f),S=function H(r,i){if(e(i))return 0;{const n=R(r,i);return-1===n?r.length:n+1}}(r,u);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let P=null;i.payload.forEach(G=>{const Q={payload:G,type:"value",prevKey:P,key:G.key};return P=G.key,r=[...r,Q],!1})}return r;case"child_added":if(y>-1){const P=r[y-1];(P&&P.key||null)!==u&&(r=r.filter(G=>G.payload.key!==n.key)).splice(S,0,i)}else{if(null==u)return[i,...r];(r=r.slice()).splice(S,0,i)}return r;case"child_removed":return r.filter(P=>P.payload.key!==n.key);case"child_changed":return r.map(P=>P.payload.key===f?i:P);case"child_moved":if(y>-1){const P=r.splice(y,1)[0];return(r=r.slice()).splice(S,0,P),r}return r;default:return r}}function ie(r){return(e(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function be(r,i,n){return function b(r,i,n){return g(r,"value","once",n).pipe((0,zn.w)(u=>{const f=[(0,me.of)(u)];return i.forEach(y=>f.push(g(r,y,"on",n))),(0,Bh.T)(...f).pipe((0,Yd.R)(q,[]))}),(0,Wn.x)())}(r,i=ie(i),n)}function Ze(r,i,n){const u=(i=ie(i)).map(f=>g(r,f,"on",n));return(0,Bh.T)(...u)}function wn(r,i){return function(u,f){return d(u,{stringCase:()=>r.child(u)[i](f),firebaseCase:()=>u[i](f),snapshotCase:()=>u.ref[i](f)})}}function Cr(r){return function(n){return n?d(n,{stringCase:()=>r.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):r.remove()}}function mr(r,i){return function(){return g(r,"value","on",i)}}const Zi=new D.OlP("angularfire2.realtimeDatabaseURL"),Ui=new D.OlP("angularfire2.database.use-emulator");let Na=(()=>{class r{constructor(n,u,f,y,S,P,G,Q,oe,Ce,Oe,Qe,xt,$t,fn){this.schedulers=P;const er=G,Zn=(0,Ca.on)(n,S,u);Q&&(0,Go.nw)(Zn,S,oe,Oe,Qe,xt,Ce,$t),this.database=(0,Ca.cc)(`${Zn.name}.database.${f}`,"AngularFireDatabase",Zn.name,()=>{const _r=S.runOutsideAngular(()=>Zn.database(f||void 0));return er&&_r.useEmulator(...er),_r},[er])}list(n,u){const f=this.schedulers.ngZone.runOutsideAngular(()=>l(this.database,n));let y=f;return u&&(y=u(f)),function Xr(r,i){const n=i.schedulers.outsideAngular,u=i.schedulers.ngZone.run(()=>r.ref);return{query:r,update:wn(u,"update"),set:wn(u,"set"),push:f=>u.push(f),remove:Cr(u),snapshotChanges:f=>be(r,f,n).pipe(Mo.iC),stateChanges:f=>Ze(r,f,n).pipe(Mo.iC),auditTrail:f=>function yt(r,i,n){return function dn(r,i,n){return function Wt(r,i){return g(r,"value","on",i).pipe((0,zt.U)(n=>{let u;return n.payload.forEach(f=>(u=f.key,!1)),{data:n,lastKeyToLoad:u}}))}(r,n).pipe(lr(i),(0,zt.U)(([f,y])=>{const S=f.lastKeyToLoad,P=y.map(G=>G.key);return{actions:y,lastKeyToLoad:S,loadedKeys:P}}),function vg(r){return(0,At.e)((i,n)=>{let u=!1,f=0;i.subscribe((0,Pt.x)(n,y=>(u||(u=!r(y,f++)))&&n.next(y)))})}(f=>-1===f.loadedKeys.indexOf(f.lastKeyToLoad)),(0,zt.U)(f=>f.actions))}(r,Ze(r,i).pipe((0,Yd.R)((f,y)=>[...f,y],[])),n)}(r,f,n).pipe(Mo.iC),valueChanges:(f,y)=>be(r,f,n).pipe((0,zt.U)(P=>P.map(G=>y&&y.idField?Object.assign(Object.assign({},G.payload.val()),{[y.idField]:G.key}):G.payload.val())),Mo.iC)}}(y,this)}object(n){return function Ts(r,i){return{query:r,snapshotChanges:()=>mr(r,i.schedulers.outsideAngular)().pipe(Mo.iC),update:n=>r.ref.update(n),set:n=>r.ref.set(n),remove:()=>r.ref.remove(),valueChanges:()=>mr(r,i.schedulers.outsideAngular)().pipe(Mo.iC,(0,zt.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>l(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(n){return new(n||r)(D.LFG(Ca.Dh),D.LFG(Ca.xv,8),D.LFG(Zi,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Mo.HU),D.LFG(Ui,8),D.LFG(Go.zQ,8),D.LFG(Go.Qv,8),D.LFG(Go.L6,8),D.LFG(Go._Q,8),D.LFG(Go.rT,8),D.LFG(Go.lh,8),D.LFG(Go.f7,8),D.LFG(Cv.nm,8))},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),If=(()=>{class r{constructor(){Iv.Z.registerVersion("angularfire",Mo.q4.full,"rtdb-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({providers:[Na]}),r})();var Y0=z(1654),Q0=z(8996),Ma=z(9681);class qw{constructor(i,n){this._delegate=i,this.firebase=n,(0,Ma._addComponent)(i,new Dc.wA("app-compat",()=>this,"PUBLIC")),this.container=i.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this._delegate.automaticDataCollectionEnabled=i}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(i=>{this._delegate.checkDestroyed(),i()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ma.deleteApp)(this._delegate)))}_getService(i,n=Ma._DEFAULT_ENTRY_NAME){var u;this._delegate.checkDestroyed();const f=this._delegate.container.getProvider(i);return!f.isInitialized()&&"EXPLICIT"===(null===(u=f.getComponent())||void 0===u?void 0:u.instantiationMode)&&f.initialize(),f.getImmediate({identifier:n})}_removeServiceInstance(i,n=Ma._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(i).clearInstance(n)}_addComponent(i){(0,Ma._addComponent)(this._delegate,i)}_addOrOverwriteComponent(i){(0,Ma._addOrOverwriteComponent)(this._delegate,i)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Zw=new ce.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),rD=function nD(){const r=function aC(r){const i={},n={__esModule:!0,initializeApp:function y(Q,oe={}){const Ce=Ma.initializeApp(Q,oe);if((0,ce.r3)(i,Ce.name))return i[Ce.name];const Oe=new r(Ce,n);return i[Ce.name]=Oe,Oe},app:f,registerVersion:Ma.registerVersion,setLogLevel:Ma.setLogLevel,onLog:Ma.onLog,apps:null,SDK_VERSION:Ma.SDK_VERSION,INTERNAL:{registerComponent:function P(Q){const oe=Q.name,Ce=oe.replace("-compat","");if(Ma._registerComponent(Q)&&"PUBLIC"===Q.type){const Oe=(Qe=f())=>{if("function"!=typeof Qe[Ce])throw Zw.create("invalid-app-argument",{appName:oe});return Qe[Ce]()};void 0!==Q.serviceProps&&(0,ce.ZB)(Oe,Q.serviceProps),n[Ce]=Oe,r.prototype[Ce]=function(...Qe){return this._getService.bind(this,oe).apply(this,Q.multipleInstances?Qe:[])}}return"PUBLIC"===Q.type?n[Ce]:null},removeApp:function u(Q){delete i[Q]},useAsService:function G(Q,oe){return"serverAuth"===oe?null:oe},modularAPIs:Ma}};function f(Q){if(!(0,ce.r3)(i,Q=Q||Ma._DEFAULT_ENTRY_NAME))throw Zw.create("no-app",{appName:Q});return i[Q]}return n.default=n,Object.defineProperty(n,"apps",{get:function S(){return Object.keys(i).map(Q=>i[Q])}}),f.App=r,n}(qw);return r.INTERNAL=Object.assign(Object.assign({},r.INTERNAL),{createFirebaseNamespace:nD,extendNamespace:function i(n){(0,ce.ZB)(r,n)},createSubscribe:ce.ne,ErrorFactory:ce.LL,deepExtend:ce.ZB}),r}(),Yw=new Um.Yd("@firebase/app-compat");if((0,ce.jU)()&&void 0!==self.firebase){Yw.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const r=self.firebase.SDK_VERSION;r&&r.indexOf("LITE")>=0&&Yw.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xw=rD;!function Jw(r){(0,Ma.registerVersion)("@firebase/app-compat","0.2.15",r)}();const eE="firebasestorage.googleapis.com",tE="storageBucket";class no extends ce.ZR{constructor(i,n,u=0){super(J0(i),`Firebase Storage: ${n} (${J0(i)})`),this.status_=u,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,no.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return J0(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ji=(()=>{return(r=ji||(ji={})).UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ji;var r})();function J0(r){return"storage/"+r}function X0(){return new no(ji.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cD(){return new no(ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oE(){return new no(ji.CANCELED,"User canceled the upload/download.")}function lE(){return new no(ji.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oc(r){return new no(ji.INVALID_ARGUMENT,r)}function cE(){return new no(ji.APP_DELETED,"The Firebase app was deleted.")}function eb(r){return new no(ji.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tf(r,i){return new no(ji.INVALID_FORMAT,"String does not match format '"+r+"': "+i)}function Av(r){throw new no(ji.INTERNAL_ERROR,"Internal error: "+r)}class Pl{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let u;try{u=Pl.makeFromUrl(i,n)}catch{return new Pl(i,"")}if(""===u.path)return u;throw function uD(r){return new no(ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}(i)}static makeFromUrl(i,n){let u=null;const f="([A-Za-z0-9.\\-_]+)",P=new RegExp("^gs://"+f+"(/(.*))?$","i");function Q(qn){qn.path_=decodeURIComponent(qn.path)}const Ce=n.replace(/[.]/g,"\\."),_r=[{regex:P,indices:{bucket:1,path:3},postModify:function y(qn){"/"===qn.path.charAt(qn.path.length-1)&&(qn.path_=qn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ce}/v[A-Za-z0-9_]+/b/${f}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Q},{regex:new RegExp(`^https?://${n===eE?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${f}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Q}];for(let qn=0;qn<_r.length;qn++){const ei=_r[qn],ui=ei.regex.exec(i);if(ui){let xi=ui[ei.indices.path];xi||(xi=""),u=new Pl(ui[ei.indices.bucket],xi),ei.postModify(u);break}}if(null==u)throw function aE(r){return new no(ji.INVALID_URL,"Invalid URL '"+r+"'.")}(i);return u}}class fD{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function Nv(r){return"string"==typeof r||r instanceof String}function rb(r){return ib()&&r instanceof Blob}function ib(){return typeof Blob<"u"&&!(0,ce.UG)()}function lw(r,i,n,u){if(u<i)throw oc(`Invalid value for '${r}'. Expected ${i} or greater.`);if(u>n)throw oc(`Invalid value for '${r}'. Expected ${n} or less.`)}function Sf(r,i,n){let u=i;return null==n&&(u=`https://${i}`),`${n}://${u}/v0${r}`}function mD(r){const i=encodeURIComponent;let n="?";for(const u in r)r.hasOwnProperty(u)&&(n=n+(i(u)+"=")+i(r[u])+"&");return n=n.slice(0,-1),n}var Eh=(()=>{return(r=Eh||(Eh={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",Eh;var r})();function sb(r,i){const n=r>=500&&r<600,f=-1!==[408,429].indexOf(r),y=-1!==i.indexOf(r);return n||f||y}class dE{constructor(i,n,u,f,y,S,P,G,Q,oe,Ce,Oe=!0){this.url_=i,this.method_=n,this.headers_=u,this.body_=f,this.successCodes_=y,this.additionalRetryCodes_=S,this.callback_=P,this.errorCallback_=G,this.timeout_=Q,this.progressCallback_=oe,this.connectionFactory_=Ce,this.retry=Oe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Qe,xt)=>{this.resolve_=Qe,this.reject_=xt,this.start_()})}start_(){const n=(u,f)=>{const y=this.resolve_,S=this.reject_,P=f.connection;if(f.wasSuccessCode)try{const G=this.callback_(P,P.getResponse());!function pD(r){return void 0!==r}(G)?y():y(G)}catch(G){S(G)}else if(null!==P){const G=X0();G.serverResponse=P.getErrorText(),S(this.errorCallback_?this.errorCallback_(P,G):G)}else S(f.canceled?this.appDelete_?cE():oE():cD())};this.canceled_?n(0,new H_(!1,null,!0)):this.backoffId_=function tb(r,i,n){let u=1,f=null,y=null,S=!1,P=0;function G(){return 2===P}let Q=!1;function oe(...fn){Q||(Q=!0,i.apply(null,fn))}function Ce(fn){f=setTimeout(()=>{f=null,r(Qe,G())},fn)}function Oe(){y&&clearTimeout(y)}function Qe(fn,...er){if(Q)return void Oe();if(fn)return Oe(),void oe.call(null,fn,...er);if(G()||S)return Oe(),void oe.call(null,fn,...er);let _r;u<64&&(u*=2),1===P?(P=2,_r=0):_r=1e3*(u+Math.random()),Ce(_r)}let xt=!1;function $t(fn){xt||(xt=!0,Oe(),!Q&&(null!==f?(fn||(P=2),clearTimeout(f),Ce(0)):fn||(P=1)))}return Ce(0),y=setTimeout(()=>{S=!0,$t(!0)},n),$t}((u,f)=>{if(f)return void u(!1,new H_(!1,null,!0));const y=this.connectionFactory_();this.pendingConnection_=y;const S=P=>{null!==this.progressCallback_&&this.progressCallback_(P.loaded,P.lengthComputable?P.total:-1)};null!==this.progressCallback_&&y.addUploadProgressListener(S),y.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&y.removeUploadProgressListener(S),this.pendingConnection_=null;const P=y.getErrorCode()===Eh.NO_ERROR,G=y.getStatus();if(!P||sb(G,this.additionalRetryCodes_)&&this.retry){const oe=y.getErrorCode()===Eh.ABORT;return void u(!1,new H_(!1,null,oe))}const Q=-1!==this.successCodes_.indexOf(G);u(!0,new H_(Q,y))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function nb(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class H_{constructor(i,n,u){this.wasSuccessCode=i,this.connection=n,this.canceled=!!u}}function uw(...r){const i=function hE(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==i){const n=new i;for(let u=0;u<r.length;u++)n.append(r[u]);return n.getBlob()}if(ib())return new Blob(r);throw new no(ji.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Rc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ob{constructor(i,n){this.data=i,this.contentType=n||null}}function dw(r,i){switch(r){case Rc.RAW:return new ob(hw(i));case Rc.BASE64:case Rc.BASE64URL:return new ob(mE(r,i));case Rc.DATA_URL:return new ob(function _E(r){const i=new fw(r);return i.base64?mE(Rc.BASE64,i.rest):function gE(r){let i;try{i=decodeURIComponent(r)}catch{throw Tf(Rc.DATA_URL,"Malformed data URL.")}return hw(i)}(i.rest)}(i),function ac(r){return new fw(r).contentType}(i))}throw X0()}function hw(r){const i=[];for(let n=0;n<r.length;n++){let u=r.charCodeAt(n);u<=127?i.push(u):u<=2047?i.push(192|u>>6,128|63&u):55296==(64512&u)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(u=65536|(1023&u)<<10|1023&r.charCodeAt(++n),i.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u)):i.push(239,191,189):56320==(64512&u)?i.push(239,191,189):i.push(224|u>>12,128|u>>6&63,128|63&u)}return new Uint8Array(i)}function mE(r,i){switch(r){case Rc.BASE64:{const f=-1!==i.indexOf("-"),y=-1!==i.indexOf("_");if(f||y)throw Tf(r,"Invalid character '"+(f?"-":"_")+"' found: is it base64url encoded?");break}case Rc.BASE64URL:{const f=-1!==i.indexOf("+"),y=-1!==i.indexOf("/");if(f||y)throw Tf(r,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function pE(r){if(typeof atob>"u")throw function aw(r){return new no(ji.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(r)}(i)}catch(f){throw f.message.includes("polyfill")?f:Tf(r,"Invalid character found")}const u=new Uint8Array(n.length);for(let f=0;f<n.length;f++)u[f]=n.charCodeAt(f);return u}class fw{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw Tf(Rc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const u=n[1]||null;null!=u&&(this.base64=function $_(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(u,";base64"),this.contentType=this.base64?u.substring(0,u.length-7):u),this.rest=i.substring(i.indexOf(",")+1)}}class Dh{constructor(i,n){let u=0,f="";rb(i)?(this.data_=i,u=i.size,f=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),u=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),u=i.length),this.size_=u,this.type_=f}size(){return this.size_}type(){return this.type_}slice(i,n){if(rb(this.data_)){const f=function fE(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===f?null:new Dh(f)}{const u=new Uint8Array(this.data_.buffer,i,n-i);return new Dh(u,!0)}}static getBlob(...i){if(ib()){const n=i.map(u=>u instanceof Dh?u.data_:u);return new Dh(uw.apply(null,n))}{const n=i.map(S=>Nv(S)?dw(Rc.RAW,S).data:S.data_);let u=0;n.forEach(S=>{u+=S.byteLength});const f=new Uint8Array(u);let y=0;return n.forEach(S=>{for(let P=0;P<S.length;P++)f[y++]=S[P]}),new Dh(f,!0)}}uploadData(){return this.data_}}function pw(r){let i;try{i=JSON.parse(r)}catch{return null}return function uE(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function gw(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function yE(r,i){return i}class da{constructor(i,n,u,f){this.server=i,this.local=n||i,this.writable=!!u,this.xform=f||yE}}let ab=null;function Mv(){if(ab)return ab;const r=[];r.push(new da("bucket")),r.push(new da("generation")),r.push(new da("metageneration")),r.push(new da("name","fullPath",!0));const n=new da("name");n.xform=function i(y,S){return function mw(r){return!Nv(r)||r.length<2?r:gw(r)}(S)},r.push(n);const f=new da("size");return f.xform=function u(y,S){return void 0!==S?Number(S):S},r.push(f),r.push(new da("timeCreated")),r.push(new da("updated")),r.push(new da("md5Hash",null,!0)),r.push(new da("cacheControl",null,!0)),r.push(new da("contentDisposition",null,!0)),r.push(new da("contentEncoding",null,!0)),r.push(new da("contentLanguage",null,!0)),r.push(new da("contentType",null,!0)),r.push(new da("metadata","customMetadata",!0)),ab=r,ab}function bE(r,i,n){const u=pw(i);return null===u?null:function wD(r,i,n){const u={type:"file"},f=n.length;for(let y=0;y<f;y++){const S=n[y];u[S.local]=S.xform(u,i[S.server])}return function vE(r,i){Object.defineProperty(r,"ref",{get:function n(){const y=new Pl(r.bucket,r.fullPath);return i._makeStorageReference(y)}})}(u,r),u}(r,u,n)}function Rv(r,i){const n={},u=i.length;for(let f=0;f<u;f++){const y=i[f];y.writable&&(n[y.server]=r[y.local])}return JSON.stringify(n)}const _w="prefixes";class Af{constructor(i,n,u,f){this.url=i,this.method=n,this.handler=u,this.timeout=f,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xd(r){if(!r)throw X0()}function cb(r,i){return function n(u,f){const y=bE(r,f,i);return xd(null!==y),y}}function W_(r){return function i(n,u){let f;return f=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function sE(){return new no(ji.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function iE(){return new no(ji.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function rE(r){return new no(ji.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function lD(r){return new no(ji.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}(r.path):u,f.status=n.getStatus(),f.serverResponse=u.serverResponse,f}}function z_(r){const i=W_(r);return function n(u,f){let y=i(u,f);return 404===u.getStatus()&&(y=function nE(r){return new no(ji.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}(r.path)),y.serverResponse=f.serverResponse,y}}function ub(r,i,n){const f=Sf(i.fullServerUrl(),r.host,r._protocol),S=r.maxOperationRetryTime,P=new Af(f,"GET",cb(r,n),S);return P.errorHandler=z_(i),P}function uC(r,i,n,u,f){const y={};y.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(y.delimiter=n),u&&(y.pageToken=u),f&&(y.maxResults=f);const P=Sf(i.bucketOnlyServerUrl(),r.host,r._protocol),Q=r.maxOperationRetryTime,oe=new Af(P,"GET",function wE(r,i){return function n(u,f){const y=function vw(r,i,n){const u=pw(n);return null===u?null:function lb(r,i,n){const u={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_w])for(const f of n[_w]){const y=f.replace(/\/$/,""),S=r._makeStorageReference(new Pl(i,y));u.prefixes.push(S)}if(n.items)for(const f of n.items){const y=r._makeStorageReference(new Pl(i,f.name));u.items.push(y)}return u}(r,i,u)}(r,i,f);return xd(null!==y),y}}(r,i.bucket),Q);return oe.urlParams=y,oe.errorHandler=W_(i),oe}function bw(r,i,n){const u=Object.assign({},n);return u.fullPath=r.path,u.size=i.size(),u.contentType||(u.contentType=function ID(r,i){return r&&r.contentType||i&&i.type()||"application/octet-stream"}(null,i)),u}class db{constructor(i,n,u,f){this.current=i,this.total=n,this.finalized=!!u,this.metadata=f||null}}function hb(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{xd(!1)}return xd(!!n&&-1!==(i||["active"]).indexOf(n)),n}const SD={STATE_CHANGED:"state_changed"},kl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fb(r){switch(r){case"running":case"pausing":case"canceling":return kl.RUNNING;case"paused":return kl.PAUSED;case"success":return kl.SUCCESS;case"canceled":return kl.CANCELED;default:return kl.ERROR}}class TE{constructor(i,n,u){if(function gD(r){return"function"==typeof r}(i)||null!=n||null!=u)this.next=i,this.error=n??void 0,this.complete=u??void 0;else{const y=i;this.next=y.next,this.error=y.error,this.complete=y.complete}}}function Im(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class hC extends class AD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eh.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eh.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eh.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,u,f){if(this.sent_)throw Av("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==f)for(const y in f)f.hasOwnProperty(y)&&this.xhr_.setRequestHeader(y,f[y].toString());return void 0!==u?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Av("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Av("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Av("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Av("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}{initXhr(){this.xhr_.responseType="text"}}function Gu(){return new hC}class ND{constructor(i,n,u=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=u,this._mappings=Mv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=f=>{if(this._request=void 0,this._chunkMultiplier=1,f._codeEquals(ji.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const y=this.isExponentialBackoffExpired();if(sb(f.status,[])){if(!y)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();f=cD()}this._error=f,this._transition("error")}},this._metadataErrorHandler=f=>{this._request=void 0,f._codeEquals(ji.CANCELED)?this.completeTransitions_():(this._error=f,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((f,y)=>{this._resolve=f,this._reject=y,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,u])=>{switch(this._state){case"running":i(n,u);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const u=function DE(r,i,n,u,f){const y=i.bucketOnlyServerUrl(),S=bw(i,u,f),P={name:S.fullPath},G=Sf(y,r.host,r._protocol),oe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${u.size()}`,"X-Goog-Upload-Header-Content-Type":S.contentType,"Content-Type":"application/json; charset=utf-8"},Ce=Rv(S,n),xt=new Af(G,"POST",function Qe($t){let fn;hb($t);try{fn=$t.getResponseHeader("X-Goog-Upload-URL")}catch{xd(!1)}return xd(Nv(fn)),fn},r.maxUploadRetryTime);return xt.urlParams=P,xt.headers=oe,xt.body=Ce,xt.errorHandler=W_(i),xt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),f=this._ref.storage._makeRequest(u,Gu,i,n);this._request=f,f.getPromise().then(y=>{this._request=void 0,this._uploadUrl=y,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,u)=>{const f=function TD(r,i,n,u){const G=new Af(n,"POST",function y(Q){const oe=hb(Q,["active","final"]);let Ce=null;try{Ce=Q.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xd(!1)}Ce||xd(!1);const Oe=Number(Ce);return xd(!isNaN(Oe)),new db(Oe,u.size(),"final"===oe)},r.maxUploadRetryTime);return G.headers={"X-Goog-Upload-Command":"query"},G.errorHandler=W_(i),G}(this._ref.storage,this._ref._location,i,this._blob),y=this._ref.storage._makeRequest(f,Gu,n,u);this._request=y,y.getPromise().then(S=>{this._request=void 0,this._updateProgress(S.current),this._needToFetchStatus=!1,S.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new db(this._transferred,this._blob.size()),u=this._uploadUrl;this._resolveToken((f,y)=>{let S;try{S=function IE(r,i,n,u,f,y,S,P){const G=new db(0,0);if(S?(G.current=S.current,G.total=S.total):(G.current=0,G.total=u.size()),u.size()!==G.total)throw function Sv(){return new no(ji.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Q=G.total-G.current;let oe=Q;f>0&&(oe=Math.min(oe,f));const Ce=G.current;let Qe="";Qe=0===oe?"finalize":Q===oe?"upload, finalize":"upload";const xt={"X-Goog-Upload-Command":Qe,"X-Goog-Upload-Offset":`${G.current}`},$t=u.slice(Ce,Ce+oe);if(null===$t)throw lE();const _r=new Af(n,"POST",function fn(qn,ei){const ui=hb(qn,["active","final"]),as=G.current+oe,xi=u.size();let Ls;return Ls="final"===ui?cb(i,y)(qn,ei):null,new db(as,xi,"final"===ui,Ls)},i.maxUploadRetryTime);return _r.headers=xt,_r.body=$t.uploadData(),_r.progressCallback=P||null,_r.errorHandler=W_(r),_r}(this._ref._location,this._ref.storage,u,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(G){return this._error=G,void this._transition("error")}const P=this._ref.storage._makeRequest(S,Gu,f,y,!1);this._request=P,P.getPromise().then(G=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(G.current),G.finalized?(this._metadata=G.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const u=ub(this._ref.storage,this._ref._location,this._mappings),f=this._ref.storage._makeRequest(u,Gu,i,n);this._request=f,f.getPromise().then(y=>{this._request=void 0,this._metadata=y,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const u=function ww(r,i,n,u,f){const y=i.bucketOnlyServerUrl(),S={"X-Goog-Upload-Protocol":"multipart"},G=function P(){let _r="";for(let qn=0;qn<2;qn++)_r+=Math.random().toString().slice(2);return _r}();S["Content-Type"]="multipart/related; boundary="+G;const Q=bw(i,u,f),oe=Rv(Q,n),Qe=Dh.getBlob("--"+G+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+oe+"\r\n--"+G+"\r\nContent-Type: "+Q.contentType+"\r\n\r\n",u,"\r\n--"+G+"--");if(null===Qe)throw lE();const xt={name:Q.fullPath},$t=Sf(y,r.host,r._protocol),er=r.maxUploadRetryTime,Zn=new Af($t,"POST",cb(r,n),er);return Zn.urlParams=xt,Zn.headers=S,Zn.body=Qe.uploadData(),Zn.errorHandler=W_(i),Zn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),f=this._ref.storage._makeRequest(u,Gu,i,n);this._request=f,f.getPromise().then(y=>{this._request=void 0,this._metadata=y,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=oE(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=fb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,u,f){const y=new TE(n||void 0,u||void 0,f||void 0);return this._addObserver(y),()=>{this._removeObserver(y)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(fb(this._state)){case kl.SUCCESS:Im(this._resolve.bind(null,this.snapshot))();break;case kl.CANCELED:case kl.ERROR:Im(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(fb(this._state)){case kl.RUNNING:case kl.PAUSED:i.next&&Im(i.next.bind(i,this.snapshot))();break;case kl.SUCCESS:i.complete&&Im(i.complete.bind(i))();break;default:i.error&&Im(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class K_{constructor(i,n){this._service=i,this._location=n instanceof Pl?n:Pl.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new K_(i,n)}get root(){const i=new Pl(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gw(this._location.path)}get storage(){return this._service}get parent(){const i=function lC(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new Pl(this._location.bucket,i);return new K_(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw eb(i)}}function Ew(r,i,n){return gb.apply(this,arguments)}function gb(){return(gb=(0,Wc.Z)(function*(r,i,n){const f=yield MD(r,{pageToken:n});i.prefixes.push(...f.prefixes),i.items.push(...f.items),null!=f.nextPageToken&&(yield Ew(r,i,f.nextPageToken))})).apply(this,arguments)}function MD(r,i){null!=i&&"number"==typeof i.maxResults&&lw("options.maxResults",1,1e3,i.maxResults);const n=i||{},u=uC(r.storage,r._location,"/",n.pageToken,n.maxResults);return r.storage.makeRequestWithTokens(u,Gu)}function RD(r){r._throwIfRoot("getDownloadURL");const i=function dC(r,i,n){const f=Sf(i.fullServerUrl(),r.host,r._protocol),S=r.maxOperationRetryTime,P=new Af(f,"GET",function G_(r,i){return function n(u,f){const y=bE(r,f,i);return xd(null!==y),function ED(r,i,n,u){const f=pw(i);if(null===f||!Nv(f.downloadTokens))return null;const y=f.downloadTokens;if(0===y.length)return null;const S=encodeURIComponent;return y.split(",").map(Q=>{const Ce=r.fullPath;return Sf("/b/"+S(r.bucket)+"/o/"+S(Ce),n,u)+mD({alt:"media",token:Q})})[0]}(y,f,r.host,r._protocol)}}(r,n),S);return P.errorHandler=z_(i),P}(r.storage,r._location,Mv());return r.storage.makeRequestWithTokens(i,Gu).then(n=>{if(null===n)throw function hD(){return new no(ji.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function xD(r,i){const n=function cC(r,i){const n=i.split("/").filter(u=>u.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),u=new Pl(r._location.bucket,n);return new K_(r.storage,u)}function RE(r,i){if(r instanceof OE){const n=r;if(null==n._bucket)throw function dD(){return new no(ji.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tE+"' property when initializing the app?")}();const u=new K_(n,n._bucket);return null!=i?RE(u,i):u}return void 0!==i?xD(r,i):r}function mb(r,i){if(i&&function bC(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof OE)return function OD(r,i){return new K_(r,i)}(r,i);throw oc("To use ref(service, url), the first argument must be a Storage instance.")}return RE(r,i)}function xE(r,i){const n=i?.[tE];return null==n?null:Pl.makeFromBucketSpec(n,r)}class OE{constructor(i,n,u,f,y){this.app=i,this._authProvider=n,this._appCheckProvider=u,this._url=f,this._firebaseVersion=y,this._bucket=null,this._host=eE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=f?Pl.makeFromBucketSpec(f,this._host):xE(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Pl.makeFromBucketSpec(this._url,i):xE(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){lw("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){lw("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,Wc.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const u=yield n.getToken();if(null!==u)return u.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,Wc.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new K_(this,i)}_makeRequest(i,n,u,f,y=!0){if(this._deleted)return new fD(cE());{const S=function bD(r,i,n,u,f,y,S=!0){const P=mD(r.urlParams),G=r.url+P,Q=Object.assign({},r.headers);return function yD(r,i){i&&(r["X-Firebase-GMPID"]=i)}(Q,i),function cw(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(Q,n),function _D(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}(Q,y),function vD(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(Q,u),new dE(G,r.method,Q,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,f,S)}(i,this._appId,u,f,n,this._firebaseVersion,y);return this._requests.add(S),S.getPromise().then(()=>this._requests.delete(S),()=>this._requests.delete(S)),S}}makeRequestWithTokens(i,n){var u=this;return(0,Wc.Z)(function*(){const[f,y]=yield Promise.all([u._getAuthToken(),u._getAppCheckToken()]);return u._makeRequest(i,n,f,y).getPromise()})()}}const PD="@firebase/storage";function ru(r,i){return mb(r=(0,ce.m9)(r),i)}function jE(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),u=r.getProvider("auth-internal"),f=r.getProvider("app-check-internal");return new OE(n,u,f,i,Ma.SDK_VERSION)}!function HE(){(0,Ma._registerComponent)(new Dc.wA("storage",jE,"PUBLIC").setMultipleInstances(!0)),(0,Ma.registerVersion)(PD,"0.11.2",""),(0,Ma.registerVersion)(PD,"0.11.2","esm2017")}();class _b{constructor(i,n,u){this._delegate=i,this.task=n,this.ref=u}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Iw{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _b(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(u=>{if(i)return i(new _b(u,this,this._ref))},n)}on(i,n,u,f){let y;return n&&(y="function"==typeof n?S=>n(new _b(S,this,this._ref)):{next:n.next?S=>n.next(new _b(S,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,y,u||void 0,f||void 0)}}class Tw{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new Nf(i,this._service))}get items(){return this._delegate.items.map(i=>new Nf(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nf{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function LD(r,i){return xD(r,i)}(this._delegate,i);return new Nf(n,this.storage)}get root(){return new Nf(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new Nf(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new Iw(function FE(r,i,n){return function vC(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new ND(r,new Dh(i),n)}(r=(0,ce.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=Rc.RAW,u){this._throwIfRoot("putString");const f=dw(n,i),y=Object.assign({},u);return null==y.contentType&&null!=f.contentType&&(y.contentType=f.contentType),new Iw(new ND(this._delegate,new Dh(f.data,!0),y),this)}listAll(){return function kD(r){return function pb(r){const i={prefixes:[],items:[]};return Ew(r,i).then(()=>i)}(r=(0,ce.m9)(r))}(this._delegate).then(i=>new Tw(i,this.storage))}list(i){return function Od(r,i){return MD(r=(0,ce.m9)(r),i)}(this._delegate,i||void 0).then(n=>new Tw(n,this.storage))}getMetadata(){return function LE(r){return function Dw(r){r._throwIfRoot("getMetadata");const i=ub(r.storage,r._location,Mv());return r.storage.makeRequestWithTokens(i,Gu)}(r=(0,ce.m9)(r))}(this._delegate)}updateMetadata(i){return function CC(r,i){return function NE(r,i){r._throwIfRoot("updateMetadata");const n=function DD(r,i,n,u){const y=Sf(i.fullServerUrl(),r.host,r._protocol),P=Rv(n,u),Q=r.maxOperationRetryTime,oe=new Af(y,"PATCH",cb(r,u),Q);return oe.headers={"Content-Type":"application/json; charset=utf-8"},oe.body=P,oe.errorHandler=z_(i),oe}(r.storage,r._location,i,Mv());return r.storage.makeRequestWithTokens(n,Gu)}(r=(0,ce.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function Cw(r){return RD(r=(0,ce.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function FD(r){return function ME(r){r._throwIfRoot("deleteObject");const i=function CD(r,i){const u=Sf(i.fullServerUrl(),r.host,r._protocol),P=new Af(u,"DELETE",function S(G,Q){},r.maxOperationRetryTime);return P.successCodes=[200,204],P.errorHandler=z_(i),P}(r.storage,r._location);return r.storage.makeRequestWithTokens(i,Gu)}(r=(0,ce.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw eb(i)}}class Sw{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if($E(i))throw oc("ref() expected a child path but got a URL, use refFromURL instead.");return new Nf(ru(this._delegate,i),this)}refFromURL(i){if(!$E(i))throw oc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Pl.makeFromUrl(i,this._delegate.host)}catch{throw oc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nf(ru(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,u={}){!function BE(r,i,n,u={}){!function wC(r,i,n,u={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:f}=u;f&&(r._overrideAuthToken="string"==typeof f?f:(0,ce.Sg)(f,r.app.options.projectId))}(r,i,n,u)}(this._delegate,i,n,u)}}function $E(r){return/^[A-Za-z]+:\/\//.test(r)}function Nw(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),u=r.getProvider("storage").getImmediate({identifier:i});return new Sw(n,u)}function BD(r){const i=function VD(r){return new Fe.y(i=>{const n=S=>i.next(S);n(r.snapshot);const y=r.on("state_changed",n);return r.then(S=>{n(S),i.complete()},S=>{n(r.snapshot),(S=>{i.error(S)})(S)}),function(){y()}}).pipe(function Kw(r,i=Dt.z){return(0,At.e)((n,u)=>{let f=null,y=null,S=null;const P=()=>{if(f){f.unsubscribe(),f=null;const Q=y;y=null,u.next(Q)}};function G(){const Q=S+r,oe=i.now();if(oe<Q)return f=this.schedule(void 0,Q-oe),void u.add(f);P()}n.subscribe((0,Pt.x)(u,Q=>{y=Q,S=i.now(),f||(f=i.schedule(G,r),u.add(f))},()=>{P(),u.complete()},void 0,()=>{y=f=null}))})}(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,zt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function yb(r){return{getDownloadURL:()=>(0,me.of)(void 0).pipe(Mo.fc,(0,zn.w)(()=>r.getDownloadURL()),Mo.iC),getMetadata:()=>(0,me.of)(void 0).pipe(Mo.fc,(0,zn.w)(()=>r.getMetadata()),Mo.iC),delete:()=>(0,Q0.D)(r.delete()),child:i=>yb(r.child(i)),updateMetadata:i=>(0,Q0.D)(r.updateMetadata(i)),put:(i,n)=>BD(r.put(i,n)),putString:(i,n,u)=>BD(r.putString(i,n,u)),list:i=>(0,Q0.D)(r.list(i)),listAll:()=>(0,Q0.D)(r.listAll())}}!function Mf(r){const i={TaskState:kl,TaskEvent:SD,StringFormat:Rc,Storage:Sw,Reference:Nf};r.INTERNAL.registerComponent(new Dc.wA("storage-compat",Nw,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.3.2")}(Xw);const UD=new D.OlP("angularfire2.storageBucket"),jD=new D.OlP("angularfire2.storage.maxUploadRetryTime"),HD=new D.OlP("angularfire2.storage.maxOperationRetryTime"),WE=new D.OlP("angularfire2.storage.use-emulator");let TC=(()=>{class r{constructor(n,u,f,y,S,P,G,Q,oe,Ce){const Oe=(0,Ca.on)(n,S,u);this.storage=(0,Ca.cc)(`${Oe.name}.storage.${f}`,"AngularFireStorage",Oe.name,()=>{const Qe=S.runOutsideAngular(()=>Oe.storage(f||void 0)),xt=oe;return xt&&Qe.useEmulator(...xt),G&&Qe.setMaxUploadRetryTime(G),Q&&Qe.setMaxOperationRetryTime(Q),Qe},[G,Q])}ref(n){return yb(this.storage.ref(n))}refFromURL(n){return yb(this.storage.refFromURL(n))}upload(n,u,f){return yb(this.storage.ref(n)).put(u,f)}}return r.\u0275fac=function(n){return new(n||r)(D.LFG(Ca.Dh),D.LFG(Ca.xv,8),D.LFG(UD,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(Mo.HU),D.LFG(jD,8),D.LFG(HD,8),D.LFG(WE,8),D.LFG(Cv.nm,8))},r.\u0275prov=D.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),GD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({}),r})(),zE=(()=>{class r{constructor(){Iv.Z.registerVersion("angularfire",Mo.q4.full,"gcs-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({providers:[TC],imports:[GD]}),r})();var WD=z(2340);let Mw=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=D.oAB({type:r,bootstrap:[Pe]}),r.\u0275inj=D.cJS({imports:[w.b2,Ne,wl,Ca.hO.initializeApp(WD.N.firebase),Go.ww,Y0.yb,zE,If]}),r})();WD.N.production&&(0,D.G48)(),w.q6().bootstrapModule(Mw).catch(r=>console.error(r))},1135:(Jt,Je,z)=>{z.d(Je,{X:()=>D});var w=z(7579);class D extends w.x{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const Ne=super._subscribe(Ee);return!Ne.closed&&Ee.next(this._value),Ne}getValue(){const{hasError:Ee,thrownError:Ne,_value:Pe}=this;if(Ee)throw Ne;return this._throwIfClosed(),Pe}next(Ee){super.next(this._value=Ee)}}},9751:(Jt,Je,z)=>{z.d(Je,{y:()=>Fe});var w=z(930),D=z(727),X=z(8822),Ee=z(9635),Ne=z(2416),Pe=z(576),Re=z(2806);let Fe=(()=>{class Se{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const Ye=new Se;return Ye.source=this,Ye.operator=ot,Ye}subscribe(ot,Ye,Lt){const lt=function pe(Se){return Se&&Se instanceof w.Lv||function me(Se){return Se&&(0,Pe.m)(Se.next)&&(0,Pe.m)(Se.error)&&(0,Pe.m)(Se.complete)}(Se)&&(0,D.Nn)(Se)}(ot)?ot:new w.Hp(ot,Ye,Lt);return(0,Re.x)(()=>{const{operator:Xe,source:Be}=this;lt.add(Xe?Xe.call(lt,Be):Be?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(ot){try{return this._subscribe(ot)}catch(Ye){ot.error(Ye)}}forEach(ot,Ye){return new(Ye=We(Ye))((Lt,lt)=>{const Xe=new w.Hp({next:Be=>{try{ot(Be)}catch(Vt){lt(Vt),Xe.unsubscribe()}},error:lt,complete:Lt});this.subscribe(Xe)})}_subscribe(ot){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(ot)}[X.L](){return this}pipe(...ot){return(0,Ee.U)(ot)(this)}toPromise(ot){return new(ot=We(ot))((Ye,Lt)=>{let lt;this.subscribe(Xe=>lt=Xe,Xe=>Lt(Xe),()=>Ye(lt))})}}return Se.create=It=>new Se(It),Se})();function We(Se){var It;return null!==(It=Se??Ne.v.Promise)&&void 0!==It?It:Promise}},7579:(Jt,Je,z)=>{z.d(Je,{x:()=>Re});var w=z(9751),D=z(727);const Ee=(0,z(3888).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=z(8737),Pe=z(2806);let Re=(()=>{class We extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Se=new Fe(this,this);return Se.operator=pe,Se}_throwIfClosed(){if(this.closed)throw new Ee}next(pe){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(pe)}})}error(pe){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Se}=this;for(;Se.length;)Se.shift().error(pe)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Se,isStopped:It,observers:ot}=this;return Se||It?D.Lc:(this.currentObservers=null,ot.push(pe),new D.w0(()=>{this.currentObservers=null,(0,Ne.P)(ot,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Se,thrownError:It,isStopped:ot}=this;Se?pe.error(It):ot&&pe.complete()}asObservable(){const pe=new w.y;return pe.source=this,pe}}return We.create=(me,pe)=>new Fe(me,pe),We})();class Fe extends Re{constructor(me,pe){super(),this.destination=me,this.source=pe}next(me){var pe,Se;null===(Se=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Se||Se.call(pe,me)}error(me){var pe,Se;null===(Se=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Se||Se.call(pe,me)}complete(){var me,pe;null===(pe=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===pe||pe.call(me)}_subscribe(me){var pe,Se;return null!==(Se=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(me))&&void 0!==Se?Se:D.Lc}}},930:(Jt,Je,z)=>{z.d(Je,{Hp:()=>Lt,Lv:()=>Se});var w=z(576),D=z(727),X=z(2416),Ee=z(7849),Ne=z(5032);const Pe=We("C",void 0,void 0);function We(mt,tt,ze){return{kind:mt,value:tt,error:ze}}var me=z(3410),pe=z(2806);class Se extends D.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,D.Nn)(tt)&&tt.add(this)):this.destination=Vt}static create(tt,ze,Ot){return new Lt(tt,ze,Ot)}next(tt){this.isStopped?Be(function Fe(mt){return We("N",mt,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?Be(function Re(mt){return We("E",void 0,mt)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?Be(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const It=Function.prototype.bind;function ot(mt,tt){return It.call(mt,tt)}class Ye{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:ze}=this;if(ze.next)try{ze.next(tt)}catch(Ot){lt(Ot)}}error(tt){const{partialObserver:ze}=this;if(ze.error)try{ze.error(tt)}catch(Ot){lt(Ot)}else lt(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(ze){lt(ze)}}}class Lt extends Se{constructor(tt,ze,Ot){let Dt;if(super(),(0,w.m)(tt)||!tt)Dt={next:tt??void 0,error:ze??void 0,complete:Ot??void 0};else{let we;this&&X.v.useDeprecatedNextContext?(we=Object.create(tt),we.unsubscribe=()=>this.unsubscribe(),Dt={next:tt.next&&ot(tt.next,we),error:tt.error&&ot(tt.error,we),complete:tt.complete&&ot(tt.complete,we)}):Dt=tt}this.destination=new Ye(Dt)}}function lt(mt){X.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(mt):(0,Ee.h)(mt)}function Be(mt,tt){const{onStoppedNotification:ze}=X.v;ze&&me.z.setTimeout(()=>ze(mt,tt))}const Vt={closed:!0,next:Ne.Z,error:function Xe(mt){throw mt},complete:Ne.Z}},727:(Jt,Je,z)=>{z.d(Je,{Lc:()=>Pe,w0:()=>Ne,Nn:()=>Re});var w=z(576);const X=(0,z(3888).d)(We=>function(pe){We(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Se,It)=>`${It+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Ee=z(8737);class Ne{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const ot of pe)ot.remove(this);else pe.remove(this);const{initialTeardown:Se}=this;if((0,w.m)(Se))try{Se()}catch(ot){me=ot instanceof X?ot.errors:[ot]}const{_finalizers:It}=this;if(It){this._finalizers=null;for(const ot of It)try{Fe(ot)}catch(Ye){me=me??[],Ye instanceof X?me=[...me,...Ye.errors]:me.push(Ye)}}if(me)throw new X(me)}}add(me){var pe;if(me&&me!==this)if(this.closed)Fe(me);else{if(me instanceof Ne){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(me)}}_hasParent(me){const{_parentage:pe}=this;return pe===me||Array.isArray(pe)&&pe.includes(me)}_addParent(me){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(me),pe):pe?[pe,me]:me}_removeParent(me){const{_parentage:pe}=this;pe===me?this._parentage=null:Array.isArray(pe)&&(0,Ee.P)(pe,me)}remove(me){const{_finalizers:pe}=this;pe&&(0,Ee.P)(pe,me),me instanceof Ne&&me._removeParent(this)}}Ne.EMPTY=(()=>{const We=new Ne;return We.closed=!0,We})();const Pe=Ne.EMPTY;function Re(We){return We instanceof Ne||We&&"closed"in We&&(0,w.m)(We.remove)&&(0,w.m)(We.add)&&(0,w.m)(We.unsubscribe)}function Fe(We){(0,w.m)(We)?We():We.unsubscribe()}},2416:(Jt,Je,z)=>{z.d(Je,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Jt,Je,z)=>{z.d(Je,{a:()=>me});var w=z(9751),D=z(4742),X=z(8996),Ee=z(4671),Ne=z(3268),Pe=z(3269),Re=z(1810),Fe=z(5403),We=z(9672);function me(...It){const ot=(0,Pe.yG)(It),Ye=(0,Pe.jO)(It),{args:Lt,keys:lt}=(0,D.D)(It);if(0===Lt.length)return(0,X.D)([],ot);const Xe=new w.y(function pe(It,ot,Ye=Ee.y){return Lt=>{Se(ot,()=>{const{length:lt}=It,Xe=new Array(lt);let Be=lt,Vt=lt;for(let mt=0;mt<lt;mt++)Se(ot,()=>{const tt=(0,X.D)(It[mt],ot);let ze=!1;tt.subscribe((0,Fe.x)(Lt,Ot=>{Xe[mt]=Ot,ze||(ze=!0,Vt--),Vt||Lt.next(Ye(Xe.slice()))},()=>{--Be||Lt.complete()}))},Lt)},Lt)}}(Lt,ot,lt?Be=>(0,Re.n)(lt,Be):Ee.y));return Ye?Xe.pipe((0,Ne.Z)(Ye)):Xe}function Se(It,ot,Ye){It?(0,We.f)(Ye,It,ot):ot()}},7272:(Jt,Je,z)=>{z.d(Je,{z:()=>Ne});var w=z(8189),X=z(3269),Ee=z(8996);function Ne(...Pe){return function D(){return(0,w.J)(1)}()((0,Ee.D)(Pe,(0,X.yG)(Pe)))}},515:(Jt,Je,z)=>{z.d(Je,{E:()=>D});const D=new(z(9751).y)(Ne=>Ne.complete())},8996:(Jt,Je,z)=>{z.d(Je,{D:()=>tt});var w=z(8421),D=z(5363),X=z(9468),Pe=z(9751),Fe=z(2202),We=z(576),me=z(9672);function Se(ze,Ot){if(!ze)throw new Error("Iterable cannot be null");return new Pe.y(Dt=>{(0,me.f)(Dt,Ot,()=>{const we=ze[Symbol.asyncIterator]();(0,me.f)(Dt,Ot,()=>{we.next().then(ct=>{ct.done?Dt.complete():Dt.next(ct.value)})},0,!0)})})}var It=z(3670),ot=z(8239),Ye=z(1144),Lt=z(6495),lt=z(2206),Xe=z(4532),Be=z(3260);function tt(ze,Ot){return Ot?function mt(ze,Ot){if(null!=ze){if((0,It.c)(ze))return function Ee(ze,Ot){return(0,w.Xf)(ze).pipe((0,X.R)(Ot),(0,D.Q)(Ot))}(ze,Ot);if((0,Ye.z)(ze))return function Re(ze,Ot){return new Pe.y(Dt=>{let we=0;return Ot.schedule(function(){we===ze.length?Dt.complete():(Dt.next(ze[we++]),Dt.closed||this.schedule())})})}(ze,Ot);if((0,ot.t)(ze))return function Ne(ze,Ot){return(0,w.Xf)(ze).pipe((0,X.R)(Ot),(0,D.Q)(Ot))}(ze,Ot);if((0,lt.D)(ze))return Se(ze,Ot);if((0,Lt.T)(ze))return function pe(ze,Ot){return new Pe.y(Dt=>{let we;return(0,me.f)(Dt,Ot,()=>{we=ze[Fe.h](),(0,me.f)(Dt,Ot,()=>{let ct,dt;try{({value:ct,done:dt}=we.next())}catch(Tt){return void Dt.error(Tt)}dt?Dt.complete():Dt.next(ct)},0,!0)}),()=>(0,We.m)(we?.return)&&we.return()})}(ze,Ot);if((0,Be.L)(ze))return function Vt(ze,Ot){return Se((0,Be.Q)(ze),Ot)}(ze,Ot)}throw(0,Xe.z)(ze)}(ze,Ot):(0,w.Xf)(ze)}},8421:(Jt,Je,z)=>{z.d(Je,{Xf:()=>It});var w=z(7582),D=z(1144),X=z(8239),Ee=z(9751),Ne=z(3670),Pe=z(2206),Re=z(4532),Fe=z(6495),We=z(3260),me=z(576),pe=z(7849),Se=z(8822);function It(mt){if(mt instanceof Ee.y)return mt;if(null!=mt){if((0,Ne.c)(mt))return function ot(mt){return new Ee.y(tt=>{const ze=mt[Se.L]();if((0,me.m)(ze.subscribe))return ze.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,D.z)(mt))return function Ye(mt){return new Ee.y(tt=>{for(let ze=0;ze<mt.length&&!tt.closed;ze++)tt.next(mt[ze]);tt.complete()})}(mt);if((0,X.t)(mt))return function Lt(mt){return new Ee.y(tt=>{mt.then(ze=>{tt.closed||(tt.next(ze),tt.complete())},ze=>tt.error(ze)).then(null,pe.h)})}(mt);if((0,Pe.D)(mt))return Xe(mt);if((0,Fe.T)(mt))return function lt(mt){return new Ee.y(tt=>{for(const ze of mt)if(tt.next(ze),tt.closed)return;tt.complete()})}(mt);if((0,We.L)(mt))return function Be(mt){return Xe((0,We.Q)(mt))}(mt)}throw(0,Re.z)(mt)}function Xe(mt){return new Ee.y(tt=>{(function Vt(mt,tt){var ze,Ot,Dt,we;return(0,w.mG)(this,void 0,void 0,function*(){try{for(ze=(0,w.KL)(mt);!(Ot=yield ze.next()).done;)if(tt.next(Ot.value),tt.closed)return}catch(ct){Dt={error:ct}}finally{try{Ot&&!Ot.done&&(we=ze.return)&&(yield we.call(ze))}finally{if(Dt)throw Dt.error}}tt.complete()})})(mt,tt).catch(ze=>tt.error(ze))})}},6451:(Jt,Je,z)=>{z.d(Je,{T:()=>Pe});var w=z(8189),D=z(8421),X=z(515),Ee=z(3269),Ne=z(8996);function Pe(...Re){const Fe=(0,Ee.yG)(Re),We=(0,Ee._6)(Re,1/0),me=Re;return me.length?1===me.length?(0,D.Xf)(me[0]):(0,w.J)(We)((0,Ne.D)(me,Fe)):X.E}},9646:(Jt,Je,z)=>{z.d(Je,{of:()=>X});var w=z(3269),D=z(8996);function X(...Ee){const Ne=(0,w.yG)(Ee);return(0,D.D)(Ee,Ne)}},5403:(Jt,Je,z)=>{z.d(Je,{x:()=>D});var w=z(930);function D(Ee,Ne,Pe,Re,Fe){return new X(Ee,Ne,Pe,Re,Fe)}class X extends w.Lv{constructor(Ne,Pe,Re,Fe,We,me){super(Ne),this.onFinalize=We,this.shouldUnsubscribe=me,this._next=Pe?function(pe){try{Pe(pe)}catch(Se){Ne.error(Se)}}:super._next,this._error=Fe?function(pe){try{Fe(pe)}catch(Se){Ne.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(pe){Ne.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(Ne=this.onFinalize)||void 0===Ne||Ne.call(this))}}}},6590:(Jt,Je,z)=>{z.d(Je,{d:()=>X});var w=z(4482),D=z(5403);function X(Ee){return(0,w.e)((Ne,Pe)=>{let Re=!1;Ne.subscribe((0,D.x)(Pe,Fe=>{Re=!0,Pe.next(Fe)},()=>{Re||Pe.next(Ee),Pe.complete()}))})}},1884:(Jt,Je,z)=>{z.d(Je,{x:()=>Ee});var w=z(4671),D=z(4482),X=z(5403);function Ee(Pe,Re=w.y){return Pe=Pe??Ne,(0,D.e)((Fe,We)=>{let me,pe=!0;Fe.subscribe((0,X.x)(We,Se=>{const It=Re(Se);(pe||!Pe(me,It))&&(pe=!1,me=It,We.next(Se))}))})}function Ne(Pe,Re){return Pe===Re}},9300:(Jt,Je,z)=>{z.d(Je,{h:()=>X});var w=z(4482),D=z(5403);function X(Ee,Ne){return(0,w.e)((Pe,Re)=>{let Fe=0;Pe.subscribe((0,D.x)(Re,We=>Ee.call(Ne,We,Fe++)&&Re.next(We)))})}},590:(Jt,Je,z)=>{z.d(Je,{P:()=>Re});var w=z(6805),D=z(9300),X=z(5698),Ee=z(6590),Ne=z(8068),Pe=z(4671);function Re(Fe,We){const me=arguments.length>=2;return pe=>pe.pipe(Fe?(0,D.h)((Se,It)=>Fe(Se,It,pe)):Pe.y,(0,X.q)(1),me?(0,Ee.d)(We):(0,Ne.T)(()=>new w.K))}},4004:(Jt,Je,z)=>{z.d(Je,{U:()=>X});var w=z(4482),D=z(5403);function X(Ee,Ne){return(0,w.e)((Pe,Re)=>{let Fe=0;Pe.subscribe((0,D.x)(Re,We=>{Re.next(Ee.call(Ne,We,Fe++))}))})}},9718:(Jt,Je,z)=>{z.d(Je,{h:()=>D});var w=z(4004);function D(X){return(0,w.U)(()=>X)}},8189:(Jt,Je,z)=>{z.d(Je,{J:()=>X});var w=z(5577),D=z(4671);function X(Ee=1/0){return(0,w.z)(D.y,Ee)}},5577:(Jt,Je,z)=>{z.d(Je,{z:()=>Fe});var w=z(4004),D=z(8421),X=z(4482),Ee=z(9672),Ne=z(5403),Re=z(576);function Fe(We,me,pe=1/0){return(0,Re.m)(me)?Fe((Se,It)=>(0,w.U)((ot,Ye)=>me(Se,ot,It,Ye))((0,D.Xf)(We(Se,It))),pe):("number"==typeof me&&(pe=me),(0,X.e)((Se,It)=>function Pe(We,me,pe,Se,It,ot,Ye,Lt){const lt=[];let Xe=0,Be=0,Vt=!1;const mt=()=>{Vt&&!lt.length&&!Xe&&me.complete()},tt=Ot=>Xe<Se?ze(Ot):lt.push(Ot),ze=Ot=>{ot&&me.next(Ot),Xe++;let Dt=!1;(0,D.Xf)(pe(Ot,Be++)).subscribe((0,Ne.x)(me,we=>{It?.(we),ot?tt(we):me.next(we)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Xe--;lt.length&&Xe<Se;){const we=lt.shift();Ye?(0,Ee.f)(me,Ye,()=>ze(we)):ze(we)}mt()}catch(we){me.error(we)}}))};return We.subscribe((0,Ne.x)(me,tt,()=>{Vt=!0,mt()})),()=>{Lt?.()}}(Se,It,We,pe)))}},5363:(Jt,Je,z)=>{z.d(Je,{Q:()=>Ee});var w=z(9672),D=z(4482),X=z(5403);function Ee(Ne,Pe=0){return(0,D.e)((Re,Fe)=>{Re.subscribe((0,X.x)(Fe,We=>(0,w.f)(Fe,Ne,()=>Fe.next(We),Pe),()=>(0,w.f)(Fe,Ne,()=>Fe.complete(),Pe),We=>(0,w.f)(Fe,Ne,()=>Fe.error(We),Pe)))})}},5026:(Jt,Je,z)=>{z.d(Je,{R:()=>Ee});var w=z(4482),D=z(5403);function X(Ne,Pe,Re,Fe,We){return(me,pe)=>{let Se=Re,It=Pe,ot=0;me.subscribe((0,D.x)(pe,Ye=>{const Lt=ot++;It=Se?Ne(It,Ye,Lt):(Se=!0,Ye),Fe&&pe.next(It)},We&&(()=>{Se&&pe.next(It),pe.complete()})))}}function Ee(Ne,Pe){return(0,w.e)(X(Ne,Pe,arguments.length>=2,!0))}},3099:(Jt,Je,z)=>{z.d(Je,{B:()=>Ne});var w=z(8421),D=z(7579),X=z(930),Ee=z(4482);function Ne(Re={}){const{connector:Fe=(()=>new D.x),resetOnError:We=!0,resetOnComplete:me=!0,resetOnRefCountZero:pe=!0}=Re;return Se=>{let It,ot,Ye,Lt=0,lt=!1,Xe=!1;const Be=()=>{ot?.unsubscribe(),ot=void 0},Vt=()=>{Be(),It=Ye=void 0,lt=Xe=!1},mt=()=>{const tt=It;Vt(),tt?.unsubscribe()};return(0,Ee.e)((tt,ze)=>{Lt++,!Xe&&!lt&&Be();const Ot=Ye=Ye??Fe();ze.add(()=>{Lt--,0===Lt&&!Xe&&!lt&&(ot=Pe(mt,pe))}),Ot.subscribe(ze),!It&&Lt>0&&(It=new X.Hp({next:Dt=>Ot.next(Dt),error:Dt=>{Xe=!0,Be(),ot=Pe(Vt,We,Dt),Ot.error(Dt)},complete:()=>{lt=!0,Be(),ot=Pe(Vt,me),Ot.complete()}}),(0,w.Xf)(tt).subscribe(It))})(Se)}}function Pe(Re,Fe,...We){if(!0===Fe)return void Re();if(!1===Fe)return;const me=new X.Hp({next:()=>{me.unsubscribe(),Re()}});return Fe(...We).subscribe(me)}},8675:(Jt,Je,z)=>{z.d(Je,{O:()=>Ee});var w=z(7272),D=z(3269),X=z(4482);function Ee(...Ne){const Pe=(0,D.yG)(Ne);return(0,X.e)((Re,Fe)=>{(Pe?(0,w.z)(Ne,Re,Pe):(0,w.z)(Ne,Re)).subscribe(Fe)})}},9468:(Jt,Je,z)=>{z.d(Je,{R:()=>D});var w=z(4482);function D(X,Ee=0){return(0,w.e)((Ne,Pe)=>{Pe.add(X.schedule(()=>Ne.subscribe(Pe),Ee))})}},3900:(Jt,Je,z)=>{z.d(Je,{w:()=>Ee});var w=z(8421),D=z(4482),X=z(5403);function Ee(Ne,Pe){return(0,D.e)((Re,Fe)=>{let We=null,me=0,pe=!1;const Se=()=>pe&&!We&&Fe.complete();Re.subscribe((0,X.x)(Fe,It=>{We?.unsubscribe();let ot=0;const Ye=me++;(0,w.Xf)(Ne(It,Ye)).subscribe(We=(0,X.x)(Fe,Lt=>Fe.next(Pe?Pe(It,Lt,Ye,ot++):Lt),()=>{We=null,Se()}))},()=>{pe=!0,Se()}))})}},5698:(Jt,Je,z)=>{z.d(Je,{q:()=>Ee});var w=z(515),D=z(4482),X=z(5403);function Ee(Ne){return Ne<=0?()=>w.E:(0,D.e)((Pe,Re)=>{let Fe=0;Pe.subscribe((0,X.x)(Re,We=>{++Fe<=Ne&&(Re.next(We),Ne<=Fe&&Re.complete())}))})}},8505:(Jt,Je,z)=>{z.d(Je,{b:()=>Ne});var w=z(576),D=z(4482),X=z(5403),Ee=z(4671);function Ne(Pe,Re,Fe){const We=(0,w.m)(Pe)||Re||Fe?{next:Pe,error:Re,complete:Fe}:Pe;return We?(0,D.e)((me,pe)=>{var Se;null===(Se=We.subscribe)||void 0===Se||Se.call(We);let It=!0;me.subscribe((0,X.x)(pe,ot=>{var Ye;null===(Ye=We.next)||void 0===Ye||Ye.call(We,ot),pe.next(ot)},()=>{var ot;It=!1,null===(ot=We.complete)||void 0===ot||ot.call(We),pe.complete()},ot=>{var Ye;It=!1,null===(Ye=We.error)||void 0===Ye||Ye.call(We,ot),pe.error(ot)},()=>{var ot,Ye;It&&(null===(ot=We.unsubscribe)||void 0===ot||ot.call(We)),null===(Ye=We.finalize)||void 0===Ye||Ye.call(We)}))}):Ee.y}},8068:(Jt,Je,z)=>{z.d(Je,{T:()=>Ee});var w=z(6805),D=z(4482),X=z(5403);function Ee(Pe=Ne){return(0,D.e)((Re,Fe)=>{let We=!1;Re.subscribe((0,X.x)(Fe,me=>{We=!0,Fe.next(me)},()=>We?Fe.complete():Fe.error(Pe())))})}function Ne(){return new w.K}},4408:(Jt,Je,z)=>{z.d(Je,{o:()=>Ne});var w=z(727);class D extends w.w0{constructor(Re,Fe){super()}schedule(Re,Fe=0){return this}}const X={setInterval(Pe,Re,...Fe){const{delegate:We}=X;return We?.setInterval?We.setInterval(Pe,Re,...Fe):setInterval(Pe,Re,...Fe)},clearInterval(Pe){const{delegate:Re}=X;return(Re?.clearInterval||clearInterval)(Pe)},delegate:void 0};var Ee=z(8737);class Ne extends D{constructor(Re,Fe){super(Re,Fe),this.scheduler=Re,this.work=Fe,this.pending=!1}schedule(Re,Fe=0){var We;if(this.closed)return this;this.state=Re;const me=this.id,pe=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(pe,me,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(pe,this.id,Fe),this}requestAsyncId(Re,Fe,We=0){return X.setInterval(Re.flush.bind(Re,this),We)}recycleAsyncId(Re,Fe,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return Fe;null!=Fe&&X.clearInterval(Fe)}execute(Re,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(Re,Fe);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Fe){let me,We=!1;try{this.work(Re)}catch(pe){We=!0,me=pe||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Fe}=this,{actions:We}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.P)(We,this),null!=Re&&(this.id=this.recycleAsyncId(Fe,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,Je,z)=>{z.d(Je,{v:()=>X});var w=z(6063);class D{constructor(Ne,Pe=D.now){this.schedulerActionCtor=Ne,this.now=Pe}schedule(Ne,Pe=0,Re){return new this.schedulerActionCtor(this,Ne).schedule(Re,Pe)}}D.now=w.l.now;class X extends D{constructor(Ne,Pe=D.now){super(Ne,Pe),this.actions=[],this._active=!1}flush(Ne){const{actions:Pe}=this;if(this._active)return void Pe.push(Ne);let Re;this._active=!0;do{if(Re=Ne.execute(Ne.state,Ne.delay))break}while(Ne=Pe.shift());if(this._active=!1,Re){for(;Ne=Pe.shift();)Ne.unsubscribe();throw Re}}}},4986:(Jt,Je,z)=>{z.d(Je,{P:()=>Ee,z:()=>X});var w=z(4408);const X=new(z(7565).v)(w.o),Ee=X},6063:(Jt,Je,z)=>{z.d(Je,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(Jt,Je,z)=>{z.d(Je,{z:()=>w});const w={setTimeout(D,X,...Ee){const{delegate:Ne}=w;return Ne?.setTimeout?Ne.setTimeout(D,X,...Ee):setTimeout(D,X,...Ee)},clearTimeout(D){const{delegate:X}=w;return(X?.clearTimeout||clearTimeout)(D)},delegate:void 0}},2202:(Jt,Je,z)=>{z.d(Je,{h:()=>D});const D=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,Je,z)=>{z.d(Je,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jt,Je,z)=>{z.d(Je,{K:()=>D});const D=(0,z(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Jt,Je,z)=>{z.d(Je,{_6:()=>Pe,jO:()=>Ee,yG:()=>Ne});var w=z(576),D=z(3532);function X(Re){return Re[Re.length-1]}function Ee(Re){return(0,w.m)(X(Re))?Re.pop():void 0}function Ne(Re){return(0,D.K)(X(Re))?Re.pop():void 0}function Pe(Re,Fe){return"number"==typeof X(Re)?Re.pop():Fe}},4742:(Jt,Je,z)=>{z.d(Je,{D:()=>Ne});const{isArray:w}=Array,{getPrototypeOf:D,prototype:X,keys:Ee}=Object;function Ne(Re){if(1===Re.length){const Fe=Re[0];if(w(Fe))return{args:Fe,keys:null};if(function Pe(Re){return Re&&"object"==typeof Re&&D(Re)===X}(Fe)){const We=Ee(Fe);return{args:We.map(me=>Fe[me]),keys:We}}}return{args:Re,keys:null}}},8737:(Jt,Je,z)=>{function w(D,X){if(D){const Ee=D.indexOf(X);0<=Ee&&D.splice(Ee,1)}}z.d(Je,{P:()=>w})},3888:(Jt,Je,z)=>{function w(D){const Ee=D(Ne=>{Error.call(Ne),Ne.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}z.d(Je,{d:()=>w})},1810:(Jt,Je,z)=>{function w(D,X){return D.reduce((Ee,Ne,Pe)=>(Ee[Ne]=X[Pe],Ee),{})}z.d(Je,{n:()=>w})},2806:(Jt,Je,z)=>{z.d(Je,{O:()=>Ee,x:()=>X});var w=z(2416);let D=null;function X(Ne){if(w.v.useDeprecatedSynchronousErrorHandling){const Pe=!D;if(Pe&&(D={errorThrown:!1,error:null}),Ne(),Pe){const{errorThrown:Re,error:Fe}=D;if(D=null,Re)throw Fe}}else Ne()}function Ee(Ne){w.v.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=Ne)}},9672:(Jt,Je,z)=>{function w(D,X,Ee,Ne=0,Pe=!1){const Re=X.schedule(function(){Ee(),Pe?D.add(this.schedule(null,Ne)):this.unsubscribe()},Ne);if(D.add(Re),!Pe)return Re}z.d(Je,{f:()=>w})},4671:(Jt,Je,z)=>{function w(D){return D}z.d(Je,{y:()=>w})},1144:(Jt,Je,z)=>{z.d(Je,{z:()=>w});const w=D=>D&&"number"==typeof D.length&&"function"!=typeof D},2206:(Jt,Je,z)=>{z.d(Je,{D:()=>D});var w=z(576);function D(X){return Symbol.asyncIterator&&(0,w.m)(X?.[Symbol.asyncIterator])}},576:(Jt,Je,z)=>{function w(D){return"function"==typeof D}z.d(Je,{m:()=>w})},3670:(Jt,Je,z)=>{z.d(Je,{c:()=>X});var w=z(8822),D=z(576);function X(Ee){return(0,D.m)(Ee[w.L])}},6495:(Jt,Je,z)=>{z.d(Je,{T:()=>X});var w=z(2202),D=z(576);function X(Ee){return(0,D.m)(Ee?.[w.h])}},8239:(Jt,Je,z)=>{z.d(Je,{t:()=>D});var w=z(576);function D(X){return(0,w.m)(X?.then)}},3260:(Jt,Je,z)=>{z.d(Je,{L:()=>Ee,Q:()=>X});var w=z(7582),D=z(576);function X(Ne){return(0,w.FC)(this,arguments,function*(){const Re=Ne.getReader();try{for(;;){const{value:Fe,done:We}=yield(0,w.qq)(Re.read());if(We)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(Fe)}}finally{Re.releaseLock()}})}function Ee(Ne){return(0,D.m)(Ne?.getReader)}},3532:(Jt,Je,z)=>{z.d(Je,{K:()=>D});var w=z(576);function D(X){return X&&(0,w.m)(X.schedule)}},4482:(Jt,Je,z)=>{z.d(Je,{A:()=>D,e:()=>X});var w=z(576);function D(Ee){return(0,w.m)(Ee?.lift)}function X(Ee){return Ne=>{if(D(Ne))return Ne.lift(function(Pe){try{return Ee(Pe,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,Je,z)=>{z.d(Je,{Z:()=>Ee});var w=z(4004);const{isArray:D}=Array;function Ee(Ne){return(0,w.U)(Pe=>function X(Ne,Pe){return D(Pe)?Ne(...Pe):Ne(Pe)}(Ne,Pe))}},5032:(Jt,Je,z)=>{function w(){}z.d(Je,{Z:()=>w})},9635:(Jt,Je,z)=>{z.d(Je,{U:()=>X,z:()=>D});var w=z(4671);function D(...Ee){return X(Ee)}function X(Ee){return 0===Ee.length?w.y:1===Ee.length?Ee[0]:function(Pe){return Ee.reduce((Re,Fe)=>Fe(Re),Pe)}}},7849:(Jt,Je,z)=>{z.d(Je,{h:()=>X});var w=z(2416),D=z(3410);function X(Ee){D.z.setTimeout(()=>{const{onUnhandledError:Ne}=w.v;if(!Ne)throw Ee;Ne(Ee)})}},4532:(Jt,Je,z)=>{function w(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Je,{z:()=>w})},6895:(Jt,Je,z)=>{z.d(Je,{Do:()=>Vt,EM:()=>yo,HT:()=>Ne,JF:()=>pa,K0:()=>Re,Mx:()=>Po,NF:()=>ka,O5:()=>Lr,PM:()=>Us,S$:()=>lt,V_:()=>me,Ye:()=>mt,b0:()=>Be,bD:()=>_o,ez:()=>mo,q:()=>X,sg:()=>cs,tP:()=>Ks,uU:()=>Ar,w_:()=>Pe});var w=z(4650);let D=null;function X(){return D}function Ne(O){D||(D=O)}class Pe{}const Re=new w.OlP("DocumentToken");let Fe=(()=>{class O{historyGo(B){throw new Error("Not implemented")}}return O.\u0275fac=function(B){return new(B||O)},O.\u0275prov=w.Yz7({token:O,factory:function(){return function We(){return(0,w.LFG)(pe)}()},providedIn:"platform"}),O})();const me=new w.OlP("Location Initialized");let pe=(()=>{class O extends Fe{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(B){const ne=X().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",B,!1),()=>ne.removeEventListener("popstate",B)}onHashChange(B){const ne=X().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",B,!1),()=>ne.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ne,De){Se()?this._history.pushState(B,ne,De):this.location.hash=De}replaceState(B,ne,De){Se()?this._history.replaceState(B,ne,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return O.\u0275fac=function(B){return new(B||O)(w.LFG(Re))},O.\u0275prov=w.Yz7({token:O,factory:function(){return function It(){return new pe((0,w.LFG)(Re))}()},providedIn:"platform"}),O})();function Se(){return!!window.history.pushState}function ot(O,Z){if(0==O.length)return Z;if(0==Z.length)return O;let B=0;return O.endsWith("/")&&B++,Z.startsWith("/")&&B++,2==B?O+Z.substring(1):1==B?O+Z:O+"/"+Z}function Ye(O){const Z=O.match(/#|\?|$/),B=Z&&Z.index||O.length;return O.slice(0,B-("/"===O[B-1]?1:0))+O.slice(B)}function Lt(O){return O&&"?"!==O[0]?"?"+O:O}let lt=(()=>{class O{historyGo(B){throw new Error("Not implemented")}}return O.\u0275fac=function(B){return new(B||O)},O.\u0275prov=w.Yz7({token:O,factory:function(){return(0,w.f3M)(Be)},providedIn:"root"}),O})();const Xe=new w.OlP("appBaseHref");let Be=(()=>{class O extends lt{constructor(B,ne){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ot(this._baseHref,B)}path(B=!1){const ne=this._platformLocation.pathname+Lt(this._platformLocation.search),De=this._platformLocation.hash;return De&&B?`${ne}${De}`:ne}pushState(B,ne,De,at){const Ct=this.prepareExternalUrl(De+Lt(at));this._platformLocation.pushState(B,ne,Ct)}replaceState(B,ne,De,at){const Ct=this.prepareExternalUrl(De+Lt(at));this._platformLocation.replaceState(B,ne,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return O.\u0275fac=function(B){return new(B||O)(w.LFG(Fe),w.LFG(Xe,8))},O.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Vt=(()=>{class O extends lt{constructor(B,ne){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(B){const ne=ot(this._baseHref,B);return ne.length>0?"#"+ne:ne}pushState(B,ne,De,at){let Ct=this.prepareExternalUrl(De+Lt(at));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(B,ne,Ct)}replaceState(B,ne,De,at){let Ct=this.prepareExternalUrl(De+Lt(at));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(B,ne,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return O.\u0275fac=function(B){return new(B||O)(w.LFG(Fe),w.LFG(Xe,8))},O.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac}),O})(),mt=(()=>{class O{constructor(B){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ne=this._locationStrategy.getBaseHref();this._baseHref=Ye(Ot(ne)),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ne=""){return this.path()==this.normalize(B+Lt(ne))}normalize(B){return O.stripTrailingSlash(function ze(O,Z){return O&&Z.startsWith(O)?Z.substring(O.length):Z}(this._baseHref,Ot(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ne="",De=null){this._locationStrategy.pushState(De,"",B,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Lt(ne)),De)}replaceState(B,ne="",De=null){this._locationStrategy.replaceState(De,"",B,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Lt(ne)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ne){this._urlChangeListeners.forEach(De=>De(B,ne))}subscribe(B,ne,De){return this._subject.subscribe({next:B,error:ne,complete:De})}}return O.normalizeQueryParams=Lt,O.joinWithSlash=ot,O.stripTrailingSlash=Ye,O.\u0275fac=function(B){return new(B||O)(w.LFG(lt))},O.\u0275prov=w.Yz7({token:O,factory:function(){return function tt(){return new mt((0,w.LFG)(lt))}()},providedIn:"root"}),O})();function Ot(O){return O.replace(/\/index.html$/,"")}var dt=(()=>((dt=dt||{})[dt.Format=0]="Format",dt[dt.Standalone=1]="Standalone",dt))(),Tt=(()=>((Tt=Tt||{})[Tt.Narrow=0]="Narrow",Tt[Tt.Abbreviated=1]="Abbreviated",Tt[Tt.Wide=2]="Wide",Tt[Tt.Short=3]="Short",Tt))(),rn=(()=>((rn=rn||{})[rn.Short=0]="Short",rn[rn.Medium=1]="Medium",rn[rn.Long=2]="Long",rn[rn.Full=3]="Full",rn))(),Pt=(()=>((Pt=Pt||{})[Pt.Decimal=0]="Decimal",Pt[Pt.Group=1]="Group",Pt[Pt.List=2]="List",Pt[Pt.PercentSign=3]="PercentSign",Pt[Pt.PlusSign=4]="PlusSign",Pt[Pt.MinusSign=5]="MinusSign",Pt[Pt.Exponential=6]="Exponential",Pt[Pt.SuperscriptingExponent=7]="SuperscriptingExponent",Pt[Pt.PerMille=8]="PerMille",Pt[Pt.Infinity=9]="Infinity",Pt[Pt.NaN=10]="NaN",Pt[Pt.TimeSeparator=11]="TimeSeparator",Pt[Pt.CurrencyDecimal=12]="CurrencyDecimal",Pt[Pt.CurrencyGroup=13]="CurrencyGroup",Pt))();function Et(O,Z){return wt((0,w.cg1)(O)[w.wAp.DateFormat],Z)}function st(O,Z){return wt((0,w.cg1)(O)[w.wAp.TimeFormat],Z)}function Ut(O,Z){return wt((0,w.cg1)(O)[w.wAp.DateTimeFormat],Z)}function At(O,Z){const B=(0,w.cg1)(O),ne=B[w.wAp.NumberSymbols][Z];if(typeof ne>"u"){if(Z===Pt.CurrencyDecimal)return B[w.wAp.NumberSymbols][Pt.Decimal];if(Z===Pt.CurrencyGroup)return B[w.wAp.NumberSymbols][Pt.Group]}return ne}function zn(O){if(!O[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(O,Z){for(let B=Z;B>-1;B--)if(typeof O[B]<"u")return O[B];throw new Error("Locale data API: locale data undefined")}function kn(O){const[Z,B]=O.split(":");return{hours:+Z,minutes:+B}}const Ss=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fr={},vr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fn=(()=>((Fn=Fn||{})[Fn.Short=0]="Short",Fn[Fn.ShortGMT=1]="ShortGMT",Fn[Fn.Long=2]="Long",Fn[Fn.Extended=3]="Extended",Fn))(),mn=(()=>((mn=mn||{})[mn.FullYear=0]="FullYear",mn[mn.Month=1]="Month",mn[mn.Date=2]="Date",mn[mn.Hours=3]="Hours",mn[mn.Minutes=4]="Minutes",mn[mn.Seconds=5]="Seconds",mn[mn.FractionalSeconds=6]="FractionalSeconds",mn[mn.Day=7]="Day",mn))(),hn=(()=>((hn=hn||{})[hn.DayPeriods=0]="DayPeriods",hn[hn.Days=1]="Days",hn[hn.Months=2]="Months",hn[hn.Eras=3]="Eras",hn))();function cn(O,Z,B,ne){let De=function $e(O){if(gn(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[De,at=1,Ct=1]=O.split("-").map(Cn=>+Cn);return Tn(De,at-1,Ct)}const B=parseFloat(O);if(!isNaN(O-B))return new Date(B);let ne;if(ne=O.match(Ss))return function Ht(O){const Z=new Date(0);let B=0,ne=0;const De=O[8]?Z.setUTCFullYear:Z.setFullYear,at=O[8]?Z.setUTCHours:Z.setHours;O[9]&&(B=Number(O[9]+O[10]),ne=Number(O[9]+O[11])),De.call(Z,Number(O[1]),Number(O[2])-1,Number(O[3]));const Ct=Number(O[4]||0)-B,Cn=Number(O[5]||0)-ne,ir=Number(O[6]||0),Qn=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return at.call(Z,Ct,Cn,ir,Qn),Z}(ne)}const Z=new Date(O);if(!gn(Z))throw new Error(`Unable to convert "${O}" into a date`);return Z}(O);Z=Vn(B,Z)||Z;let Cn,Ct=[];for(;Z;){if(Cn=vr.exec(Z),!Cn){Ct.push(Z);break}{Ct=Ct.concat(Cn.slice(1));const $n=Ct.pop();if(!$n)break;Z=$n}}let ir=De.getTimezoneOffset();ne&&(ir=_e(ne,ir),De=function nt(O,Z,B){const ne=B?-1:1,De=O.getTimezoneOffset();return function Le(O,Z){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+Z),O}(O,ne*(_e(Z,De)-De))}(De,ne,!0));let Qn="";return Ct.forEach($n=>{const Jn=function ye(O){if(rr[O])return rr[O];let Z;switch(O){case"G":case"GG":case"GGG":Z=or(hn.Eras,Tt.Abbreviated);break;case"GGGG":Z=or(hn.Eras,Tt.Wide);break;case"GGGGG":Z=or(hn.Eras,Tt.Narrow);break;case"y":Z=On(mn.FullYear,1,0,!1,!0);break;case"yy":Z=On(mn.FullYear,2,0,!0,!0);break;case"yyy":Z=On(mn.FullYear,3,0,!1,!0);break;case"yyyy":Z=On(mn.FullYear,4,0,!1,!0);break;case"Y":Z=en(1);break;case"YY":Z=en(2,!0);break;case"YYY":Z=en(3);break;case"YYYY":Z=en(4);break;case"M":case"L":Z=On(mn.Month,1,1);break;case"MM":case"LL":Z=On(mn.Month,2,1);break;case"MMM":Z=or(hn.Months,Tt.Abbreviated);break;case"MMMM":Z=or(hn.Months,Tt.Wide);break;case"MMMMM":Z=or(hn.Months,Tt.Narrow);break;case"LLL":Z=or(hn.Months,Tt.Abbreviated,dt.Standalone);break;case"LLLL":Z=or(hn.Months,Tt.Wide,dt.Standalone);break;case"LLLLL":Z=or(hn.Months,Tt.Narrow,dt.Standalone);break;case"w":Z=Xt(1);break;case"ww":Z=Xt(2);break;case"W":Z=Xt(1,!0);break;case"d":Z=On(mn.Date,1);break;case"dd":Z=On(mn.Date,2);break;case"c":case"cc":Z=On(mn.Day,1);break;case"ccc":Z=or(hn.Days,Tt.Abbreviated,dt.Standalone);break;case"cccc":Z=or(hn.Days,Tt.Wide,dt.Standalone);break;case"ccccc":Z=or(hn.Days,Tt.Narrow,dt.Standalone);break;case"cccccc":Z=or(hn.Days,Tt.Short,dt.Standalone);break;case"E":case"EE":case"EEE":Z=or(hn.Days,Tt.Abbreviated);break;case"EEEE":Z=or(hn.Days,Tt.Wide);break;case"EEEEE":Z=or(hn.Days,Tt.Narrow);break;case"EEEEEE":Z=or(hn.Days,Tt.Short);break;case"a":case"aa":case"aaa":Z=or(hn.DayPeriods,Tt.Abbreviated);break;case"aaaa":Z=or(hn.DayPeriods,Tt.Wide);break;case"aaaaa":Z=or(hn.DayPeriods,Tt.Narrow);break;case"b":case"bb":case"bbb":Z=or(hn.DayPeriods,Tt.Abbreviated,dt.Standalone,!0);break;case"bbbb":Z=or(hn.DayPeriods,Tt.Wide,dt.Standalone,!0);break;case"bbbbb":Z=or(hn.DayPeriods,Tt.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":Z=or(hn.DayPeriods,Tt.Abbreviated,dt.Format,!0);break;case"BBBB":Z=or(hn.DayPeriods,Tt.Wide,dt.Format,!0);break;case"BBBBB":Z=or(hn.DayPeriods,Tt.Narrow,dt.Format,!0);break;case"h":Z=On(mn.Hours,1,-12);break;case"hh":Z=On(mn.Hours,2,-12);break;case"H":Z=On(mn.Hours,1);break;case"HH":Z=On(mn.Hours,2);break;case"m":Z=On(mn.Minutes,1);break;case"mm":Z=On(mn.Minutes,2);break;case"s":Z=On(mn.Seconds,1);break;case"ss":Z=On(mn.Seconds,2);break;case"S":Z=On(mn.FractionalSeconds,1);break;case"SS":Z=On(mn.FractionalSeconds,2);break;case"SSS":Z=On(mn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=ri(Fn.Short);break;case"ZZZZZ":Z=ri(Fn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=ri(Fn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=ri(Fn.Long);break;default:return null}return rr[O]=Z,Z}($n);Qn+=Jn?Jn(De,B,ir):"''"===$n?"'":$n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qn}function Tn(O,Z,B){const ne=new Date(0);return ne.setFullYear(O,Z,B),ne.setHours(0,0,0),ne}function Vn(O,Z){const B=function fi(O){return(0,w.cg1)(O)[w.wAp.LocaleId]}(O);if(fr[B]=fr[B]||{},fr[B][Z])return fr[B][Z];let ne="";switch(Z){case"shortDate":ne=Et(O,rn.Short);break;case"mediumDate":ne=Et(O,rn.Medium);break;case"longDate":ne=Et(O,rn.Long);break;case"fullDate":ne=Et(O,rn.Full);break;case"shortTime":ne=st(O,rn.Short);break;case"mediumTime":ne=st(O,rn.Medium);break;case"longTime":ne=st(O,rn.Long);break;case"fullTime":ne=st(O,rn.Full);break;case"short":const De=Vn(O,"shortTime"),at=Vn(O,"shortDate");ne=on(Ut(O,rn.Short),[De,at]);break;case"medium":const Ct=Vn(O,"mediumTime"),Cn=Vn(O,"mediumDate");ne=on(Ut(O,rn.Medium),[Ct,Cn]);break;case"long":const ir=Vn(O,"longTime"),Qn=Vn(O,"longDate");ne=on(Ut(O,rn.Long),[ir,Qn]);break;case"full":const $n=Vn(O,"fullTime"),Jn=Vn(O,"fullDate");ne=on(Ut(O,rn.Full),[$n,Jn])}return ne&&(fr[B][Z]=ne),ne}function on(O,Z){return Z&&(O=O.replace(/\{([^}]+)}/g,function(B,ne){return null!=Z&&ne in Z?Z[ne]:B})),O}function bn(O,Z,B="-",ne,De){let at="";(O<0||De&&O<=0)&&(De?O=1-O:(O=-O,at=B));let Ct=String(O);for(;Ct.length<Z;)Ct="0"+Ct;return ne&&(Ct=Ct.slice(Ct.length-Z)),at+Ct}function On(O,Z,B=0,ne=!1,De=!1){return function(at,Ct){let Cn=function Li(O,Z){switch(O){case mn.FullYear:return Z.getFullYear();case mn.Month:return Z.getMonth();case mn.Date:return Z.getDate();case mn.Hours:return Z.getHours();case mn.Minutes:return Z.getMinutes();case mn.Seconds:return Z.getSeconds();case mn.FractionalSeconds:return Z.getMilliseconds();case mn.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,at);if((B>0||Cn>-B)&&(Cn+=B),O===mn.Hours)0===Cn&&-12===B&&(Cn=12);else if(O===mn.FractionalSeconds)return function xr(O,Z){return bn(O,3).substring(0,Z)}(Cn,Z);const ir=At(Ct,Pt.MinusSign);return bn(Cn,Z,ir,ne,De)}}function or(O,Z,B=dt.Format,ne=!1){return function(De,at){return function Ir(O,Z,B,ne,De,at){switch(B){case hn.Months:return function Te(O,Z,B){const ne=(0,w.cg1)(O),at=wt([ne[w.wAp.MonthsFormat],ne[w.wAp.MonthsStandalone]],Z);return wt(at,B)}(Z,De,ne)[O.getMonth()];case hn.Days:return function Hn(O,Z,B){const ne=(0,w.cg1)(O),at=wt([ne[w.wAp.DaysFormat],ne[w.wAp.DaysStandalone]],Z);return wt(at,B)}(Z,De,ne)[O.getDay()];case hn.DayPeriods:const Ct=O.getHours(),Cn=O.getMinutes();if(at){const Qn=function hr(O){const Z=(0,w.cg1)(O);return zn(Z),(Z[w.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?kn(ne):[kn(ne[0]),kn(ne[1])])}(Z),$n=function vt(O,Z,B){const ne=(0,w.cg1)(O);zn(ne);const at=wt([ne[w.wAp.ExtraData][0],ne[w.wAp.ExtraData][1]],Z)||[];return wt(at,B)||[]}(Z,De,ne),Jn=Qn.findIndex(di=>{if(Array.isArray(di)){const[Or,ki]=di,Bo=Ct>=Or.hours&&Cn>=Or.minutes,zi=Ct<ki.hours||Ct===ki.hours&&Cn<ki.minutes;if(Or.hours<ki.hours){if(Bo&&zi)return!0}else if(Bo||zi)return!0}else if(di.hours===Ct&&di.minutes===Cn)return!0;return!1});if(-1!==Jn)return $n[Jn]}return function un(O,Z,B){const ne=(0,w.cg1)(O),at=wt([ne[w.wAp.DayPeriodsFormat],ne[w.wAp.DayPeriodsStandalone]],Z);return wt(at,B)}(Z,De,ne)[Ct<12?0:1];case hn.Eras:return function Me(O,Z){return wt((0,w.cg1)(O)[w.wAp.Eras],Z)}(Z,ne)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(De,at,O,Z,B,ne)}}function ri(O){return function(Z,B,ne){const De=-1*ne,at=At(B,Pt.MinusSign),Ct=De>0?Math.floor(De/60):Math.ceil(De/60);switch(O){case Fn.Short:return(De>=0?"+":"")+bn(Ct,2,at)+bn(Math.abs(De%60),2,at);case Fn.ShortGMT:return"GMT"+(De>=0?"+":"")+bn(Ct,1,at);case Fn.Long:return"GMT"+(De>=0?"+":"")+bn(Ct,2,at)+":"+bn(Math.abs(De%60),2,at);case Fn.Extended:return 0===ne?"Z":(De>=0?"+":"")+bn(Ct,2,at)+":"+bn(Math.abs(De%60),2,at);default:throw new Error(`Unknown zone width "${O}"`)}}}function jt(O){return Tn(O.getFullYear(),O.getMonth(),O.getDate()+(4-O.getDay()))}function Xt(O,Z=!1){return function(B,ne){let De;if(Z){const at=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,Ct=B.getDate();De=1+Math.floor((Ct+at)/7)}else{const at=jt(B),Ct=function ht(O){const Z=Tn(O,0,1).getDay();return Tn(O,0,1+(Z<=4?4:11)-Z)}(at.getFullYear()),Cn=at.getTime()-Ct.getTime();De=1+Math.round(Cn/6048e5)}return bn(De,O,At(ne,Pt.MinusSign))}}function en(O,Z=!1){return function(B,ne){return bn(jt(B).getFullYear(),O,At(ne,Pt.MinusSign),Z)}}const rr={};function _e(O,Z){O=O.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(B)?Z:B}function gn(O){return O instanceof Date&&!isNaN(O.valueOf())}function Po(O,Z){Z=encodeURIComponent(Z);for(const B of O.split(";")){const ne=B.indexOf("="),[De,at]=-1==ne?[B,""]:[B.slice(0,ne),B.slice(ne+1)];if(De.trim()===Z)return decodeURIComponent(at)}return null}class As{constructor(Z,B,ne,De){this.$implicit=Z,this.ngForOf=B,this.index=ne,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cs=(()=>{class O{constructor(B,ne,De){this._viewContainer=B,this._template=ne,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ne=this._viewContainer;B.forEachOperation((De,at,Ct)=>{if(null==De.previousIndex)ne.createEmbeddedView(this._template,new As(De.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)ne.remove(null===at?void 0:at);else if(null!==at){const Cn=ne.get(at);ne.move(Cn,Ct),io(Cn,De)}});for(let De=0,at=ne.length;De<at;De++){const Cn=ne.get(De).context;Cn.index=De,Cn.count=at,Cn.ngForOf=this._ngForOf}B.forEachIdentityChange(De=>{io(ne.get(De.currentIndex),De)})}static ngTemplateContextGuard(B,ne){return!0}}return O.\u0275fac=function(B){return new(B||O)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},O.\u0275dir=w.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function io(O,Z){O.context.$implicit=Z.item}let Lr=(()=>{class O{constructor(B,ne){this._viewContainer=B,this._context=new Vs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Rr("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Rr("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ne){return!0}}return O.\u0275fac=function(B){return new(B||O)(w.Y36(w.s_b),w.Y36(w.Rgc))},O.\u0275dir=w.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class Vs{constructor(){this.$implicit=null,this.ngIf=null}}function Rr(O,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,w.AaK)(Z)}'.`)}let Ks=(()=>{class O{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ne=this._viewContainerRef;if(this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:De,ngTemplateOutletContext:at,ngTemplateOutletInjector:Ct}=this;this._viewRef=ne.createEmbeddedView(De,at,Ct?{injector:Ct}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(B){return new(B||O)(w.Y36(w.s_b))},O.\u0275dir=w.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),O})();const br=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ar=(()=>{class O{constructor(B,ne){this.locale=B,this.defaultTimezone=ne}transform(B,ne="mediumDate",De,at){if(null==B||""===B||B!=B)return null;try{return cn(B,ne,at||this.locale,De??this.defaultTimezone??void 0)}catch(Ct){throw function Ur(O,Z){return new w.vHH(2100,!1)}()}}}return O.\u0275fac=function(B){return new(B||O)(w.Y36(w.soG,16),w.Y36(br,24))},O.\u0275pipe=w.Yjl({name:"date",type:O,pure:!0,standalone:!0}),O})(),mo=(()=>{class O{}return O.\u0275fac=function(B){return new(B||O)},O.\u0275mod=w.oAB({type:O}),O.\u0275inj=w.cJS({}),O})();const _o="browser";function ka(O){return O===_o}function Us(O){return"server"===O}let yo=(()=>{class O{}return O.\u0275prov=(0,w.Yz7)({token:O,providedIn:"root",factory:()=>new Fa((0,w.LFG)(Re),window)}),O})();class Fa{constructor(Z,B){this.document=Z,this.window=B,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const B=function vs(O,Z){const B=O.getElementById(Z)||O.getElementsByName(Z)[0];if(B)return B;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const ne=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let De=ne.currentNode;for(;De;){const at=De.shadowRoot;if(at){const Ct=at.getElementById(Z)||at.querySelector(`[name="${Z}"]`);if(Ct)return Ct}De=ne.nextNode()}}return null}(this.document,Z);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=Z)}}scrollToElement(Z){const B=Z.getBoundingClientRect(),ne=B.left+this.window.pageXOffset,De=B.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(ne-at[0],De-at[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qs(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class pa{}},4650:(Jt,Je,z)=>{z.d(Je,{$8M:()=>it,$Z:()=>Er,AFp:()=>Ew,ALo:()=>sE,AaK:()=>Fe,AsE:()=>bf,CHM:()=>Ms,CRH:()=>ob,CZH:()=>pb,CqO:()=>gf,D6c:()=>eD,EJc:()=>xE,EpF:()=>om,F$t:()=>os,F4k:()=>eu,FYo:()=>Wm,FiY:()=>lu,G48:()=>Oe,Gf:()=>pE,GfV:()=>jv,Gpc:()=>pe,Hsn:()=>Fs,Ikx:()=>P_,JOm:()=>$s,KtG:()=>Js,LFG:()=>es,LMc:()=>NC,LSH:()=>j,Lbi:()=>RD,Lck:()=>ie,MAs:()=>sm,MGl:()=>Ap,MMx:()=>dn,NdJ:()=>w_,OlP:()=>Yr,Oqu:()=>N_,PXZ:()=>UD,Q6J:()=>ju,QGY:()=>b_,QP$:()=>gn,Qsj:()=>cy,QtT:()=>Z0,R0b:()=>ru,RDi:()=>od,Rgc:()=>Tf,SBq:()=>Dl,SDv:()=>Ev,Sil:()=>kE,Suo:()=>Rc,TTD:()=>oo,TgZ:()=>Ac,Tol:()=>E0,Udp:()=>w0,VKq:()=>Qw,W1O:()=>_E,WLB:()=>Jw,X6Q:()=>Ce,XFs:()=>wt,Xpm:()=>Ie,Xts:()=>wl,Y36:()=>hi,YKP:()=>q,YNc:()=>Zy,Yjl:()=>Le,Yz7:()=>st,Z0I:()=>_n,ZZ4:()=>Eb,_Bn:()=>R,_UZ:()=>pf,_Vd:()=>Cg,_c5:()=>Pw,_uU:()=>qo,aQg:()=>Ow,c2e:()=>OD,cJS:()=>At,cg1:()=>Hu,dDg:()=>Nf,dqk:()=>cn,eFA:()=>$D,ekj:()=>ic,eoX:()=>Sw,f3M:()=>Qp,g9A:()=>NE,h0i:()=>H,hGG:()=>XE,hij:()=>vf,iGM:()=>fE,ifc:()=>hn,ip1:()=>AE,jDz:()=>Cr,kEZ:()=>Xw,kL8:()=>F_,lG2:()=>_e,lqb:()=>Cc,lri:()=>Iw,n5z:()=>ln,oAB:()=>en,oxw:()=>lh,pQV:()=>Dv,q4F:()=>ip,qLn:()=>Hh,qOj:()=>$y,qZA:()=>ff,rWj:()=>Tw,s9C:()=>rc,sBO:()=>fn,sIi:()=>uf,s_b:()=>nb,soG:()=>mb,tb:()=>ME,tp0:()=>cu,uIk:()=>wp,vHH:()=>Ye,vpe:()=>oc,wAp:()=>Rn,xi3:()=>aE,xp6:()=>qv,z2F:()=>y,zSh:()=>bg,zs3:()=>Nu});var w=z(7579),D=z(727),X=z(9751),Ee=z(6451),Ne=z(3099);function Pe(s){for(let a in s)if(s[a]===Pe)return a;throw Error("Could not find renamed property on target object.")}function Re(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function We(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const me=Pe({__forward_ref__:Pe});function pe(s){return s.__forward_ref__=pe,s.toString=function(){return Fe(this())},s}function Se(s){return It(s)?s():s}function It(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===pe}class Ye extends Error{constructor(a,c){super(function Lt(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function lt(s){return"string"==typeof s?s:null==s?"":String(s)}function tt(s,a){throw new Ye(-201,!1)}function Me(s,a,c,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}function st(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function At(s){return{providers:s.providers||[],imports:s.imports||[]}}function Zt(s){return pn(s,zn)||pn(s,vt)}function _n(s){return null!==Zt(s)}function pn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Wn(s){return s&&(s.hasOwnProperty(hr)||s.hasOwnProperty(lr))?s[hr]:null}const zn=Pe({\u0275prov:Pe}),hr=Pe({\u0275inj:Pe}),vt=Pe({ngInjectableDef:Pe}),lr=Pe({ngInjectorDef:Pe});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let kn;function Br(s){const a=kn;return kn=s,a}function ls(s,a,c){const h=Zt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&wt.Optional?null:void 0!==a?a:void tt(Fe(s))}function fr(s){return{toString:s}.toString()}var vr=(()=>((vr=vr||{})[vr.OnPush=0]="OnPush",vr[vr.Default=1]="Default",vr))(),hn=(()=>{return(s=hn||(hn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",hn;var s})();const cn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),on={},bn=[],xr=Pe({\u0275cmp:Pe}),On=Pe({\u0275dir:Pe}),Li=Pe({\u0275pipe:Pe}),or=Pe({\u0275mod:Pe}),Ir=Pe({\u0275fac:Pe}),ri=Pe({__NG_ELEMENT_ID__:Pe});let ut=0;function Ie(s){return fr(()=>{const c=!0===s.standalone,h={},m={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===vr.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||bn,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||hn.Emulated,id:"c"+ut++,styles:s.styles||bn,_:null,setInput:null,schemas:s.schemas||null,tView:null},v=s.dependencies,I=s.features;return m.inputs=ye(s.inputs,h),m.outputs=ye(s.outputs),I&&I.forEach(x=>x(m)),m.directiveDefs=v?()=>("function"==typeof v?v():v).map(jt).filter(Xt):null,m.pipeDefs=v?()=>("function"==typeof v?v():v).map(Ht).filter(Xt):null,m})}function jt(s){return nt(s)||$e(s)}function Xt(s){return null!==s}function en(s){return fr(()=>({type:s.type,bootstrap:s.bootstrap||bn,declarations:s.declarations||bn,imports:s.imports||bn,exports:s.exports||bn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ye(s,a){if(null==s)return on;const c={};for(const h in s)if(s.hasOwnProperty(h)){let m=s[h],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),c[m]=h,a&&(a[m]=v)}return c}const _e=Ie;function Le(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function nt(s){return s[xr]||null}function $e(s){return s[On]||null}function Ht(s){return s[Li]||null}function gn(s){const a=nt(s)||$e(s)||Ht(s);return null!==a&&a.standalone}function Bn(s,a){const c=s[or]||null;if(!c&&!0===a)throw new Error(`Type ${Fe(s)} does not have '\u0275mod' property.`);return c}function Rr(s){return Array.isArray(s)&&"object"==typeof s[1]}function ii(s){return Array.isArray(s)&&!0===s[1]}function Bs(s){return 0!=(8&s.flags)}function us(s){return 2==(2&s.flags)}function po(s){return 1==(1&s.flags)}function ds(s){return null!==s.template}function bi(s){return 0!=(256&s[2])}function $i(s,a){return s.hasOwnProperty(Ir)?s[Ir]:null}class so{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function oo(){return qs}function qs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ys),Zs}function Zs(){const s=Bl(this),a=s?.current;if(a){const c=s.previous;if(c===on)s.previous=a;else for(let h in a)c[h]=a[h];s.current=null,this.ngOnChanges(a)}}function Ys(s,a,c,h){const m=Bl(s)||function mo(s,a){return s[Oa]=a}(s,{previous:on,current:null}),v=m.current||(m.current={}),I=m.previous,x=this.declaredInputs[c],V=I[x];v[x]=new so(V&&V.currentValue,a,I===on),s[h]=a}oo.ngInherit=!0;const Oa="__ngSimpleChanges__";function Bl(s){return s[Oa]||null}function Si(s){for(;Array.isArray(s);)s=s[0];return s}function Qs(s,a){return Si(a[s])}function vs(s,a){return Si(a[s.index])}function pa(s,a){return s.data[a]}function bs(s,a){return s[a]}function Mi(s,a){const c=a[s];return Rr(c)?c:c[0]}function Ri(s){return 64==(64&s[2])}function Gi(s,a){return null==a?null:s[a]}function Pi(s){s[18]=0}function Ns(s,a){s[5]+=a;let c=s,h=s[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const Nn={lFrame:ya(null),bindingsEnabled:!0};function La(){return Nn.bindingsEnabled}function Mt(){return Nn.lFrame.lView}function cr(){return Nn.lFrame.tView}function Ms(s){return Nn.lFrame.contextLView=s,s[8]}function Js(s){return Nn.lFrame.contextLView=null,s}function si(){let s=ga();for(;null!==s&&64===s.type;)s=s.parent;return s}function ga(){return Nn.lFrame.currentTNode}function bo(){const s=Nn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function ws(s,a){const c=Nn.lFrame;c.currentTNode=s,c.isParent=a}function Va(){return Nn.lFrame.isParent}function ma(){Nn.lFrame.isParent=!1}function F(){const s=Nn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function te(){return Nn.lFrame.bindingIndex}function an(){return Nn.lFrame.bindingIndex++}function pr(s){const a=Nn.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function lo(s){Nn.lFrame.inI18n=s}function wo(s,a){const c=Nn.lFrame;c.bindingIndex=c.bindingRootIndex=s,Xi(a)}function Xi(s){Nn.lFrame.currentDirectiveIndex=s}function nl(){return Nn.lFrame.currentQueryIndex}function Wi(s){Nn.lFrame.currentQueryIndex=s}function Ba(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Fo(s,a,c){if(c&wt.SkipSelf){let m=a,v=s;for(;!(m=m.parent,null!==m||c&wt.Host||(m=Ba(v),null===m||(v=v[15],10&m.type))););if(null===m)return!1;a=m,s=v}const h=Nn.lFrame=_a();return h.currentTNode=a,h.lView=s,!0}function Eo(s){const a=_a(),c=s[1];Nn.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function _a(){const s=Nn.lFrame,a=null===s?null:s.child;return null===a?ya(s):a}function ya(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Ua(){const s=Nn.lFrame;return Nn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ja=Ua;function Lo(){const s=Ua();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Mr(){return Nn.lFrame.selectedIndex}function Do(s){Nn.lFrame.selectedIndex=s}function Zr(){const s=Nn.lFrame;return pa(s.tView,s.selectedIndex)}function al(s,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const v=s.data[c].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:x,ngAfterViewInit:V,ngAfterViewChecked:K,ngOnDestroy:re}=v;I&&(s.contentHooks||(s.contentHooks=[])).push(-c,I),x&&((s.contentHooks||(s.contentHooks=[])).push(c,x),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,x)),V&&(s.viewHooks||(s.viewHooks=[])).push(-c,V),K&&((s.viewHooks||(s.viewHooks=[])).push(c,K),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,K)),null!=re&&(s.destroyHooks||(s.destroyHooks=[])).push(c,re)}}function Co(s,a,c){ll(s,a,3,c)}function Gl(s,a,c,h){(3&s[2])===c&&ll(s,a,c,h)}function Wl(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function ll(s,a,c,h){const v=h??-1,I=a.length-1;let x=0;for(let V=void 0!==h?65535&s[18]:0;V<I;V++)if("number"==typeof a[V+1]){if(x=a[V],null!=h&&x>=h)break}else a[V]<0&&(s[18]+=65536),(x<v||-1==v)&&(xs(s,c,a,V),s[18]=(4294901760&s[18])+V+2),V++}function xs(s,a,c,h){const m=c[h]<0,v=c[h+1],x=s[m?-c[h]:c[h]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{v.call(x)}finally{}}}else try{v.call(x)}finally{}}class Ha{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function ne(s,a,c){let h=0;for(;h<c.length;){const m=c[h];if("number"==typeof m){if(0!==m)break;h++;const v=c[h++],I=c[h++],x=c[h++];s.setAttribute(a,I,x,v)}else{const v=m,I=c[++h];at(v)?s.setProperty(a,v,I):s.setAttribute(a,v,I),h++}}return h}function De(s){return 3===s||4===s||6===s}function at(s){return 64===s.charCodeAt(0)}function Ct(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const m=a[h];"number"==typeof m?c=m:0===c||Cn(s,c,m,null,-1===c||2===c?a[++h]:null)}}return s}function Cn(s,a,c,h,m){let v=0,I=s.length;if(-1===a)I=-1;else for(;v<s.length;){const x=s[v++];if("number"==typeof x){if(x===a){I=-1;break}if(x>a){I=v-1;break}}}for(;v<s.length;){const x=s[v];if("number"==typeof x)break;if(x===c){if(null===h)return void(null!==m&&(s[v+1]=m));if(h===s[v+1])return void(s[v+2]=m)}v++,null!==h&&v++,null!==m&&v++}-1!==I&&(s.splice(I,0,a),v=I+1),s.splice(v++,0,c),null!==h&&s.splice(v++,0,h),null!==m&&s.splice(v++,0,m)}function ir(s){return-1!==s}function Qn(s){return 32767&s}function Jn(s,a){let c=function $n(s){return s>>16}(s),h=a;for(;c>0;)h=h[15],c--;return h}let di=!0;function Or(s){const a=di;return di=s,a}let ta=0;const Ki={};function To(s,a){const c=va(s,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(s.injectorIndex=a.length,ul(h.data,s),ul(a,null),ul(h.blueprint,null));const m=Ga(s,a),v=s.injectorIndex;if(ir(m)){const I=Qn(m),x=Jn(m,a),V=x[1].data;for(let K=0;K<8;K++)a[v+K]=x[I+K]|V[I+K]}return a[v+8]=m,v}function ul(s,a){s.push(0,0,0,0,0,0,0,0,a)}function va(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ga(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,h=null,m=a;for(;null!==m;){if(h=sn(m),null===h)return-1;if(c++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function ba(s,a,c){!function na(s,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(ri)&&(h=c[ri]),null==h&&(h=c[ri]=ta++);const m=255&h;a.data[s+(m>>5)]|=1<<m}(s,a,c)}function iu(s,a,c){if(c&wt.Optional||void 0!==s)return s;tt()}function Xs(s,a,c,h){if(c&wt.Optional&&void 0===h&&(h=null),0==(c&(wt.Self|wt.Host))){const m=s[9],v=Br(void 0);try{return m?m.get(a,h,c&wt.Optional):ls(a,h,c&wt.Optional)}finally{Br(v)}}return iu(h,0,c)}function fc(s,a,c,h=wt.Default,m){if(null!==s){if(1024&a[2]){const I=function kd(s,a,c,h,m){let v=s,I=a;for(;null!==v&&null!==I&&1024&I[2]&&!(256&I[2]);){const x=Di(v,I,c,h|wt.Self,Ki);if(x!==Ki)return x;let V=v.parent;if(!V){const K=I[21];if(K){const re=K.get(c,Ki,h);if(re!==Ki)return re}V=sn(I),I=I[15]}v=V}return m}(s,a,c,h,Ki);if(I!==Ki)return I}const v=Di(s,a,c,h,Ki);if(v!==Ki)return v}return Xs(a,c,h,m)}function Di(s,a,c,h,m){const v=function Zp(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ri)?s[ri]:void 0;return"number"==typeof a?a>=0?255&a:Pf:a}(c);if("function"==typeof v){if(!Fo(a,s,h))return h&wt.Host?iu(m,0,h):Xs(a,c,h,m);try{const I=v(h);if(null!=I||h&wt.Optional)return I;tt()}finally{ja()}}else if("number"==typeof v){let I=null,x=va(s,a),V=-1,K=h&wt.Host?a[16][6]:null;for((-1===x||h&wt.SkipSelf)&&(V=-1===x?Ga(s,a):a[x+8],-1!==V&&ti(h,!1)?(I=a[1],x=Qn(V),a=Jn(V,a)):x=-1);-1!==x;){const re=a[1];if(Ft(v,x,re.data)){const he=zl(x,a,c,I,h,K);if(he!==Ki)return he}V=a[x+8],-1!==V&&ti(h,a[1].data[x+8]===K)&&Ft(v,x,a)?(I=re,x=Qn(V),a=Jn(V,a)):x=-1}}return m}function zl(s,a,c,h,m,v){const I=a[1],x=I.data[s+8],re=oi(x,I,c,null==h?us(x)&&di:h!=I&&0!=(3&x.type),m&wt.Host&&v===x);return null!==re?pc(a,I,re,x):Ki}function oi(s,a,c,h,m){const v=s.providerIndexes,I=a.data,x=1048575&v,V=s.directiveStart,re=v>>20,ke=m?x+re:s.directiveEnd;for(let et=h?x:x+re;et<ke;et++){const St=I[et];if(et<V&&c===St||et>=V&&St.type===c)return et}if(m){const et=I[V];if(et&&ds(et)&&et.type===c)return V}return null}function pc(s,a,c,h){let m=s[c];const v=a.data;if(function $a(s){return s instanceof Ha}(m)){const I=m;I.resolving&&function Be(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Xe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():lt(s)}(v[c]));const x=Or(I.canSeeViewProviders);I.resolving=!0;const V=I.injectImpl?Br(I.injectImpl):null;Fo(s,h,wt.Default);try{m=s[c]=I.factory(void 0,v,s,h),a.firstCreatePass&&c>=h.directiveStart&&function js(s,a,c){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:v}=a.type.prototype;if(h){const I=qs(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,I),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,I)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,m),v&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v))}(c,v[c],a)}finally{null!==V&&Br(V),Or(x),I.resolving=!1,ja()}}return m}function Ft(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function ti(s,a){return!(s&wt.Self||s&wt.Host&&a)}class eo{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,h){return fc(this._tNode,this._lView,a,h,c)}}function Pf(){return new eo(si(),Mt())}function ln(s){return fr(()=>{const a=s.prototype.constructor,c=a[Ir]||En(a),h=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==h;){const v=m[Ir]||En(m);if(v&&v!==c)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function En(s){return It(s)?()=>{const a=En(Se(s));return a&&a()}:$i(s)}function sn(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function it(s){return function Ch(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const h=c.length;let m=0;for(;m<h;){const v=c[m];if(De(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<h&&"string"==typeof c[m];)m++;else{if(v===a)return c[m+1];m+=2}}}return null}(si(),s)}const ar="__parameters__";function ra(s,a,c){return fr(()=>{const h=function So(s){return function(...c){if(s){const h=s(...c);for(const m in h)this[m]=h[m]}}}(a);function m(...v){if(this instanceof m)return h.apply(this,v),this;const I=new m(...v);return x.annotation=I,x;function x(V,K,re){const he=V.hasOwnProperty(ar)?V[ar]:Object.defineProperty(V,ar,{value:[]})[ar];for(;he.length<=re;)he.push(null);return(he[re]=he[re]||[]).push(I),V}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class Yr{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=st({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fs(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let h=s[c];Array.isArray(h)?(a===s&&(a=s.slice(0,c)),fs(h,a)):a!==s&&a.push(h)}return a}function Hs(s,a){s.forEach(c=>Array.isArray(c)?Hs(c,a):a(c))}function su(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Wa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function mc(s,a){const c=[];for(let h=0;h<s;h++)c.push(a);return c}function ee(s,a,c){let h=ve(s,a);return h>=0?s[1|h]=c:(h=~h,function N(s,a,c,h){let m=s.length;if(m==a)s.push(c,h);else if(1===m)s.push(h,s[0]),s[0]=c;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=c,s[a+1]=h}}(s,h,a,c)),h}function ue(s,a){const c=ve(s,a);if(c>=0)return s[1|c]}function ve(s,a){return function qt(s,a,c){let h=0,m=s.length>>c;for(;m!==h;){const v=h+(m-h>>1),I=s[v<<c];if(a===I)return v<<c;I>a?m=v:h=v+1}return~(m<<c)}(s,a,1)}const wa={},Uo="__NG_DI_FLAG__",co="ngTempTokenPath",Fd=/\n/gm,Ff="__source";let au;function Vi(s){const a=au;return au=s,a}function Ih(s,a=wt.Default){if(void 0===au)throw new Ye(-203,!1);return null===au?ls(s,void 0,a):au.get(s,a&wt.Optional?null:void 0,a)}function es(s,a=wt.Default){return(function nr(){return kn}()||Ih)(Se(s),a)}function Qp(s,a=wt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),es(s,a)}function Jp(s){const a=[];for(let c=0;c<s.length;c++){const h=Se(s[c]);if(Array.isArray(h)){if(0===h.length)throw new Ye(900,!1);let m,v=wt.Default;for(let I=0;I<h.length;I++){const x=h[I],V=Nm(x);"number"==typeof V?-1===V?m=x.token:v|=V:m=x}a.push(es(m,v))}else a.push(es(h))}return a}function Pc(s,a){return s[Uo]=a,s.prototype[Uo]=a,s}function Nm(s){return s[Uo]}const lu=Pc(ra("Optional"),8),cu=Pc(ra("SkipSelf"),4);var $s=(()=>(($s=$s||{})[$s.Important=1]="Important",$s[$s.DashCase=2]="DashCase",$s))();const Nh=/^>|^->|<!--|-->|--!>|<!-$/g,M=/(<|>)/;const le=new Map;let xe=0;const $r="__ngContext__";function is(s,a){Rr(a)?(s[$r]=a[20],function pt(s){le.set(s[20],s)}(a)):s[$r]=a}let wc;function Mh(s,a){return wc(s,a)}function Rh(s){const a=s[3];return ii(a)?a[3]:a}function Mm(s){return J_(s[13])}function ig(s){return J_(s[4])}function J_(s){for(;null!==s&&!ii(s);)s=s[4];return s}function nd(s,a,c,h,m){if(null!=h){let v,I=!1;ii(h)?v=h:Rr(h)&&(I=!0,h=h[0]);const x=Si(h);0===s&&null!==c?null==m?Gd(a,c,x):gu(a,c,x,m||null,!0):1===s&&null!==c?gu(a,c,x,m||null,!0):2===s?Wd(a,x,I):3===s&&a.destroyNode(x),null!=v&&function ry(s,a,c,h,m){const v=c[7];v!==Si(c)&&nd(a,s,h,v,m);for(let x=10;x<c.length;x++){const V=c[x];Fh(V[1],V,s,a,h,v)}}(a,s,v,c,m)}}function Hf(s,a){return s.createText(a)}function X_(s,a,c){s.setValue(a,c)}function $f(s,a){return s.createComment(function Y(s){return s.replace(Nh,a=>a.replace(M,"\u200b$1\u200b"))}(a))}function pu(s,a,c){return s.createElement(a,c)}function Ph(s,a){const c=s[9],h=c.indexOf(a),m=a[3];512&a[2]&&(a[2]&=-513,Ns(m,-1)),c.splice(h,1)}function yl(s,a){if(s.length<=10)return;const c=10+a,h=s[c];if(h){const m=h[17];null!==m&&m!==s&&Ph(m,h),a>0&&(s[c-1][4]=h[4]);const v=Wa(s,10+a);!function xh(s,a){Fh(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const I=v[19];null!==I&&I.detachView(v[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function rd(s,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Fh(s,a,c,3,null,null),function og(s){let a=s[13];if(!a)return $d(s[1],s);for(;a;){let c=null;if(Rr(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==s;)Rr(a)&&$d(a[1],a),a=a[3];null===a&&(a=s),Rr(a)&&$d(a[1],a),c=a&&a[4]}a=c}}(a)}}function $d(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Rm(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let h=0;h<c.length;h+=2){const m=a[c[h]];if(!(m instanceof Ha)){const v=c[h+1];if(Array.isArray(v))for(let I=0;I<v.length;I+=2){const x=m[v[I]],V=v[I+1];try{V.call(x)}finally{}}else try{v.call(m)}finally{}}}}(s,a),function id(s,a){const c=s.cleanup,h=a[7];let m=-1;if(null!==c)for(let v=0;v<c.length-1;v+=2)if("string"==typeof c[v]){const I=c[v+1],x="function"==typeof I?I(a):Si(a[I]),V=h[m=c[v+2]],K=c[v+3];"boolean"==typeof K?x.removeEventListener(c[v],V,K):K>=0?h[m=K]():h[m=-K].unsubscribe(),v+=2}else{const I=h[m=c[v+1]];c[v].call(I)}if(null!==h){for(let v=m+1;v<h.length;v++)(0,h[v])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&ii(a[3])){c!==a[3]&&Ph(c,a);const h=a[19];null!==h&&h.detachView(s)}!function Rt(s){le.delete(s[20])}(a)}}function Vc(s,a,c){return Ds(s,a.parent,c)}function Ds(s,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const m=s.data[h.directiveStart].encapsulation;if(m===hn.None||m===hn.Emulated)return null}return vs(h,c)}function gu(s,a,c,h,m){s.insertBefore(a,c,h,m)}function Gd(s,a,c){s.appendChild(a,c)}function sd(s,a,c,h,m){null!==h?gu(s,a,c,h,m):Gd(s,a,c)}function mu(s,a){return s.parentNode(a)}function kh(s,a,c){return bl(s,a,c)}function Om(s,a,c){return 40&s.type?vs(s,c):null}let Gf,bu,ag,bl=Om;function sa(s,a){bl=s,Gf=a}function _u(s,a,c,h){const m=Vc(s,h,a),v=a[11],x=kh(h.parent||a[6],h,a);if(null!=m)if(Array.isArray(c))for(let V=0;V<c.length;V++)sd(v,m,c[V],x,!1);else sd(v,m,c,x,!1);void 0!==Gf&&Gf(v,h,a,c,m)}function yu(s,a){if(null!==a){const c=a.type;if(3&c)return vs(a,s);if(4&c)return $o(-1,s[a.index]);if(8&c){const h=a.child;if(null!==h)return yu(s,h);{const m=s[a.index];return ii(m)?$o(-1,m):Si(m)}}if(32&c)return Mh(a,s)()||Si(s[a.index]);{const h=Wf(s,a);return null!==h?Array.isArray(h)?h[0]:yu(Rh(s[16]),h):yu(s,a.next)}}return null}function Wf(s,a){return null!==a?s[16][6].projection[a.projection]:null}function $o(s,a){const c=10+s+1;if(c<a.length){const h=a[c],m=h[1].firstChild;if(null!==m)return yu(h,m)}return a[7]}function Wd(s,a,c){const h=mu(s,a);h&&function ty(s,a,c,h){s.removeChild(a,c,h)}(s,h,a,c)}function vu(s,a,c,h,m,v,I){for(;null!=c;){const x=h[c.index],V=c.type;if(I&&0===a&&(x&&is(Si(x),h),c.flags|=4),64!=(64&c.flags))if(8&V)vu(s,a,c.child,h,m,v,!1),nd(a,s,m,x,v);else if(32&V){const K=Mh(c,h);let re;for(;re=K();)nd(a,s,m,re,v);nd(a,s,m,x,v)}else 16&V?dr(s,a,h,c,m,v):nd(a,s,m,x,v);c=I?c.projectionNext:c.next}}function Fh(s,a,c,h,m,v){vu(c,h,s.firstChild,a,m,v,!1)}function dr(s,a,c,h,m,v){const I=c[16],V=I[6].projection[h.projection];if(Array.isArray(V))for(let K=0;K<V.length;K++)nd(a,s,m,V[K],v);else vu(s,a,V,I[3],m,v,!0)}function Kf(s,a,c){s.setAttribute(a,"style",c)}function qf(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function wu(s){return function Bc(){if(void 0===bu&&(bu=null,cn.trustedTypes))try{bu=cn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return bu}()?.createHTML(s)||s}function od(s){ag=s}class ug{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function oa(s){return s instanceof ug?s.changingThisBreaksApplicationSecurity:s}class Fm{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(wu(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Jf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=wu(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=wu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let m=c.length-1;0<m;m--){const I=c.item(m).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&a.removeAttribute(I)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Lm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function fg(s){return(s=String(s)).match(Lm)?s:"unsafe:"+s}function Hc(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function Ci(...s){const a={};for(const c of s)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const Jr=Hc("area,br,col,hr,img,wbr"),Xf=Hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vm=Hc("rp,rt"),ep=Ci(Jr,Ci(Xf,Hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ci(Vm,Hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ci(Vm,Xf)),ld=Hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gc=Ci(ld,Hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var p=(()=>((p=p||{})[p.NONE=0]="NONE",p[p.HTML=1]="HTML",p[p.STYLE=2]="STYLE",p[p.SCRIPT=3]="SCRIPT",p[p.URL=4]="URL",p[p.RESOURCE_URL=5]="RESOURCE_URL",p))();function j(s){const a=function _i(){const s=Mt();return s&&s[12]}();return a?a.sanitize(p.URL,s)||"":function qd(s,a){const c=function km(s){return s instanceof ug&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}(s,"URL")?oa(s):fg(lt(s))}const wl=new Yr("ENVIRONMENT_INITIALIZER"),Ca=new Yr("INJECTOR",-1),Go=new Yr("INJECTOR_DEF_TYPES");class Bh{get(a,c=wa){if(c===wa){const h=new Error(`NullInjectorError: No provider for ${Fe(a)}!`);throw h.name="NullInjectorError",h}return c}}function yg(...s){return{\u0275providers:Yd(0,s)}}function Yd(s,...a){const c=[],h=new Set;let m;return Hs(a,v=>{const I=v;Mo(I,c,[],h)&&(m||(m=[]),m.push(I))}),void 0!==m&&vg(m,c),c}function vg(s,a){for(let c=0;c<s.length;c++){const{providers:m}=s[c];Hs(m,v=>{a.push(v)})}}function Mo(s,a,c,h){if(!(s=Se(s)))return!1;let m=null,v=Wn(s);const I=!v&&nt(s);if(v||I){if(I&&!I.standalone)return!1;m=s}else{const V=s.ngModule;if(v=Wn(V),!v)return!1;m=V}const x=h.has(m);if(I){if(x)return!1;if(h.add(m),I.dependencies){const V="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const K of V)Mo(K,a,c,h)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let K;h.add(m);try{Hs(v.imports,re=>{Mo(re,a,c,h)&&(K||(K=[]),K.push(re))})}finally{}void 0!==K&&vg(K,a)}if(!x){const K=$i(m)||(()=>new m);a.push({provide:m,useFactory:K,deps:bn},{provide:Go,useValue:m,multi:!0},{provide:wl,useValue:()=>es(m),multi:!0})}const V=v.providers;null==V||x||Hs(V,re=>{a.push(re)})}}return m!==s&&void 0!==s.providers}const np=Pe({provide:String,useValue:Pe});function Dc(s){return null!==s&&"object"==typeof s&&np in s}function ce(s){return"function"==typeof s}const bg=new Yr("Set Injector scope."),wg={},ly={};let jm;function zc(){return void 0===jm&&(jm=new Bh),jm}class Cc{}class Hm extends Cc{constructor(a,c,h,m){super(),this.parent=c,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ss(a,I=>this.processProvider(I)),this.records.set(Ca,jh(void 0,this)),m.has("environment")&&this.records.set(Cc,jh(void 0,this));const v=this.records.get(bg);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Go.multi,bn,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Vi(this),h=Br(void 0);try{return a()}finally{Vi(c),Br(h)}}get(a,c=wa,h=wt.Default){this.assertNotDestroyed();const m=Vi(this),v=Br(void 0);try{if(!(h&wt.SkipSelf)){let x=this.records.get(a);if(void 0===x){const V=function Qd(s){return"function"==typeof s||"object"==typeof s&&s instanceof Yr}(a)&&Zt(a);x=V&&this.injectableDefInScope(V)?jh(dd(a),wg):null,this.records.set(a,x)}if(null!=x)return this.hydrate(a,x)}return(h&wt.Self?zc():this.parent).get(a,c=h&wt.Optional&&c===wa?null:c)}catch(I){if("NullInjectorError"===I.name){if((I[co]=I[co]||[]).unshift(Fe(a)),m)throw I;return function Ld(s,a,c,h){const m=s[co];throw a[Ff]&&m.unshift(a[Ff]),s.message=function Z_(s,a,c,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=Fe(a);if(Array.isArray(a))m=a.map(Fe).join(" -> ");else if("object"==typeof a){let v=[];for(let I in a)if(a.hasOwnProperty(I)){let x=a[I];v.push(I+":"+("string"==typeof x?JSON.stringify(x):Fe(x)))}m=`{${v.join(", ")}}`}return`${c}${h?"("+h+")":""}[${m}]: ${s.replace(Fd,"\n  ")}`}("\n"+s.message,m,c,h),s.ngTokenPath=m,s[co]=null,s}(I,a,"R3InjectorError",this.source)}throw I}finally{Br(v),Vi(m)}}resolveInjectorInitializers(){const a=Vi(this),c=Br(void 0);try{const h=this.get(wl.multi,bn,wt.Self);for(const m of h)m()}finally{Vi(a),Br(c)}}toString(){const a=[],c=this.records;for(const h of c.keys())a.push(Fe(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(a){let c=ce(a=Se(a))?a:Se(a&&a.provide);const h=function El(s){return Dc(s)?jh(void 0,s.useValue):jh(Gm(s),wg)}(a);if(ce(a)||!0!==a.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=jh(void 0,wg,!0),m.factory=()=>Jp(m.multi),this.records.set(c,m)),c=a,m.multi.push(a)}this.records.set(c,h)}hydrate(a,c){return c.value===wg&&(c.value=ly,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Du(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Se(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function dd(s){const a=Zt(s),c=null!==a?a.factory:$i(s);if(null!==c)return c;if(s instanceof Yr)throw new Ye(204,!1);if(s instanceof Function)return function $m(s){const a=s.length;if(a>0)throw mc(a,"?"),new Ye(204,!1);const c=function zt(s){const a=s&&(s[zn]||s[vt]);if(a){const c=function Dn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ye(204,!1)}function Gm(s,a,c){let h;if(ce(s)){const m=Se(s);return $i(m)||dd(m)}if(Dc(s))h=()=>Se(s.useValue);else if(function ud(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...Jp(s.deps||[]));else if(function Wc(s){return!(!s||!s.useExisting)}(s))h=()=>es(Se(s.useExisting));else{const m=Se(s&&(s.useClass||s.provide));if(!function rp(s){return!!s.deps}(s))return $i(m)||dd(m);h=()=>new m(...Jp(s.deps))}return h}function jh(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Jd(s){return!!s.\u0275providers}function ss(s,a){for(const c of s)Array.isArray(c)?ss(c,a):Jd(c)?ss(c.\u0275providers,a):a(c)}class Eg{}class Dg{resolveComponentFactory(a){throw function Ic(s){const a=Error(`No component factory found for ${Fe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Cg=(()=>{class s{}return s.NULL=new Dg,s})();function fd(){return Za(si(),Mt())}function Za(s,a){return new Dl(vs(s,a))}let Dl=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=fd,s})();function Ig(s){return s instanceof Dl?s.nativeElement:s}class Wm{}let cy=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Wo(){const s=Mt(),c=Mi(si().index,s);return(Rr(c)?c:s)[11]}(),s})(),Uv=(()=>{class s{}return s.\u0275prov=st({token:s,providedIn:"root",factory:()=>null}),s})();class jv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const ip=new jv("14.3.0"),pd={};function uy(s){return s.ngOriginalError}class Hh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&uy(a);for(;c&&uy(c);)c=uy(c);return c||null}}function Su(s){return s instanceof Function?s():s}function zh(s,a,c){let h=s.length;for(;;){const m=s.indexOf(a,c);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const v=a.length;if(m+v===h||s.charCodeAt(m+v)<=32)return m}c=m+1}}const Ng="ng-template";function Ia(s,a,c){let h=0;for(;h<s.length;){let m=s[h++];if(c&&"class"===m){if(m=s[h],-1!==zh(m.toLowerCase(),a,0))return!0}else if(1===m){for(;h<s.length&&"string"==typeof(m=s[h++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function Km(s){return 4===s.type&&s.value!==Ng}function qm(s,a,c){return a===(4!==s.type||c?s.value:Ng)}function op(s,a,c){let h=4;const m=s.attrs||[],v=function Xd(s){for(let a=0;a<s.length;a++)if(De(s[a]))return a;return s.length}(m);let I=!1;for(let x=0;x<a.length;x++){const V=a[x];if("number"!=typeof V){if(!I)if(4&h){if(h=2|1&h,""!==V&&!qm(s,V,c)||""===V&&1===a.length){if(Cl(h))return!1;I=!0}}else{const K=8&h?V:a[++x];if(8&h&&null!==s.attrs){if(!Ia(s.attrs,K,c)){if(Cl(h))return!1;I=!0}continue}const he=Au(8&h?"class":V,m,Km(s),c);if(-1===he){if(Cl(h))return!1;I=!0;continue}if(""!==K){let ke;ke=he>v?"":m[he+1].toLowerCase();const et=8&h?ke:null;if(et&&-1!==zh(et,K,0)||2&h&&K!==ke){if(Cl(h))return!1;I=!0}}}}else{if(!I&&!Cl(h)&&!Cl(V))return!1;if(I&&Cl(V))continue;I=!1,h=V|1&h}}return Cl(h)||I}function Cl(s){return 0==(1&s)}function Au(s,a,c,h){if(null===a)return-1;let m=0;if(h||!c){let v=!1;for(;m<a.length;){const I=a[m];if(I===s)return m;if(3===I||6===I)v=!0;else{if(1===I||2===I){let x=a[++m];for(;"string"==typeof x;)x=a[++m];continue}if(4===I)break;if(0===I){m+=4;continue}}m+=v?1:2}return-1}return function Tb(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const h=s[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,s)}function Kh(s,a,c=!1){for(let h=0;h<a.length;h++)if(op(s,a[h],c))return!0;return!1}function ap(s,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(s.length===h.length){for(let m=0;m<s.length;m++)if(s[m]!==h[m])continue e;return!0}}return!1}function fy(s,a){return s?":not("+a.trim()+")":a}function gd(s){let a=s[0],c=1,h=2,m="",v=!1;for(;c<s.length;){let I=s[c];if("string"==typeof I)if(2&h){const x=s[++c];m+="["+I+(x.length>0?'="'+x+'"':"")+"]"}else 8&h?m+="."+I:4&h&&(m+=" "+I);else""!==m&&!Cl(I)&&(a+=fy(v,m),m=""),h=I,v=v||!Cl(h);c++}return""!==m&&(a+=fy(v,m)),a}const wr={};function qv(s){gy(cr(),Mt(),Mr()+s,!1)}function gy(s,a,c,h){if(!h)if(3==(3&a[2])){const v=s.preOrderCheckHooks;null!==v&&Co(a,v,c)}else{const v=s.preOrderHooks;null!==v&&Gl(a,v,0,c)}Do(c)}function yy(s,a=null,c=null,h){const m=vy(s,a,c,h);return m.resolveInjectorInitializers(),m}function vy(s,a=null,c=null,h,m=new Set){const v=[c||bn,yg(s)];return h=h||("object"==typeof s?void 0:Fe(s)),new Hm(v,a||zc(),h||null,m)}let Nu=(()=>{class s{static create(c,h){if(Array.isArray(c))return yy({name:""},h,c,"");{const m=c.name??"";return yy({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=wa,s.NULL=new Bh,s.\u0275prov=st({token:s,providedIn:"any",factory:()=>es(Ca)}),s.__NG_ELEMENT_ID__=-1,s})();function hi(s,a=wt.Default){const c=Mt();return null===c?es(s,a):fc(si(),c,Se(s),a)}function Er(){throw new Error("invalid")}function Zh(s,a){return s<<17|a<<2}function Tl(s){return s>>17&32767}function Ay(s){return 2|s}function qc(s){return(131068&s)>>2}function Jm(s,a){return-131069&s|a<<2}function fp(s){return 1|s}function r_(s,a){const c=s.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const m=c[h],v=c[h+1];if(-1!==v){const I=s.data[v];Wi(m),I.contentQueries(2,a[v],v)}}}function tf(s,a,c,h,m,v,I,x,V,K,re){const he=a.blueprint.slice();return he[0]=m,he[2]=76|h,(null!==re||s&&1024&s[2])&&(he[2]|=1024),Pi(he),he[3]=he[15]=s,he[8]=c,he[10]=I||s&&s[10],he[11]=x||s&&s[11],he[12]=V||s&&s[12]||null,he[9]=K||s&&s[9]||null,he[6]=v,he[20]=function He(){return xe++}(),he[21]=re,he[16]=2==a.type?s[16]:he,he}function Al(s,a,c,h,m){let v=s.data[a];if(null===v)v=_d(s,a,c,h,m),function Rs(){return Nn.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=c,v.value=h,v.attrs=m;const I=bo();v.injectorIndex=null===I?-1:I.injectorIndex}return ws(v,!0),v}function _d(s,a,c,h,m){const v=ga(),I=Va(),V=s.data[a]=function o_(s,a,c,h,m,v){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?v:v&&v.parent,c,a,h,m);return null===s.firstChild&&(s.firstChild=V),null!==v&&(I?null==v.child&&null!==V.parent&&(v.child=V):null===v.next&&(v.next=V)),V}function Qc(s,a,c,h){if(0===c)return-1;const m=a.length;for(let v=0;v<c;v++)a.push(h),s.blueprint.push(h),s.data.push(null);return m}function nh(s,a,c){Eo(a);try{const h=s.viewQuery;null!==h&&bd(1,h,c);const m=s.template;null!==m&&gp(s,a,m,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&r_(s,a),s.staticViewQueries&&bd(2,s.viewQuery,c);const v=s.components;null!==v&&function xy(s,a){for(let c=0;c<a.length;c++)c_(s,a[c])}(a,v)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[2]&=-5,Lo()}}function rh(s,a,c,h){const m=a[2];if(128!=(128&m)){Eo(a);try{Pi(a),function rt(s){return Nn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&gp(s,a,c,2,h);const I=3==(3&m);if(I){const K=s.preOrderCheckHooks;null!==K&&Co(a,K,null)}else{const K=s.preOrderHooks;null!==K&&Gl(a,K,0,null),Wl(a,0)}if(function qg(s){for(let a=Mm(s);null!==a;a=ig(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const m=c[h],v=m[3];0==(512&m[2])&&Ns(v,1),m[2]|=512}}}(a),function u0(s){for(let a=Mm(s);null!==a;a=ig(a))for(let c=10;c<a.length;c++){const h=a[c],m=h[1];Ri(h)&&rh(m,h,m.template,h[8])}}(a),null!==s.contentQueries&&r_(s,a),I){const K=s.contentCheckHooks;null!==K&&Co(a,K)}else{const K=s.contentHooks;null!==K&&Gl(a,K,1),Wl(a,1)}!function ms(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const m=c[h];if(m<0)Do(~m);else{const v=m,I=c[++h],x=c[++h];wo(I,v),x(2,a[v])}}}finally{Do(-1)}}(s,a);const x=s.components;null!==x&&function Ry(s,a){for(let c=0;c<a.length;c++)Zg(s,a[c])}(a,x);const V=s.viewQuery;if(null!==V&&bd(2,V,h),I){const K=s.viewCheckHooks;null!==K&&Co(a,K)}else{const K=s.viewHooks;null!==K&&Gl(a,K,2),Wl(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Ns(a[3],-1))}finally{Lo()}}}function gp(s,a,c,h,m){const v=Mr(),I=2&h;try{Do(-1),I&&a.length>22&&gy(s,a,22,!1),c(h,m)}finally{Do(v)}}function nf(s,a,c){!La()||(function _p(s,a,c,h){const m=c.directiveStart,v=c.directiveEnd;s.firstCreatePass||To(c,a),is(h,a);const I=c.initialInputs;for(let x=m;x<v;x++){const V=s.data[x],K=ds(V);K&&vd(a,c,V);const re=pc(a,s,x,c);is(re,a),null!==I&&c0(0,x-m,re,V,0,I),K&&(Mi(c.index,a)[8]=re)}}(s,a,c,vs(c,a)),128==(128&c.flags)&&function Ob(s,a,c){const h=c.directiveStart,m=c.directiveEnd,v=c.index,I=function ko(){return Nn.lFrame.currentDirectiveIndex}();try{Do(v);for(let x=h;x<m;x++){const V=s.data[x],K=a[x];Xi(x),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&l0(V,K)}}finally{Do(-1),Xi(I)}}(s,a,c))}function i_(s,a,c=vs){const h=a.localNames;if(null!==h){let m=a.index+1;for(let v=0;v<h.length;v+=2){const I=h[v+1],x=-1===I?c(a,s):s[I];s[m++]=x}}}function o0(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=jg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function jg(s,a,c,h,m,v,I,x,V,K){const re=22+h,he=re+m,ke=function Oy(s,a){const c=[];for(let h=0;h<a;h++)c.push(h<s?null:wr);return c}(re,he),et="function"==typeof K?K():K;return ke[1]={type:s,blueprint:ke,template:c,queries:null,viewQuery:x,declTNode:a,data:ke.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:V,consts:et,incompleteFirstPass:!1}}function s_(s,a,c,h){const m=Qg(a);null===c?m.push(h):(m.push(c),s.firstCreatePass&&Jg(s).push(h,m.length-1))}function Hg(s,a,c){for(let h in s)if(s.hasOwnProperty(h)){const m=s[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,m):c[h]=[a,m]}return c}function a_(s,a){const h=a.directiveEnd,m=s.data,v=a.attrs,I=[];let x=null,V=null;for(let K=a.directiveStart;K<h;K++){const re=m[K],he=re.inputs,ke=null===v||Km(a)?null:Pb(he,v);I.push(ke),x=Hg(he,K,x),V=Hg(re.outputs,K,V)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=16),x.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=I,a.inputs=x,a.outputs=V}function Qa(s,a,c,h,m,v,I,x){const V=vs(a,c);let re,K=a.inputs;!x&&null!=K&&(re=K[h])?(Lu(s,c,re,h,m),us(a)&&rf(c,a.index)):3&a.type&&(h=function mp(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),m=null!=I?I(m,a.value||"",h):m,v.setProperty(V,h,m))}function rf(s,a){const c=Mi(a,s);16&c[2]||(c[2]|=32)}function ih(s,a,c,h){let m=!1;if(La()){const v=function Ws(s,a,c){const h=s.directiveRegistry;let m=null;if(h)for(let v=0;v<h.length;v++){const I=h[v];Kh(c,I.selectors,!1)&&(m||(m=[]),ba(To(c,a),s,I.type),ds(I)?(yp(s,c),m.unshift(I)):m.push(I))}return m}(s,a,c),I=null===h?null:{"":-1};if(null!==v){m=!0,zg(c,s.data.length,v.length);for(let re=0;re<v.length;re++){const he=v[re];he.providersResolver&&he.providersResolver(he)}let x=!1,V=!1,K=Qc(s,a,v.length,null);for(let re=0;re<v.length;re++){const he=v[re];c.mergedAttrs=Ct(c.mergedAttrs,he.hostAttrs),vp(s,c,a,K,he),Wg(K,he,I),null!==he.contentQueries&&(c.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(c.flags|=128);const ke=he.type.prototype;!x&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),x=!0),!V&&(ke.ngOnChanges||ke.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),V=!0),K++}a_(s,c)}I&&function Gg(s,a,c){if(a){const h=s.localNames=[];for(let m=0;m<a.length;m+=2){const v=c[a[m+1]];if(null==v)throw new Ye(-301,!1);h.push(a[m],v)}}}(c,h,I)}return c.mergedAttrs=Ct(c.mergedAttrs,c.attrs),m}function sf(s,a,c,h,m,v){const I=v.hostBindings;if(I){let x=s.hostBindingOpCodes;null===x&&(x=s.hostBindingOpCodes=[]);const V=~a.index;(function ky(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(x)!=V&&x.push(V),x.push(h,m,I)}}function l0(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function yp(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Wg(s,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=s;ds(a)&&(c[""]=s)}}function zg(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function vp(s,a,c,h,m){s.data[h]=m;const v=m.factory||(m.factory=$i(m.type)),I=new Ha(v,ds(m),hi);s.blueprint[h]=I,c[h]=I,sf(s,a,0,h,Qc(s,c,m.hostVars,wr),m)}function vd(s,a,c){const h=vs(a,s),m=o0(c),v=s[10],I=sh(s,tf(s,m,null,c.onPush?32:16,h,a,v,v.createRenderer(h,c),null,null,null));s[a.index]=I}function Pu(s,a,c,h,m,v,I){if(null==v)s.removeAttribute(a,m,c);else{const x=null==I?lt(v):I(v,h||"",m);s.setAttribute(a,m,x,c)}}function c0(s,a,c,h,m,v){const I=v[a];if(null!==I){const x=h.setInput;for(let V=0;V<I.length;){const K=I[V++],re=I[V++],he=I[V++];null!==x?h.setInput(c,he,K,re):c[re]=he}}}function Pb(s,a){let c=null,h=0;for(;h<a.length;){const m=a[h];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===c&&(c=[]),c.push(m,s[m],a[h+1])),h+=2}else h+=2;else h+=4}return c}function Fy(s,a,c,h){return new Array(s,!0,!1,a,null,0,h,c,null,null)}function Zg(s,a){const c=Mi(a,s);if(Ri(c)){const h=c[1];48&c[2]?rh(h,c,h.template,c[8]):c[5]>0&&l_(c)}}function l_(s){for(let h=Mm(s);null!==h;h=ig(h))for(let m=10;m<h.length;m++){const v=h[m];if(Ri(v))if(512&v[2]){const I=v[1];rh(I,v,I.template,v[8])}else v[5]>0&&l_(v)}const c=s[1].components;if(null!==c)for(let h=0;h<c.length;h++){const m=Mi(c[h],s);Ri(m)&&m[5]>0&&l_(m)}}function c_(s,a){const c=Mi(a,s),h=c[1];(function af(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(h,c),nh(h,c,c[8])}function sh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Yg(s){for(;s;){s[2]|=32;const a=Rh(s);if(bi(s)&&!a)return s;s=a}return null}function Ni(s,a,c,h=!0){const m=a[10];m.begin&&m.begin();try{rh(s,a,s.template,c)}catch(I){throw h&&u_(a,I),I}finally{m.end&&m.end()}}function bd(s,a,c){Wi(0),a(s,c)}function Qg(s){return s[7]||(s[7]=[])}function Jg(s){return s.cleanup||(s.cleanup=[])}function u_(s,a){const c=s[9],h=c?c.get(Hh,null):null;h&&h.handleError(a)}function Lu(s,a,c,h,m){for(let v=0;v<c.length;){const I=c[v++],x=c[v++],V=a[I],K=s.data[I];null!==K.setInput?K.setInput(V,m,h,x):V[x]=m}}function tc(s,a,c){const h=Qs(a,s);X_(s[11],h,c)}function wd(s,a,c){let h=c?s.styles:null,m=c?s.classes:null,v=0;if(null!==a)for(let I=0;I<a.length;I++){const x=a[I];"number"==typeof x?v=x:1==v?m=We(m,x):2==v&&(h=We(h,x+": "+a[++I]+";"))}c?s.styles=h:s.stylesWithoutHost=h,c?s.classes=m:s.classesWithoutHost=m}function lf(s,a,c,h,m=!1){for(;null!==c;){const v=a[c.index];if(null!==v&&h.push(Si(v)),ii(v))for(let x=10;x<v.length;x++){const V=v[x],K=V[1].firstChild;null!==K&&lf(V[1],V,K,h)}const I=c.type;if(8&I)lf(s,a,c.child,h);else if(32&I){const x=Mh(c,a);let V;for(;V=x();)h.push(V)}else if(16&I){const x=Wf(a,c);if(Array.isArray(x))h.push(...x);else{const V=Rh(a[16]);lf(V[1],V,x,h,!0)}}c=m?c.projectionNext:c.next}return h}class oh{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return lf(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ii(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(yl(a,h),Wa(c,h))}this._attachedToViewContainer=!1}rd(this._lView[1],this._lView)}onDestroy(a){s_(this._lView[1],this._lView,null,a)}markForCheck(){Yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ni(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Oh(s,a){Fh(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=a}}class Ly extends oh{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ni(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Vy extends Cg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=nt(a);return new Vu(c,this.ngModule)}}function d_(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class Uy{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,h){const m=this.injector.get(a,pd,h);return m!==pd||c===pd?m:this.parentInjector.get(a,c,h)}}class Vu extends Eg{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function py(s){return s.map(gd).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return d_(this.componentDef.inputs)}get outputs(){return d_(this.componentDef.outputs)}create(a,c,h,m){let v=(m=m||this.ngModule)instanceof Cc?m:m?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const I=v?new Uy(a,v):a,x=I.get(Wm,null);if(null===x)throw new Ye(407,!1);const V=I.get(Uv,null),K=x.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",he=h?function Py(s,a,c){return s.selectRootElement(a,c===hn.ShadowDom)}(K,h,this.componentDef.encapsulation):pu(K,re,function By(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(re)),ke=this.componentDef.onPush?288:272,et=jg(0,null,null,1,0,null,null,null,null,null),St=tf(null,et,null,ke,null,null,x,K,V,I,null);let Qt,vn;Eo(St);try{const jn=function Ed(s,a,c,h,m,v){const I=c[1];c[22]=s;const V=Al(I,22,2,"#host",null),K=V.mergedAttrs=a.hostAttrs;null!==K&&(wd(V,K,!0),null!==s&&(ne(m,s,K),null!==V.classes&&qf(m,s,V.classes),null!==V.styles&&Kf(m,s,V.styles)));const re=h.createRenderer(s,a),he=tf(c,o0(a),null,a.onPush?32:16,c[22],V,h,re,v||null,null,null);return I.firstCreatePass&&(ba(To(V,c),I,a.type),yp(I,V),zg(V,c.length,1)),sh(c,he),c[22]=he}(he,this.componentDef,St,x,K);if(he)if(h)ne(K,he,["ng-version",ip.full]);else{const{attrs:sr,classes:Bt}=function Kv(s){const a=[],c=[];let h=1,m=2;for(;h<s.length;){let v=s[h];if("string"==typeof v)2===m?""!==v&&a.push(v,s[++h]):8===m&&c.push(v);else{if(!Cl(m))break;m=v}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);sr&&ne(K,he,sr),Bt&&Bt.length>0&&qf(K,he,Bt.join(" "))}if(vn=pa(et,22),void 0!==c){const sr=vn.projection=[];for(let Bt=0;Bt<this.ngContentSelectors.length;Bt++){const yr=c[Bt];sr.push(null!=yr?Array.from(yr):null)}}Qt=function Hy(s,a,c,h){const m=c[1],v=function $g(s,a,c){const h=si();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),vp(s,h,a,Qc(s,a,1,null),c),a_(s,h));const m=pc(a,s,h.directiveStart,h);is(m,a);const v=vs(h,a);return v&&is(v,a),m}(m,c,a);if(s[8]=c[8]=v,null!==h)for(const x of h)x(v,a);if(a.contentQueries){const x=si();a.contentQueries(1,v,x.directiveStart)}const I=si();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Do(I.index),sf(c[1],I,0,I.directiveStart,I.directiveEnd,a),l0(a,v)),v}(jn,this.componentDef,St,[kb]),nh(et,St,null)}finally{Lo()}return new f0(this.componentType,Qt,Za(vn,St),St,vn)}}class f0 extends class hd{}{constructor(a,c,h,m,v){super(),this.location=h,this._rootLView=m,this._tNode=v,this.instance=c,this.hostView=this.changeDetectorRef=new Ly(m),this.componentType=a}setInput(a,c){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[a])){const v=this._rootLView;Lu(v[1],v,m,a,c),rf(v,this._tNode.index)}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function kb(){const s=si();al(Mt()[1],s)}function $y(s){let a=function h_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const h=[s];for(;a;){let m;if(ds(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ye(903,!1);m=a.\u0275dir}if(m){if(c){h.push(m);const I=s;I.inputs=cf(s.inputs),I.declaredInputs=cf(s.declaredInputs),I.outputs=cf(s.outputs);const x=m.hostBindings;x&&Fb(s,x);const V=m.viewQuery,K=m.contentQueries;if(V&&g0(s,V),K&&bp(s,K),Re(s.inputs,m.inputs),Re(s.declaredInputs,m.declaredInputs),Re(s.outputs,m.outputs),ds(m)&&m.data.animation){const re=s.data;re.animation=(re.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let I=0;I<v.length;I++){const x=v[I];x&&x.ngInherit&&x(s),x===$y&&(c=!1)}}a=Object.getPrototypeOf(a)}!function f_(s){let a=0,c=null;for(let h=s.length-1;h>=0;h--){const m=s[h];m.hostVars=a+=m.hostVars,m.hostAttrs=Ct(m.hostAttrs,c=Ct(c,m.hostAttrs))}}(h)}function cf(s){return s===on?{}:s===bn?[]:s}function g0(s,a){const c=s.viewQuery;s.viewQuery=c?(h,m)=>{a(h,m),c(h,m)}:a}function bp(s,a){const c=s.contentQueries;s.contentQueries=c?(h,m,v)=>{a(h,m,v),c(h,m,v)}:a}function Fb(s,a){const c=s.hostBindings;s.hostBindings=c?(h,m)=>{a(h,m),c(h,m)}:a}let em=null;function Dd(){if(!em){const s=cn.Symbol;if(s&&s.iterator)em=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(em=h)}}}return em}function uf(s){return!!Wy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Dd()in s)}function Wy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function nc(s,a,c){return s[a]=c}function Ko(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Sc(s,a,c,h){const m=Ko(s,a,c);return Ko(s,a+1,h)||m}function wp(s,a,c,h){const m=Mt();return Ko(m,an(),a)&&(cr(),function la(s,a,c,h,m,v){const I=vs(s,a);Pu(a[11],I,v,s.value,c,h,m)}(Zr(),m,s,a,c,h)),wp}function df(s,a,c,h){return Ko(s,an(),c)?a+lt(c)+h:wr}function Zy(s,a,c,h,m,v,I,x){const V=Mt(),K=cr(),re=s+22,he=K.firstCreatePass?function y_(s,a,c,h,m,v,I,x,V){const K=a.consts,re=Al(a,s,4,I||null,Gi(K,x));ih(a,c,re,Gi(K,V)),al(a,re);const he=re.tViews=jg(2,re,h,m,v,a.directiveRegistry,a.pipeRegistry,null,a.schemas,K);return null!==a.queries&&(a.queries.template(a,re),he.queries=a.queries.embeddedTView(re)),re}(re,K,V,a,c,h,m,v,I):K.data[re];ws(he,!1);const ke=V[11].createComment("");_u(K,V,ke,he),is(ke,V),sh(V,V[re]=Fy(ke,V,ke,he)),po(he)&&nf(K,V,he),null!=I&&i_(V,he,x)}function sm(s){return bs(function qr(){return Nn.lFrame.contextLView}(),22+s)}function ju(s,a,c){const h=Mt();return Ko(h,an(),a)&&Qa(cr(),Zr(),h,s,a,h[11],c,!1),ju}function v_(s,a,c,h,m){const I=m?"class":"style";Lu(s,c,a.inputs[I],I,h)}function Ac(s,a,c,h){const m=Mt(),v=cr(),I=22+s,x=m[11],V=m[I]=pu(x,a,function $l(){return Nn.lFrame.currentNamespace}()),K=v.firstCreatePass?function y0(s,a,c,h,m,v,I){const x=a.consts,K=Al(a,s,2,m,Gi(x,v));return ih(a,c,K,Gi(x,I)),null!==K.attrs&&wd(K,K.attrs,!1),null!==K.mergedAttrs&&wd(K,K.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,K),K}(I,v,m,0,a,c,h):v.data[I];ws(K,!0);const re=K.mergedAttrs;null!==re&&ne(x,V,re);const he=K.classes;null!==he&&qf(x,V,he);const ke=K.styles;return null!==ke&&Kf(x,V,ke),64!=(64&K.flags)&&_u(v,m,V,K),0===function dc(){return Nn.lFrame.elementDepthCount}()&&is(V,m),function Jo(){Nn.lFrame.elementDepthCount++}(),po(K)&&(nf(v,m,K),function s0(s,a,c){if(Bs(a)){const m=a.directiveEnd;for(let v=a.directiveStart;v<m;v++){const I=s.data[v];I.contentQueries&&I.contentQueries(1,c[v],v)}}}(v,K,m)),null!==h&&i_(m,K),Ac}function ff(){let s=si();Va()?ma():(s=s.parent,ws(s,!1));const a=s;!function Xo(){Nn.lFrame.elementDepthCount--}();const c=cr();return c.firstCreatePass&&(al(c,s),Bs(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function jr(s){return 0!=(16&s.flags)}(a)&&v_(c,a,Mt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function O(s){return 0!=(32&s.flags)}(a)&&v_(c,a,Mt(),a.stylesWithoutHost,!1),ff}function pf(s,a,c,h){return Ac(s,a,c,h),ff(),pf}function om(){return Mt()}function b_(s){return!!s&&"function"==typeof s.then}function eu(s){return!!s&&"function"==typeof s.subscribe}const gf=eu;function w_(s,a,c,h){const m=Mt(),v=cr(),I=si();return function Vr(s,a,c,h,m,v,I,x){const V=po(h),re=s.firstCreatePass&&Jg(s),he=a[8],ke=Qg(a);let et=!0;if(3&h.type||x){const vn=vs(h,a),jn=x?x(vn):vn,sr=ke.length,Bt=x?Yi=>x(Si(Yi[h.index])):h.index;let yr=null;if(!x&&V&&(yr=function E_(s,a,c,h){const m=s.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const I=m[v];if(I===c&&m[v+1]===h){const x=a[7],V=m[v+2];return x.length>V?x[V]:null}"string"==typeof I&&(v+=2)}return null}(s,a,m,h.index)),null!==yr)(yr.__ngLastListenerFn__||yr).__ngNextListenerFn__=v,yr.__ngLastListenerFn__=v,et=!1;else{v=ev(h,a,he,v,!1);const Yi=c.listen(jn,m,v);ke.push(v,Yi),re&&re.push(m,Bt,sr,sr+1)}}else v=ev(h,a,he,v,!1);const St=h.outputs;let Qt;if(et&&null!==St&&(Qt=St[m])){const vn=Qt.length;if(vn)for(let jn=0;jn<vn;jn+=2){const ho=a[Qt[jn]][Qt[jn+1]].subscribe(v),kv=ke.length;ke.push(v,ho),re&&re.push(m,h.index,kv,-(kv+1))}}}(v,m,m[11],I,s,a,0,h),w_}function D_(s,a,c,h){try{return!1!==c(h)}catch(m){return u_(s,m),!1}}function ev(s,a,c,h,m){return function v(I){if(I===Function)return h;Yg(2&s.flags?Mi(s.index,a):a);let V=D_(a,0,h,I),K=v.__ngNextListenerFn__;for(;K;)V=D_(a,0,K,I)&&V,K=K.__ngNextListenerFn__;return m&&!1===V&&(I.preventDefault(),I.returnValue=!1),V}}function lh(s=1){return function rl(s){return(Nn.lFrame.contextLView=function il(s,a){for(;s>0;)a=a[15],s--;return a}(s,Nn.lFrame.contextLView))[8]}(s)}function am(s,a){let c=null;const h=function zv(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(s);for(let m=0;m<a.length;m++){const v=a[m];if("*"!==v){if(null===h?Kh(s,v,!0):ap(h,v))return m}else c=m}return c}function os(s){const a=Mt()[16][6];if(!a.projection){const h=a.projection=mc(s?s.length:1,null),m=h.slice();let v=a.child;for(;null!==v;){const I=s?am(v,s):0;null!==I&&(m[I]?m[I].projectionNext=v:h[I]=v,m[I]=v),v=v.next}}}function Fs(s,a=0,c){const h=Mt(),m=cr(),v=Al(m,22+s,16,null,c||null);null===v.projection&&(v.projection=a),ma(),64!=(64&v.flags)&&function ny(s,a,c){dr(a[11],0,a,c,Vc(s,c,a),kh(c.parent||a[6],c,a))}(m,h,v)}function rc(s,a,c){return Ap(s,"",a,"",c),rc}function Ap(s,a,c,h,m){const v=Mt(),I=df(v,a,c,h);return I!==wr&&Qa(cr(),Zr(),v,s,I,v[11],m,!1),Ap}function Is(s,a,c,h,m){const v=s[c+1],I=null===a;let x=h?Tl(v):qc(v),V=!1;for(;0!==x&&(!1===V||I);){const re=s[x+1];I_(s[x],a)&&(V=!0,s[x+1]=h?fp(re):Ay(re)),x=h?Tl(re):qc(re)}V&&(s[c+1]=h?Ay(v):fp(v))}function I_(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&ve(s,a)>=0}const xo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nv(s){return s.substring(xo.key,xo.keyEnd)}function rv(s,a){const c=xo.textEnd;return c===a?-1:(a=xo.keyEnd=function mf(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,xo.key=a,c),Td(s,a,c))}function Td(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function w0(s,a,c){return Ml(s,a,c,!1),w0}function ic(s,a){return Ml(s,a,null,!0),ic}function E0(s){!function ca(s,a,c,h){const m=cr(),v=pr(2);m.firstUpdatePass&&ch(m,null,v,h);const I=Mt();if(c!==wr&&Ko(I,v,c)){const x=m.data[Mr()];if(dm(x,h)&&!ov(m,v)){let V=h?x.classesWithoutHost:x.stylesWithoutHost;null!==V&&(c=We(V,c||"")),v_(m,x,I,c,h)}else!function lv(s,a,c,h,m,v,I,x){m===wr&&(m=bn);let V=0,K=0,re=0<m.length?m[0]:null,he=0<v.length?v[0]:null;for(;null!==re||null!==he;){const ke=V<m.length?m[V+1]:void 0,et=K<v.length?v[K+1]:void 0;let Qt,St=null;re===he?(V+=2,K+=2,ke!==et&&(St=he,Qt=et)):null===he||null!==re&&re<he?(V+=2,St=re):(K+=2,St=he,Qt=et),null!==St&&xl(s,a,c,h,St,Qt,I,x),re=V<m.length?m[V]:null,he=K<v.length?v[K]:null}}(m,x,I,I[11],I[v+1],I[v+1]=function lm(s,a,c){if(null==c||""===c)return bn;const h=[],m=oa(c);if(Array.isArray(m))for(let v=0;v<m.length;v++)s(h,m[v],!0);else if("object"==typeof m)for(const v in m)m.hasOwnProperty(v)&&s(h,v,m[v]);else"string"==typeof m&&a(h,m);return h}(s,a,c),h,v)}}(ee,tu,s,!0)}function tu(s,a){for(let c=function Bb(s){return function sv(s){xo.key=0,xo.keyEnd=0,xo.value=0,xo.valueEnd=0,xo.textEnd=s.length}(s),rv(s,Td(s,0,xo.textEnd))}(a);c>=0;c=rv(a,c))ee(s,nv(a),!0)}function Ml(s,a,c,h){const m=Mt(),v=cr(),I=pr(2);v.firstUpdatePass&&ch(v,s,I,h),a!==wr&&Ko(m,I,a)&&xl(v,v.data[Mr()],m,m[11],s,m[I+1]=function um(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Fe(oa(s)))),s}(a,c),h,I)}function ov(s,a){return a>=s.expandoStartIndex}function ch(s,a,c,h){const m=s.data;if(null===m[c+1]){const v=m[Mr()],I=ov(s,c);dm(v,h)&&null===a&&!I&&(a=!1),a=function uh(s,a,c,h){const m=function ea(s){const a=Nn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let v=h?a.residualClasses:a.residualStyles;if(null===m)0===(h?a.classBindings:a.styleBindings)&&(c=yf(c=A_(null,s,a,c,h),a.attrs,h),v=null);else{const I=a.directiveStylingLast;if(-1===I||s[I]!==m)if(c=A_(m,s,a,c,h),null===v){let V=function Rl(s,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==qc(h))return s[Tl(h)]}(s,a,h);void 0!==V&&Array.isArray(V)&&(V=A_(null,s,a,V[1],h),V=yf(V,a.attrs,h),function Op(s,a,c,h){s[Tl(c?a.classBindings:a.styleBindings)]=h}(s,a,h,V))}else v=function av(s,a,c){let h;const m=a.directiveEnd;for(let v=1+a.directiveStylingLast;v<m;v++)h=yf(h,s[v].hostAttrs,c);return yf(h,a.attrs,c)}(s,a,h)}return void 0!==v&&(h?a.residualClasses=v:a.residualStyles=v),c}(m,v,a,h),function Vw(s,a,c,h,m,v){let I=v?a.classBindings:a.styleBindings,x=Tl(I),V=qc(I);s[h]=c;let re,K=!1;if(Array.isArray(c)){const he=c;re=he[1],(null===re||ve(he,re)>0)&&(K=!0)}else re=c;if(m)if(0!==V){const ke=Tl(s[x+1]);s[h+1]=Zh(ke,x),0!==ke&&(s[ke+1]=Jm(s[ke+1],h)),s[x+1]=function n0(s,a){return 131071&s|a<<17}(s[x+1],h)}else s[h+1]=Zh(x,0),0!==x&&(s[x+1]=Jm(s[x+1],h)),x=h;else s[h+1]=Zh(V,0),0===x?x=h:s[V+1]=Jm(s[V+1],h),V=h;K&&(s[h+1]=Ay(s[h+1])),Is(s,re,h,!0),Is(s,re,h,!1),function Bw(s,a,c,h,m){const v=m?s.residualClasses:s.residualStyles;null!=v&&"string"==typeof a&&ve(v,a)>=0&&(c[h+1]=fp(c[h+1]))}(a,re,s,h,v),I=Zh(x,V),v?a.classBindings=I:a.styleBindings=I}(m,v,a,c,I,h)}}function A_(s,a,c,h,m){let v=null;const I=c.directiveEnd;let x=c.directiveStylingLast;for(-1===x?x=c.directiveStart:x++;x<I&&(v=a[x],h=yf(h,v.hostAttrs,m),v!==s);)x++;return null!==s&&(c.directiveStylingLast=x),h}function yf(s,a,c){const h=c?1:2;let m=-1;if(null!==a)for(let v=0;v<a.length;v++){const I=a[v];"number"==typeof I?m=I:m===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ee(s,I,!!c||a[++v]))}return void 0===s?null:s}function xl(s,a,c,h,m,v,I,x){if(!(3&a.type))return;const V=s.data,K=V[x+1];cm(function Ru(s){return 1==(1&s)}(K)?Ad(V,a,c,m,qc(K),I):void 0)||(cm(v)||function Sl(s){return 2==(2&s)}(K)&&(v=Ad(V,null,c,m,x,I)),function zf(s,a,c,h,m){if(a)m?s.addClass(c,h):s.removeClass(c,h);else{let v=-1===h.indexOf("-")?void 0:$s.DashCase;null==m?s.removeStyle(c,h,v):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),v|=$s.Important),s.setStyle(c,h,m,v))}}(h,I,Qs(Mr(),c),m,v))}function Ad(s,a,c,h,m,v){const I=null===a;let x;for(;m>0;){const V=s[m],K=Array.isArray(V),re=K?V[1]:V,he=null===re;let ke=c[m+1];ke===wr&&(ke=he?bn:void 0);let et=he?ue(ke,h):re===h?ke:void 0;if(K&&!cm(et)&&(et=ue(V,h)),cm(et)&&(x=et,I))return x;const St=s[m+1];m=I?Tl(St):qc(St)}if(null!==a){let V=v?a.residualClasses:a.residualStyles;null!=V&&(x=ue(V,h))}return x}function cm(s){return void 0!==s}function dm(s,a){return 0!=(s.flags&(a?16:32))}function qo(s,a=""){const c=Mt(),h=cr(),m=s+22,v=h.firstCreatePass?Al(h,m,1,a,null):h.data[m],I=c[m]=Hf(c[11],a);_u(h,c,I,v),ws(v,!1)}function N_(s){return vf("",s,""),N_}function vf(s,a,c){const h=Mt(),m=df(h,s,a,c);return m!==wr&&tc(h,Mr(),m),vf}function bf(s,a,c,h,m){const v=Mt(),I=function Cd(s,a,c,h,m,v){const x=Sc(s,te(),c,m);return pr(2),x?a+lt(c)+h+lt(m)+v:wr}(v,s,a,c,h,m);return I!==wr&&tc(v,Mr(),I),bf}function P_(s,a,c){const h=Mt();return Ko(h,an(),a)&&Qa(cr(),Zr(),h,s,a,h[11],c,!0),P_}const Up=void 0;var Nd=["en",[["a","p"],["AM","PM"],Up],[["AM","PM"],Up,Up],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Up,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Up,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Up,"{1} 'at' {0}",Up],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jw(s){const c=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let Ol={};function Hu(s){const a=function V_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=L_(a);if(c)return c;const h=a.split("-")[0];if(c=L_(h),c)return c;if("en"===h)return Nd;throw new Ye(701,!1)}function F_(s){return Hu(s)[Rn.PluralCase]}function L_(s){return s in Ol||(Ol[s]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[s]),Ol[s]}var Rn=(()=>((Rn=Rn||{})[Rn.LocaleId=0]="LocaleId",Rn[Rn.DayPeriodsFormat=1]="DayPeriodsFormat",Rn[Rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rn[Rn.DaysFormat=3]="DaysFormat",Rn[Rn.DaysStandalone=4]="DaysStandalone",Rn[Rn.MonthsFormat=5]="MonthsFormat",Rn[Rn.MonthsStandalone=6]="MonthsStandalone",Rn[Rn.Eras=7]="Eras",Rn[Rn.FirstDayOfWeek=8]="FirstDayOfWeek",Rn[Rn.WeekendRange=9]="WeekendRange",Rn[Rn.DateFormat=10]="DateFormat",Rn[Rn.TimeFormat=11]="TimeFormat",Rn[Rn.DateTimeFormat=12]="DateTimeFormat",Rn[Rn.NumberSymbols=13]="NumberSymbols",Rn[Rn.NumberFormats=14]="NumberFormats",Rn[Rn.CurrencyCode=15]="CurrencyCode",Rn[Rn.CurrencySymbol=16]="CurrencySymbol",Rn[Rn.CurrencyName=17]="CurrencyName",Rn[Rn.Currencies=18]="Currencies",Rn[Rn.Directionality=19]="Directionality",Rn[Rn.PluralCase=20]="PluralCase",Rn[Rn.ExtraData=21]="ExtraData",Rn))();const mh=["zero","one","two","few","many"],ua="en-US",jp={marker:"element"},_m={marker:"ICU"};var Bi=(()=>((Bi=Bi||{})[Bi.SHIFT=2]="SHIFT",Bi[Bi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Bi[Bi.COMMENT=2]="COMMENT",Bi))();let S0=ua;function Cf(s){(function Te(s,a){null==s&&Me(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(S0=s.toLowerCase().replace(/_/g,"-"))}function zb(s,a,c){const h=a.insertBeforeIndex,m=Array.isArray(h)?h[0]:h;return null===m?Om(s,0,c):Si(c[m])}function A0(s,a,c,h,m){const v=a.insertBeforeIndex;if(Array.isArray(v)){let I=h,x=null;if(3&a.type||(x=I,I=m),null!==I&&0==(2&a.flags))for(let V=1;V<v.length;V++)gu(s,I,c[v[V]],x,!1)}}function N0(s,a){if(s.push(a),s.length>1)for(let c=s.length-2;c>=0;c--){const h=s[c];M0(h)||vm(h,a)&&null===U_(h)&&j_(h,a.index)}}function M0(s){return!(64&s.type)}function vm(s,a){return M0(a)||s.index>a.index}function U_(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function j_(s,a){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=a:(sa(zb,A0),s.insertBeforeIndex=a)}function Hp(s,a){const c=s.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function R0(s,a,c){const h=_d(s,c,64,null,null);return N0(a,h),h}function bm(s,a){const c=a[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function gv(s){return s>>>17}function nu(s){return(131070&s)>>>1}let Nc=0,wm=0;function P0(s,a,c,h){const m=c[11];let I,v=null;for(let x=0;x<a.length;x++){const V=a[x];if("string"==typeof V){const K=a[++x];null===c[K]&&(c[K]=Hf(m,V))}else if("number"==typeof V)switch(1&V){case 0:const K=gv(V);let re,he;if(null===v&&(v=K,I=mu(m,h)),K===v?(re=h,he=I):(re=null,he=Si(c[K])),null!==he){const Qt=nu(V);gu(m,he,c[Qt],re,!1);const jn=Hp(s,Qt);if(null!==jn&&"object"==typeof jn){const sr=bm(jn,c);null!==sr&&P0(s,jn.create[sr],c,c[jn.anchorIdx])}}break;case 1:const et=a[++x],St=a[++x];Pu(m,Qs(V>>>1,c),null,null,et,St,null)}else switch(V){case _m:const K=a[++x],re=a[++x];null===c[re]&&is(c[re]=$f(m,K),c);break;case jp:const he=a[++x],ke=a[++x];null===c[ke]&&is(c[ke]=pu(m,he,null),c)}}}function k0(s,a,c,h,m){for(let v=0;v<c.length;v++){const I=c[v],x=c[++v];if(I&m){let V="";for(let K=v+1;K<=v+x;K++){const re=c[K];if("string"==typeof re)V+=re;else if("number"==typeof re)if(re<0)V+=lt(a[h-re]);else{const he=re>>>2;switch(3&re){case 1:const ke=c[++K],et=c[++K],St=s.data[he];"string"==typeof St?Pu(a[11],a[he],null,St,ke,V,et):Qa(s,St,a,ke,V,a[11],et,!1);break;case 0:const Qt=a[he];null!==Qt&&X_(a[11],Qt,V);break;case 2:$w(s,Hp(s,he),a,V);break;case 3:F0(s,Hp(s,he),h,a)}}}}else{const V=c[v+1];if(V>0&&3==(3&V)){const re=Hp(s,V>>>2);a[re.currentCaseLViewIndex]<0&&F0(s,re,h,a)}}v+=x}}function F0(s,a,c,h){let m=h[a.currentCaseLViewIndex];if(null!==m){let v=Nc;m<0&&(m=h[a.currentCaseLViewIndex]=~m,v=-1),k0(s,h,a.update[m],c,v)}}function $w(s,a,c,h){const m=function L0(s,a){let c=s.cases.indexOf(a);if(-1===c)switch(s.type){case 1:{const h=function B_(s,a){const c=F_(a)(parseInt(s,10)),h=mh[c];return void 0!==h?h:"other"}(a,function ym(){return S0}());c=s.cases.indexOf(h),-1===c&&"other"!==h&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(a,h);if(bm(a,c)!==m&&(Qb(s,a,c),c[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const I=c[a.anchorIdx];I&&P0(s,a.create[m],c,I)}}function Qb(s,a,c){let h=bm(a,c);if(null!==h){const m=a.remove[h];for(let v=0;v<m.length;v++){const I=m[v];if(I>0){const x=Qs(I,c);null!==x&&Wd(c[11],x)}else Qb(s,Hp(s,~I),c)}}}function Jb(){const s=[];let c,h,a=-1;function v(x,V){a=0;const K=bm(x,V);h=null!==K?x.remove[K]:bn}function I(){if(a<h.length){const x=h[a++];return x>0?c[x]:(s.push(a,h),v(c[1].data[~x],c),I())}return 0===s.length?null:(h=s.pop(),a=s.pop(),I())}return function m(x,V){for(c=V;s.length;)s.pop();return v(x.value,V),I}}const Gp=/\ufffd(\d+):?\d*\ufffd/gi,nw=/\ufffd(\d+)\ufffd/,sc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_v=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,B0=/\uE500/g;function Sa(s,a,c,h,m,v,I){const x=Qc(s,h,1,null);let V=x<<Bi.SHIFT,K=bo();a===K&&(K=null),null===K&&(V|=Bi.APPEND_EAGERLY),I&&(V|=Bi.COMMENT,function Hd(s){void 0===wc&&(wc=s())}(Jb)),m.push(V,null===v?"":v);const re=_d(s,x,I?32:1,null===v?"":v,null);N0(c,re);const he=re.index;return ws(re,!1),null!==K&&a!==K&&function qb(s,a){let c=s.insertBeforeIndex;null===c?(sa(zb,A0),c=s.insertBeforeIndex=[null,a]):(function ct(s,a,c){s!=a&&Me(c,s,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(K,he),re}function U0(s,a,c,h,m,v,I){const x=I.match(Gp),V=Sa(s,a,c,v,h,x?null:I,!1);x&&$u(m,I,V.index,null,0,null)}function $u(s,a,c,h,m,v){const I=s.length,x=I+1;s.push(null,null);const V=I+2,K=a.split(Gp);let re=0;for(let he=0;he<K.length;he++){const ke=K[he];if(1&he){const et=m+parseInt(ke,10);s.push(-1-et),re|=Aa(et)}else""!==ke&&s.push(ke)}return s.push(c<<2|(h?1:0)),h&&s.push(h,v),s[I]=re,s[x]=s.length-V,re}function Aa(s){return 1<<Math.min(s,31)}function Dm(s){let a,v,c="",h=0,m=!1;for(;null!==(a=_v.exec(s));)m?a[0]===`\ufffd/*${v}\ufffd`&&(h=a.index,m=!1):(c+=s.substring(h,a.index+a[0].length),v=a[1],m=!0);return c+=s.slice(h),c}function bh(s,a,c,h,m,v){let I=0;const x={type:m.type,currentCaseLViewIndex:Qc(s,a,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function iw(s,a,c){s.push(Aa(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,m,v),function Kb(s,a,c){const h=s.data[a];null===h?s.data[a]=c:h.value=c}(s,v,x);const V=m.values;for(let K=0;K<V.length;K++){const re=V[K],he=[];for(let ke=0;ke<re.length;ke++){const et=re[ke];if("string"!=typeof et){const St=he.push(et)-1;re[ke]=`\x3c!--\ufffd${St}\ufffd--\x3e`}}I=rw(s,x,a,c,h,m.cases[K],re.join(""),he)|I}I&&function zw(s,a,c){s.push(a,1,c<<2|3)}(c,I,v)}function vv(s){const a=[],c=[];let h=1,m=0;const v=Md(s=s.replace(sc,function(I,x,V){return h="select"===V?0:1,m=parseInt(x.slice(1),10),""}));for(let I=0;I<v.length;){let x=v[I++].trim();1===h&&(x=x.replace(/\s*(?:=)?(\w+)\s*/,"$1")),x.length&&a.push(x);const V=Md(v[I++]);a.length>c.length&&c.push(V)}return{type:h,mainBinding:m,cases:a,values:c}}function Md(s){if(!s)return[];let a=0;const c=[],h=[],m=/[{}]/g;let v;for(m.lastIndex=0;v=m.exec(s);){const x=v.index;if("}"==v[0]){if(c.pop(),0==c.length){const V=s.substring(a,x);sc.test(V)?h.push(vv(V)):h.push(V),a=x+1}}else{if(0==c.length){const V=s.substring(a,x);h.push(V),a=x+1}c.push("{")}}const I=s.substring(a);return h.push(I),h}function rw(s,a,c,h,m,v,I,x){const V=[],K=[],re=[];a.cases.push(v),a.create.push(V),a.remove.push(K),a.update.push(re);const ke=function ad(s){const a=new Jf(s);return function Lh(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new Fm(a):a}(function Zf(){return void 0!==ag?ag:typeof document<"u"?document:void 0}()).getInertBodyElement(I),et=function _g(s){return"content"in s&&function E(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(ke)||ke;return et?H0(s,a,c,h,V,K,re,et,m,x,0):0}function H0(s,a,c,h,m,v,I,x,V,K,re){let he=0,ke=x.firstChild;for(;ke;){const et=Qc(s,c,1,null);switch(ke.nodeType){case Node.ELEMENT_NODE:const St=ke,Qt=St.tagName.toLowerCase();if(ep.hasOwnProperty(Qt)){G0(m,jp,Qt,V,et),s.data[et]=Qt;const Bt=St.attributes;for(let yr=0;yr<Bt.length;yr++){const Yi=Bt.item(yr),ho=Yi.name.toLowerCase();Yi.value.match(Gp)?Gc.hasOwnProperty(ho)&&$u(I,Yi.value,et,Yi.name,0,ld[ho]?fg:null):W0(m,et,Yi)}he=H0(s,a,c,h,m,v,I,ke,et,K,re+1)|he,$0(v,et,re)}break;case Node.TEXT_NODE:const vn=ke.textContent||"",jn=vn.match(Gp);G0(m,null,jn?"":vn,V,et),$0(v,et,re),jn&&(he=$u(I,vn,et,null,0,null)|he);break;case Node.COMMENT_NODE:const sr=nw.exec(ke.textContent||"");if(sr){const yr=K[parseInt(sr[1],10)];G0(m,_m,"",V,et),bh(s,c,h,V,yr,et),wh(v,et,re)}}ke=ke.nextSibling}return he}function $0(s,a,c){0===c&&s.push(a)}function wh(s,a,c){0===c&&(s.push(~a),s.push(a))}function G0(s,a,c,h,m){null!==a&&s.push(a),s.push(c,m,function x0(s,a,c){return s|a<<17|c<<1}(0,h,m))}function W0(s,a,c){s.push(a<<1|1,c.name,c.value)}function el(s,a,c=-1){const h=cr(),m=Mt(),v=22+s,I=Gi(h.consts,a),x=bo();h.firstCreatePass&&function Mc(s,a,c,h,m,v){const I=bo(),x=[],V=[],K=[[]];m=function Wp(s,a){if(function Ww(s){return-1===s}(a))return Dm(s);{const c=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return Dm(s.substring(c,h))}}(m,v);const re=function vh(s){return s.replace(B0," ")}(m).split(yv);for(let he=0;he<re.length;he++){let ke=re[he];if(0==(1&he)){const et=Md(ke);for(let St=0;St<et.length;St++){let Qt=et[St];if(0==(1&St)){const vn=Qt;""!==vn&&U0(s,I,K[0],x,V,c,vn)}else{const vn=Qt;if("object"!=typeof vn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);bh(s,c,V,a,vn,Sa(s,I,K[0],c,x,"",!0).index)}}}else{const et=47===ke.charCodeAt(0),Qt=(ke.charCodeAt(et?1:0),22+Number.parseInt(ke.substring(et?2:1)));if(et)K.shift(),ws(bo(),!1);else{const vn=R0(s,K[0],Qt);K.unshift([]),ws(vn,!0)}}}s.data[h]={create:x,update:V}}(h,null===x?0:x.index,m,v,I,c);const V=h.data[v],re=Ds(h,x===m[6]?null:x,m);(function Yb(s,a,c,h){const m=s[11];for(let v=0;v<a.length;v++){const I=a[v++],x=a[v],V=(I&Bi.COMMENT)===Bi.COMMENT,K=(I&Bi.APPEND_EAGERLY)===Bi.APPEND_EAGERLY,re=I>>>Bi.SHIFT;let he=s[re];null===he&&(he=s[re]=V?m.createComment(x):Hf(m,x)),K&&null!==c&&gu(m,c,he,h,!1)}})(m,V.create,re,x&&8&x.type?m[x.index]:null),lo(!0)}function Ev(s,a,c){el(s,a,c),function zp(){lo(!1)}()}function Dv(s){return function O0(s){s&&(Nc|=1<<Math.min(wm,31)),wm++}(Ko(Mt(),an(),s)),Dv}function Z0(s){!function Zb(s,a,c){if(wm>0){const h=s.data[c];k0(s,a,Array.isArray(h)?h:h.update,te()-wm-1,Nc)}Nc=0,wm=0}(cr(),Mt(),s+22)}function Tv(s,a,c,h,m){if(s=Se(s),Array.isArray(s))for(let v=0;v<s.length;v++)Tv(s[v],a,c,h,m);else{const v=cr(),I=Mt();let x=ce(s)?s:Se(s.provide),V=Gm(s);const K=si(),re=1048575&K.providerIndexes,he=K.directiveStart,ke=K.providerIndexes>>20;if(ce(s)||!s.multi){const et=new Ha(V,m,hi),St=t(x,a,m?re:re+ke,he);-1===St?(ba(To(K,I),v,x),o(v,s,a.length),a.push(x),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),c.push(et),I.push(et)):(c[St]=et,I[St]=et)}else{const et=t(x,a,re+ke,he),St=t(x,a,re,re+ke),Qt=et>=0&&c[et],vn=St>=0&&c[St];if(m&&!vn||!m&&!Qt){ba(To(K,I),v,x);const jn=function b(s,a,c,h,m){const v=new Ha(s,c,hi);return v.multi=[],v.index=a,v.componentProviders=0,e(v,m,h&&!c),v}(m?d:l,c.length,m,h,V);!m&&vn&&(c[St].providerFactory=jn),o(v,s,a.length,0),a.push(x),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),c.push(jn),I.push(jn)}else o(v,s,et>-1?et:St,e(c[m?St:et],V,!m&&h));!m&&h&&vn&&c[St].componentProviders++}}}function o(s,a,c,h){const m=ce(a),v=function Um(s){return!!s.useClass}(a);if(m||v){const V=(v?Se(a.useClass):a).prototype.ngOnDestroy;if(V){const K=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const re=K.indexOf(c);-1===re?K.push(c,[h,V]):K[re+1].push(h,V)}else K.push(c,V)}}}function e(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function t(s,a,c,h){for(let m=c;m<h;m++)if(a[m]===s)return m;return-1}function l(s,a,c,h){return g(this.multi,[])}function d(s,a,c,h){const m=this.multi;let v;if(this.providerFactory){const I=this.providerFactory.componentProviders,x=pc(c,c[1],this.providerFactory.index,h);v=x.slice(0,I),g(m,v);for(let V=I;V<x.length;V++)v.push(x[V])}else v=[],g(m,v);return v}function g(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function R(s,a=[]){return c=>{c.providersResolver=(h,m)=>function Iv(s,a,c){const h=cr();if(h.firstCreatePass){const m=ds(s);Tv(c,h.data,h.blueprint,m,!0),Tv(a,h.data,h.blueprint,m,!1)}}(h,m?m(s):s,a)}}class H{}class q{}function ie(s,a){return new Ze(s,a??null)}class Ze extends H{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vy(this);const h=Bn(a);this._bootstrapComponents=Su(h.bootstrap),this._r3Injector=vy(a,c,[{provide:H,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],Fe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class yt extends q{constructor(a){super(),this.moduleType=a}create(a){return new Ze(this.moduleType,a)}}class Wt extends H{constructor(a,c,h){super(),this.componentFactoryResolver=new Vy(this),this.instance=null;const m=new Hm([...a,{provide:H,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],c||zc(),h,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function dn(s,a,c=null){return new Wt(s,a,c).injector}let wn=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const h=Yd(0,c.type),m=h.length>0?dn([h],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,m)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=st({token:s,providedIn:"environment",factory:()=>new s(es(Cc))}),s})();function Cr(s){s.getStandaloneInjector=a=>a.get(wn).getOrCreateStandaloneInjector(s)}function Qw(s,a,c,h){return function J0(s,a,c,h,m,v){const I=a+c;return Ko(s,I,m)?nc(s,I+1,v?h.call(v,m):h(m)):ji(s,I+1)}(Mt(),F(),s,a,c,h)}function Jw(s,a,c,h,m){return X0(Mt(),F(),s,a,c,h,m)}function Xw(s,a,c,h,m,v){return function nE(s,a,c,h,m,v,I,x){const V=a+c;return function g_(s,a,c,h,m){const v=Sc(s,a,c,h);return Ko(s,a+2,m)||v}(s,V,m,v,I)?nc(s,V+3,x?h.call(x,m,v,I):h(m,v,I)):ji(s,V+3)}(Mt(),F(),s,a,c,h,m,v)}function ji(s,a){const c=s[a];return c===wr?void 0:c}function X0(s,a,c,h,m,v,I){const x=a+c;return Sc(s,x,m,v)?nc(s,x+2,I?h.call(I,m,v):h(m,v)):ji(s,x+2)}function sE(s,a){const c=cr();let h;const m=s+22;c.firstCreatePass?(h=function lD(s,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(s===h.name)return h}}(a,c.pipeRegistry),c.data[m]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(m,h.onDestroy)):h=c.data[m];const v=h.factory||(h.factory=$i(h.type)),I=Br(hi);try{const x=Or(!1),V=v();return Or(x),function Sp(s,a,c,h){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=h}(c,Mt(),m,V),V}finally{Br(I)}}function aE(s,a,c,h){const m=s+22,v=Mt(),I=bs(v,m);return function Sv(s,a){return s[1].data[a].pure}(v,m)?X0(v,F(),a,I.transform,c,h,I):I.transform(c,h)}function aw(s){return a=>{setTimeout(s,void 0,a)}}const oc=class hD extends w.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){let m=a,v=c||(()=>null),I=h;if(a&&"object"==typeof a){const V=a;m=V.next?.bind(V),v=V.error?.bind(V),I=V.complete?.bind(V)}this.__isAsync&&(v=aw(v),m&&(m=aw(m)),I&&(I=aw(I)));const x=super.subscribe({next:m,error:v,complete:I});return a instanceof D.w0&&a.add(x),x}};function cE(){return this._results[Dd()]()}class eb{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Dd(),h=eb.prototype;h[c]||(h[c]=cE)}get changes(){return this._changes||(this._changes=new oc)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const m=fs(a);(this._changesDetected=!function ql(s,a,c){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let m=s[h],v=a[h];if(c&&(m=c(m),v=c(v)),v!==m)return!1}return!0}(h._results,m,c))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tf=(()=>{class s{}return s.__NG_ELEMENT_ID__=fD,s})();const Av=Tf,Pl=class extends Av{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a,c){const h=this._declarationTContainer.tViews,m=tf(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,c||null);m[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(m[19]=I.createEmbeddedView(h)),nh(h,m,a),new oh(m)}};function fD(){return tb(si(),Mt())}function tb(s,a){return 4&s.type?new Pl(a,s,Za(s,a)):null}let nb=(()=>{class s{}return s.__NG_ELEMENT_ID__=pD,s})();function pD(){return ib(si(),Mt())}const gD=nb,uE=class extends gD{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ga(this._hostTNode,this._hostLView);if(ir(a)){const c=Jn(a,this._hostLView),h=Qn(a);return new eo(c[1].data[h+8],c)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Nv(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){let m,v;"number"==typeof h?m=h:null!=h&&(m=h.index,v=h.injector);const I=a.createEmbeddedView(c||{},v);return this.insert(I,m),I}createComponent(a,c,h,m,v){const I=a&&!function pi(s){return"function"==typeof s}(a);let x;if(I)x=c;else{const he=c||{};x=he.index,h=he.injector,m=he.projectableNodes,v=he.environmentInjector||he.ngModuleRef}const V=I?a:new Vu(nt(a)),K=h||this.parentInjector;if(!v&&null==V.ngModule){const ke=(I?K:this.parentInjector).get(Cc,null);ke&&(v=ke)}const re=V.create(K,m,void 0,v);return this.insert(re.hostView,x),re}insert(a,c){const h=a._lView,m=h[1];if(function Ul(s){return ii(s[3])}(h)){const re=this.indexOf(a);if(-1!==re)this.detach(re);else{const he=h[3],ke=new uE(he,he[6],he[3]);ke.detach(ke.indexOf(a))}}const v=this._adjustIndex(c),I=this._lContainer;!function ey(s,a,c,h){const m=10+h,v=c.length;h>0&&(c[m-1][4]=a),h<v-10?(a[4]=c[m],su(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const I=a[17];null!==I&&c!==I&&function _l(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(I,a);const x=a[19];null!==x&&x.insertView(s),a[2]|=64}(m,h,I,v);const x=$o(v,I),V=h[11],K=mu(V,I[7]);return null!==K&&function sg(s,a,c,h,m,v){h[0]=m,h[6]=a,Fh(s,h,c,1,m,v)}(m,I[6],V,h,K,x),a.attachToViewContainerRef(),su(rb(I),v,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Nv(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=yl(this._lContainer,c);h&&(Wa(rb(this._lContainer),c),rd(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=yl(this._lContainer,c);return h&&null!=Wa(rb(this._lContainer),c)?new oh(h):null}_adjustIndex(a,c=0){return a??this.length+c}};function Nv(s){return s[8]}function rb(s){return s[8]||(s[8]=[])}function ib(s,a){let c;const h=a[s.index];if(ii(h))c=h;else{let m;if(8&s.type)m=Si(h);else{const v=a[11];m=v.createComment("");const I=vs(s,a);gu(v,mu(v,I),m,function xm(s,a){return s.nextSibling(a)}(v,I),!1)}a[s.index]=c=Fy(h,a,m,s),sh(a,c)}return new uE(c,s,a)}class Eh{constructor(a){this.queryList=a,this.matches=null}clone(){return new Eh(this.queryList)}setDirty(){this.queryList.setDirty()}}class sb{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,m=[];for(let v=0;v<h;v++){const I=c.getByIndex(v);m.push(this.queries[I.indexInDeclarationView].clone())}return new sb(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==fw(a,c).matches&&this.queries[c].setDirty()}}class dE{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class H_{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const m=null!==c?c.length:0,v=this.getByIndex(h).embeddedTView(a,m);v&&(v.indexInDeclarationView=h,null!==c?c.push(v):c=[v])}return null!==c?new H_(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class cw{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new cw(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const v=h[m];this.matchTNodeWithReadOption(a,c,_D(c,v)),this.matchTNodeWithReadOption(a,c,oi(c,a,v,!1,!1))}else h===Tf?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,oi(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===Dl||m===nb||m===Tf&&4&c.type)this.addMatch(c.index,-2);else{const v=oi(c,a,m,!1,!1);null!==v&&this.addMatch(c.index,v)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function _D(s,a){const c=s.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function vD(s,a,c,h){return-1===c?function yD(s,a){return 11&s.type?Za(s,a):4&s.type?tb(s,a):null}(a,s):-2===c?function bD(s,a,c){return c===Dl?Za(a,s):c===Tf?tb(a,s):c===nb?ib(a,s):void 0}(s,a,h):pc(s,s[1],c,a)}function hE(s,a,c,h){const m=a[19].queries[h];if(null===m.matches){const v=s.data,I=c.matches,x=[];for(let V=0;V<I.length;V+=2){const K=I[V];x.push(K<0?null:vD(a,v[K],I[V+1],c.metadata.read))}m.matches=x}return m.matches}function uw(s,a,c,h){const m=s.queries.getByIndex(c),v=m.matches;if(null!==v){const I=hE(s,a,m,c);for(let x=0;x<v.length;x+=2){const V=v[x];if(V>0)h.push(I[x/2]);else{const K=v[x+1],re=a[-V];for(let he=10;he<re.length;he++){const ke=re[he];ke[17]===ke[3]&&uw(ke[1],ke,K,h)}if(null!==re[9]){const he=re[9];for(let ke=0;ke<he.length;ke++){const et=he[ke];uw(et[1],et,K,h)}}}}}return h}function fE(s){const a=Mt(),c=cr(),h=nl();Wi(h+1);const m=fw(c,h);if(s.dirty&&function tl(s){return 4==(4&s[2])}(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const v=m.crossesNgTemplate?uw(c,a,h,[]):hE(c,a,m,h);s.reset(v,Ig),s.notifyOnChanges()}return!0}return!1}function pE(s,a,c){const h=cr();h.firstCreatePass&&(gE(h,new dE(s,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),hw(h,Mt(),a)}function Rc(s,a,c,h){const m=cr();if(m.firstCreatePass){const v=si();gE(m,new dE(a,c,h),v.index),function mE(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(m,s),2==(2&c)&&(m.staticContentQueries=!0)}hw(m,Mt(),c)}function ob(){return function dw(s,a){return s[19].queries[a].queryList}(Mt(),nl())}function hw(s,a,c){const h=new eb(4==(4&c));s_(s,a,h,h.destroy),null===a[19]&&(a[19]=new sb),a[19].queries.push(new Eh(h))}function gE(s,a,c){null===s.queries&&(s.queries=new H_),s.queries.track(new cw(a,c))}function fw(s,a){return s.queries.getByIndex(a)}function _E(s,a){return tb(s,a)}function xv(...s){}const AE=new Yr("Application Initializer");let pb=(()=>{class s{constructor(c){this.appInits=c,this.resolve=xv,this.reject=xv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const v=this.appInits[m]();if(b_(v))c.push(v);else if(gf(v)){const I=new Promise((x,V)=>{v.subscribe({complete:x,error:V})});c.push(I)}}Promise.all(c).then(()=>{h()}).catch(m=>{this.reject(m)}),0===c.length&&h(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(es(AE,8))},s.\u0275prov=st({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ew=new Yr("AppId",{providedIn:"root",factory:function gb(){return`${Dw()}${Dw()}${Dw()}`}});function Dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NE=new Yr("Platform Initializer"),RD=new Yr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ME=new Yr("appBootstrapListener");let OD=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=st({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const mb=new Yr("LocaleId",{providedIn:"root",factory:()=>Qp(mb,wt.Optional|wt.SkipSelf)||function RE(){return typeof $localize<"u"&&$localize.locale||ua}()}),xE=new Yr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class PE{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let kE=(()=>{class s{compileModuleSync(c){return new yt(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),v=Su(Bn(c).declarations).reduce((I,x)=>{const V=nt(x);return V&&I.push(new Vu(V)),I},[]);return new PE(h,v)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=st({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kD=(()=>Promise.resolve(0))();function Cw(s){typeof Zone>"u"?kD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ru{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oc(!1),this.onMicrotaskEmpty=new oc(!1),this.onStable=new oc(!1),this.onError=new oc(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&c,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function FD(){let s=cn.requestAnimationFrame,a=cn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function IC(s){const a=()=>{!function BE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(cn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,UE(s),s.isCheckStableRunning=!0,VE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),UE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,m,v,I,x)=>{try{return jE(s),c.invokeTask(m,v,I,x)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||s.shouldCoalesceRunChangeDetection)&&a(),HE(s)}},onInvoke:(c,h,m,v,I,x,V)=>{try{return jE(s),c.invoke(m,v,I,x,V)}finally{s.shouldCoalesceRunChangeDetection&&a(),HE(s)}},onHasTask:(c,h,m,v)=>{c.hasTask(m,v),h===m&&("microTask"==v.change?(s._hasPendingMicrotasks=v.microTask,UE(s),VE(s)):"macroTask"==v.change&&(s.hasPendingMacrotasks=v.macroTask))},onHandleError:(c,h,m,v)=>(c.handleError(m,v),s.runOutsideAngular(()=>s.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ru.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(ru.isInAngularZone())throw new Ye(909,!1)}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,m){const v=this._inner,I=v.scheduleEventTask("NgZoneEvent: "+m,a,LD,xv,xv);try{return v.runTask(I,c,h)}finally{v.cancelTask(I)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const LD={};function VE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function UE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function HE(s){s._nesting--,VE(s)}class _b{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oc,this.onMicrotaskEmpty=new oc,this.onStable=new oc,this.onError=new oc}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,m){return a.apply(c,h)}}const Iw=new Yr(""),Tw=new Yr("");let Aw,Nf=(()=>{class s{constructor(c,h,m){this._ngZone=c,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Aw||(function $E(s){Aw=s}(m),m.addToWindow(h)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ru.assertNotInAngularZone(),Cw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cw(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,m){let v=-1;h&&h>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:v,updateCb:m})}whenStable(c,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,h,m){return[]}}return s.\u0275fac=function(c){return new(c||s)(es(ru),es(Sw),es(Tw))},s.\u0275prov=st({token:s,factory:s.\u0275fac}),s})(),Sw=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return Aw?.findTestabilityInTree(this,c,h)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=st({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Kp=null;const GE=new Yr("AllowMultipleToken"),Nw=new Yr("PlatformDestroyListeners");class UD{constructor(a,c){this.name=a,this.token=c}}function $D(s,a,c=[]){const h=`Platform: ${a}`,m=new Yr(h);return(v=[])=>{let I=Mw();if(!I||I.injector.get(GE,!1)){const x=[...c,...v,{provide:m,useValue:!0}];s?s(x):function jD(s){if(Kp&&!Kp.get(GE,!1))throw new Ye(400,!1);Kp=s;const a=s.get(r);(function WE(s){const a=s.get(NE,null);a&&a.forEach(c=>c())})(s)}(function zE(s=[],a){return Nu.create({name:a,providers:[{provide:bg,useValue:"platform"},{provide:Nw,useValue:new Set([()=>Kp=null])},...s]})}(x,h))}return function GD(s){const a=Mw();if(!a)throw new Ye(401,!1);return a}()}}function Mw(){return Kp?.get(r)??null}let r=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const m=function n(s,a){let c;return c="noop"===s?new _b:("zone.js"===s?void 0:s)||new ru(a),c}(h?.ngZone,function i(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),v=[{provide:ru,useValue:m}];return m.run(()=>{const I=Nu.create({providers:v,parent:this.injector,name:c.moduleType.name}),x=c.create(I),V=x.injector.get(Hh,null);if(!V)throw new Ye(402,!1);return m.runOutsideAngular(()=>{const K=m.onError.subscribe({next:re=>{V.handleError(re)}});x.onDestroy(()=>{S(this._modules,x),K.unsubscribe()})}),function u(s,a,c){try{const h=c();return b_(h)?h.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(V,m,()=>{const K=x.injector.get(pb);return K.runInitializers(),K.donePromise.then(()=>(Cf(x.injector.get(mb,ua)||ua),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,h=[]){const m=f({},h);return function VD(s,a,c){const h=new yt(c);return Promise.resolve(h)}(0,0,c).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(c){const h=c.injector.get(y);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!c.instance.ngDoBootstrap)throw new Ye(403,!1);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const c=this._injector.get(Nw,null);c&&(c.forEach(h=>h()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(es(Nu))},s.\u0275prov=st({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function f(s,a){return Array.isArray(a)?a.reduce(f,s):{...s,...a}}let y=(()=>{class s{constructor(c,h,m){this._zone=c,this._injector=h,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new X.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),I=new X.y(x=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{ru.assertNotInAngularZone(),Cw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{V.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Ee.T)(v,I.pipe((0,Ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,h){const m=c instanceof Eg;if(!this._injector.get(pb).done)throw!m&&gn(c),new Ye(405,false);let I;I=m?c:this._injector.get(Cg).resolveComponentFactory(c),this.componentTypes.push(I.componentType);const x=function yb(s){return s.isBoundToModule}(I)?void 0:this._injector.get(H),K=I.create(Nu.NULL,[],h||I.selector,x),re=K.location.nativeElement,he=K.injector.get(Iw,null);return he?.registerApplication(re),K.onDestroy(()=>{this.detachView(K.hostView),S(this.components,K),he?.unregisterApplication(re)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;S(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ME,[]).concat(this._bootstrapListeners).forEach(m=>m(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>S(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(es(ru),es(Cc),es(Hh))},s.\u0275prov=st({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function S(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let Q=!0,oe=!1;function Ce(){return oe=!0,Q}function Oe(){if(oe)throw new Error("Cannot enable prod mode after platform setup.");Q=!1}let fn=(()=>{class s{}return s.__NG_ELEMENT_ID__=er,s})();function er(s){return function Zn(s,a,c){if(us(s)&&!c){const h=Mi(s.index,a);return new oh(h,h)}return 47&s.type?new oh(a[16],a):null}(si(),Mt(),16==(16&s))}class Of{constructor(){}supports(a){return uf(a)}create(a){return new bb(a)}}const Pv=(s,a)=>a;class bb{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Pv}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,m=0,v=null;for(;c||h;){const I=!h||c&&c.currentIndex<wb(h,m,v)?c:h,x=wb(I,m,v),V=I.currentIndex;if(I===h)m--,h=h._nextRemoved;else if(c=c._next,null==I.previousIndex)m++;else{v||(v=[]);const K=x-m,re=V-m;if(K!=re){for(let ke=0;ke<K;ke++){const et=ke<v.length?v[ke]:v[ke]=0,St=et+ke;re<=St&&St<K&&(v[ke]=et+1)}v[I.previousIndex]=re-K}}x!==V&&a(I,x,V)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!uf(a))throw new Ye(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,v,I,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let x=0;x<this.length;x++)v=a[x],I=this._trackByFn(x,v),null!==c&&Object.is(c.trackById,I)?(h&&(c=this._verifyReinsertion(c,v,I,x)),Object.is(c.item,v)||this._addIdentityChange(c,v)):(c=this._mismatch(c,v,I,x),h=!0),c=c._next}else m=0,function Gy(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Dd()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,x=>{I=this._trackByFn(m,x),null!==c&&Object.is(c.trackById,I)?(h&&(c=this._verifyReinsertion(c,x,I,m)),Object.is(c.item,x)||this._addIdentityChange(c,x)):(c=this._mismatch(c,x,I,m),h=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,m){let v;return null===a?v=this._itTail:(v=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,v,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,v,m)):a=this._addAfter(new Sm(c,h),v,m),a}_verifyReinsertion(a,c,h,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==v?a=this._reinsertAfter(v,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,v=a._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const m=null===c?this._itHead:c._next;return a._next=m,a._prev=c,null===m?this._itTail=a:m._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new qE),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Sm{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xw{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class qE{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new xw,this.map.set(c,h)),h.add(a)}get(a,c){const m=this.map.get(a);return m?m.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wb(s,a,c){const h=s.previousIndex;if(null===h)return h;let m=0;return c&&h<c.length&&(m=c[h]),h+a+m}class ZE{constructor(){}supports(a){return a instanceof Map||Wy(a)}create(){return new YE}}class YE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Wy(a)))throw new Ye(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const v=this._getOrCreateRecordForKey(m,h);c=this._insertBeforeOrAppend(c,v)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,c);const v=m._prev,I=m._next;return v&&(v._next=I),I&&(I._prev=v),m._next=null,m._prev=null,m}const h=new zD(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class zD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QE(){return new Eb([new Of])}let Eb=(()=>{class s{constructor(c){this.factories=c}static create(c,h){if(null!=h){const m=h.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:h=>s.create(c,h||QE()),deps:[[s,new cu,new lu]]}}find(c){const h=this.factories.find(m=>m.supports(c));if(null!=h)return h;throw new Ye(901,!1)}}return s.\u0275prov=st({token:s,providedIn:"root",factory:QE}),s})();function JE(){return new Ow([new ZE])}let Ow=(()=>{class s{constructor(c){this.factories=c}static create(c,h){if(h){const m=h.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:h=>s.create(c,h||JE()),deps:[[s,new cu,new lu]]}}find(c){const h=this.factories.find(m=>m.supports(c));if(h)return h;throw new Ye(901,!1)}}return s.\u0275prov=st({token:s,providedIn:"root",factory:JE}),s})();const Pw=$D(null,"core",[]);let XE=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(es(y))},s.\u0275mod=en({type:s}),s.\u0275inj=At({}),s})();function eD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function NC(s,a){const c=nt(s),h=a.elementInjector||zc();return new Vu(c).create(h,a.projectableNodes,a.hostElement,a.environmentInjector)}},6101:(Jt,Je,z)=>{z.d(Je,{Z:()=>Ye});var w=z(2090),D=z(4859),X=z(9752);z(1877);class Ne{constructor(lt,Xe){this._delegate=lt,this.firebase=Xe,(0,X._addComponent)(lt,new D.wA("app-compat",()=>this,"PUBLIC")),this.container=lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this._delegate.automaticDataCollectionEnabled=lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(lt=>{this._delegate.checkDestroyed(),lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(lt,Xe=X._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Vt=this._delegate.container.getProvider(lt);return!Vt.isInitialized()&&"EXPLICIT"===(null===(Be=Vt.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Vt.initialize(),Vt.getImmediate({identifier:Xe})}_removeServiceInstance(lt,Xe=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(lt).clearInstance(Xe)}_addComponent(lt){(0,X._addComponent)(this._delegate,lt)}_addOrOverwriteComponent(lt){(0,X._addOrOverwriteComponent)(this._delegate,lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function We(){const Lt=function Fe(Lt){const lt={},Xe={__esModule:!0,initializeApp:function mt(Dt,we={}){const ct=X.initializeApp(Dt,we);if((0,w.r3)(lt,ct.name))return lt[ct.name];const dt=new Lt(ct,Xe);return lt[ct.name]=dt,dt},app:Vt,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function ze(Dt){const we=Dt.name,ct=we.replace("-compat","");if(X._registerComponent(Dt)&&"PUBLIC"===Dt.type){const dt=(Tt=Vt())=>{if("function"!=typeof Tt[ct])throw Re.create("invalid-app-argument",{appName:we});return Tt[ct]()};void 0!==Dt.serviceProps&&(0,w.ZB)(dt,Dt.serviceProps),Xe[ct]=dt,Lt.prototype[ct]=function(...Tt){return this._getService.bind(this,we).apply(this,Dt.multipleInstances?Tt:[])}}return"PUBLIC"===Dt.type?Xe[ct]:null},removeApp:function Be(Dt){delete lt[Dt]},useAsService:function Ot(Dt,we){return"serverAuth"===we?null:we},modularAPIs:X}};function Vt(Dt){if(!(0,w.r3)(lt,Dt=Dt||X._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Dt});return lt[Dt]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function tt(){return Object.keys(lt).map(Dt=>lt[Dt])}}),Vt.App=Lt,Xe}(Ne);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function lt(Xe){(0,w.ZB)(Lt,Xe)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),Lt}const me=We();(0,w.jU)()&&void 0!==self.firebase&&self;const Ye=me},9752:(Jt,Je,z)=>{z.r(Je),z.d(Je,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>Te,_addComponent:()=>Et,_addOrOverwriteComponent:()=>st,_apps:()=>Ge,_clearComponents:()=>_n,_components:()=>qe,_getProvider:()=>At,_registerComponent:()=>Ut,_removeServiceInstance:()=>Zt,deleteApp:()=>lr,getApp:()=>hr,getApps:()=>vt,initializeApp:()=>zn,onLog:()=>nr,registerVersion:()=>kn,setLogLevel:()=>Br});var w=z(5861),D=z(4859),X=z(1877),Ee=z(2090);z(8766);const me=new X.Yd("@firebase/app"),Te="[DEFAULT]",Me={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ge=new Map,qe=new Map;function Et(ut,Ie){try{ut.container.addComponent(Ie)}catch(ht){me.debug(`Component ${Ie.name} failed to register with FirebaseApp ${ut.name}`,ht)}}function st(ut,Ie){ut.container.addOrOverwriteComponent(Ie)}function Ut(ut){const Ie=ut.name;if(qe.has(Ie))return me.debug(`There were multiple attempts to register component ${Ie}.`),!1;qe.set(Ie,ut);for(const ht of Ge.values())Et(ht,ut);return!0}function At(ut,Ie){const ht=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),ut.container.getProvider(Ie)}function Zt(ut,Ie,ht=Te){At(ut,Ie).clearInstance(ht)}function _n(){qe.clear()}const zt=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(Ie,ht,jt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new D.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Wn="9.23.0";function zn(ut,Ie={}){let ht=ut;"object"!=typeof Ie&&(Ie={name:Ie});const jt=Object.assign({name:Te,automaticDataCollectionEnabled:!1},Ie),Xt=jt.name;if("string"!=typeof Xt||!Xt)throw zt.create("bad-app-name",{appName:String(Xt)});if(ht||(ht=(0,Ee.aH)()),!ht)throw zt.create("no-options");const en=Ge.get(Xt);if(en){if((0,Ee.vZ)(ht,en.options)&&(0,Ee.vZ)(jt,en.config))return en;throw zt.create("duplicate-app",{appName:Xt})}const rr=new D.H0(Xt);for(const _e of qe.values())rr.addComponent(_e);const ye=new Dn(ht,jt,rr);return Ge.set(Xt,ye),ye}function hr(ut=Te){const Ie=Ge.get(ut);if(!Ie&&ut===Te&&(0,Ee.aH)())return zn();if(!Ie)throw zt.create("no-app",{appName:ut});return Ie}function vt(){return Array.from(Ge.values())}function lr(ut){return wt.apply(this,arguments)}function wt(){return(wt=(0,w.Z)(function*(ut){const Ie=ut.name;Ge.has(Ie)&&(Ge.delete(Ie),yield Promise.all(ut.container.getProviders().map(ht=>ht.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function kn(ut,Ie,ht){var jt;let Xt=null!==(jt=Me[ut])&&void 0!==jt?jt:ut;ht&&(Xt+=`-${ht}`);const en=Xt.match(/\s|\//),rr=Ie.match(/\s|\//);if(en||rr){const ye=[`Unable to register library "${Xt}" with version "${Ie}":`];return en&&ye.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),en&&rr&&ye.push("and"),rr&&ye.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void me.warn(ye.join(" "))}Ut(new D.wA(`${Xt}-version`,()=>({library:Xt,version:Ie}),"VERSION"))}function nr(ut,Ie){if(null!==ut&&"function"!=typeof ut)throw zt.create("invalid-log-argument");(0,X.Am)(ut,Ie)}function Br(ut){(0,X.Ub)(ut)}},8140:(Jt,Je,z)=>{z.d(Je,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=z(9752)},1274:(Jt,Je,z)=>{z.d(Je,{Z:()=>w.Z});var w=z(6101)},1146:(Jt,Je,z)=>{z.r(Je);var w=z(5861),D=z(6101),X=z(2090),Ee=z(9752);function Fe(E,p){var _={};for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&p.indexOf(C)<0&&(_[C]=E[C]);if(null!=E&&"function"==typeof Object.getOwnPropertySymbols){var j=0;for(C=Object.getOwnPropertySymbols(E);j<C.length;j++)p.indexOf(C[j])<0&&Object.prototype.propertyIsEnumerable.call(E,C[j])&&(_[C[j]]=E[C[j]])}return _}var Pt=z(1877);z(4859);function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const st=qe,Ut=new X.LL("auth","Firebase",qe()),Zt=new Pt.Yd("@firebase/auth");function pn(E,...p){Zt.logLevel<=Pt.in.ERROR&&Zt.error(`Auth (${Ee.SDK_VERSION}): ${E}`,...p)}function zt(E,...p){throw hr(E,...p)}function Dn(E,...p){return hr(E,...p)}function Wn(E,p,_){const C=Object.assign(Object.assign({},st()),{[p]:_});return new X.LL("auth","Firebase",C).create(p,{appName:E.name})}function zn(E,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&zt(E,"argument-error"),Wn(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hr(E,...p){if("string"!=typeof E){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(_,...C)}return Ut.create(E,...p)}function vt(E,p,..._){if(!E)throw hr(p,..._)}function lr(E){const p="INTERNAL ASSERTION FAILED: "+E;throw pn(p),new Error(p)}function wt(E,p){E||lr(p)}function kn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Br(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class fr{constructor(p,_){this.shortDelay=p,this.longDelay=_,wt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function ls(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nr(){return"http:"===Br()||"https:"===Br()}()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vr(E,p){wt(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Fn{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hn=new fr(3e4,6e4);function cn(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function Tn(E,p,_,C){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,w.Z)(function*(E,p,_,C,j={}){return on(E,j,(0,w.Z)(function*(){let J={},ge={};C&&("GET"===p?ge=C:J={body:JSON.stringify(C)});const Ue=(0,X.xO)(Object.assign({key:E.config.apiKey},ge)).slice(1),Nt=yield E._getAdditionalHeaders();return Nt["Content-Type"]="application/json",E.languageCode&&(Nt["X-Firebase-Locale"]=E.languageCode),Fn.fetch()(Li(E,E.config.apiHost,_,Ue),Object.assign({method:p,headers:Nt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function on(E,p,_){return bn.apply(this,arguments)}function bn(){return(bn=(0,w.Z)(function*(E,p,_){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},mn),p);try{const j=new or(E),J=yield Promise.race([_(),j.promise]);j.clearNetworkTimeout();const ge=yield J.json();if("needConfirmation"in ge)throw Ir(E,"account-exists-with-different-credential",ge);if(J.ok&&!("errorMessage"in ge))return ge;{const Ue=J.ok?ge.errorMessage:ge.error.message,[Nt,ft]=Ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw Ir(E,"credential-already-in-use",ge);if("EMAIL_EXISTS"===Nt)throw Ir(E,"email-already-in-use",ge);if("USER_DISABLED"===Nt)throw Ir(E,"user-disabled",ge);const nn=C[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Wn(E,nn,ft);zt(E,nn)}}catch(j){if(j instanceof X.ZR)throw j;zt(E,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function xr(E,p,_,C){return On.apply(this,arguments)}function On(){return(On=(0,w.Z)(function*(E,p,_,C,j={}){const J=yield Tn(E,p,_,C,j);return"mfaPendingCredential"in J&&zt(E,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Li(E,p,_,C){const j=`${p}${_}?${C}`;return E.config.emulator?vr(E.config,j):`${E.config.apiScheme}://${j}`}class or{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Dn(this.auth,"network-request-failed")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ir(E,p,_){const C={appName:E.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const j=Dn(E,p,C);return j.customData._tokenResponse=_,j}function ut(){return(ut=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ie(E,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jt(E,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function en(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function _e(){return(_e=(0,w.Z)(function*(E,p=!1){const _=(0,X.m9)(E),C=yield _.getIdToken(p),j=nt(C);vt(j&&j.exp&&j.auth_time&&j.iat,_.auth,"internal-error");const J="object"==typeof j.firebase?j.firebase:void 0,ge=J?.sign_in_provider;return{claims:j,token:C,authTime:en(Le(j.auth_time)),issuedAtTime:en(Le(j.iat)),expirationTime:en(Le(j.exp)),signInProvider:ge||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function Le(E){return 1e3*Number(E)}function nt(E){const[p,_,C]=E.split(".");if(void 0===p||void 0===_||void 0===C)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,X.tV)(_);return j?JSON.parse(j):(pn("Failed to decode base64 JWT payload"),null)}catch(j){return pn("Caught error parsing JWT payload as JSON",j?.toString()),null}}function Ht(E,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,w.Z)(function*(E,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof X.ZR&&Bn(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}function Bn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class tr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const j=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,w.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,w.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class fe{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function de(E){return se.apply(this,arguments)}function se(){return(se=(0,w.Z)(function*(E){var p;const _=E.auth,C=yield E.getIdToken(),j=yield Ht(E,jt(_,{idToken:C}));vt(j?.users.length,_,"internal-error");const J=j.users[0];E._notifyReloadListener(J);const ge=null!==(p=J.providerUserInfo)&&void 0!==p&&p.length?An(J.providerUserInfo):[],Ue=Yt(E.providerData,ge),nn=!!E.isAnonymous&&!(E.email&&J.passwordHash||Ue?.length),yn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Ue,metadata:new fe(J.createdAt,J.lastLoginAt),isAnonymous:nn};Object.assign(E,yn)})).apply(this,arguments)}function _t(){return(_t=(0,w.Z)(function*(E){const p=(0,X.m9)(E);yield de(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Yt(E,p){return[...E.filter(C=>!p.some(j=>j.providerId===C.providerId)),...p]}function An(E){return E.map(p=>{var{providerId:_}=p,C=Fe(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function kr(){return(kr=(0,w.Z)(function*(E,p){const _=yield on(E,{},(0,w.Z)(function*(){const C=(0,X.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:j,apiKey:J}=E.config,ge=Li(E,j,"/v1/token",`key=${J}`),Ue=yield E._getAdditionalHeaders();return Ue["Content-Type"]="application/x-www-form-urlencoded",Fn.fetch()(ge,{method:"POST",headers:Ue,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){vt(p.idToken,"internal-error"),vt(typeof p.idToken<"u","internal-error"),vt(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function $e(E){const p=nt(E);return vt(p,"internal-error"),vt(typeof p.exp<"u","internal-error"),vt(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,w.Z)(function*(){return vt(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,w.Z)(function*(){const{accessToken:j,refreshToken:J,expiresIn:ge}=yield function Ln(E,p){return kr.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(j,J,Number(ge))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:j,expirationTime:J}=_,ge=new vi;return C&&(vt("string"==typeof C,"internal-error",{appName:p}),ge.refreshToken=C),j&&(vt("string"==typeof j,"internal-error",{appName:p}),ge.accessToken=j),J&&(vt("number"==typeof J,"internal-error",{appName:p}),ge.expirationTime=J),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new vi,this.toJSON())}_performRefresh(){return lr("not implemented")}}function xn(E,p){vt("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class Tr{constructor(p){var{uid:_,auth:C,stsTokenManager:j}=p,J=Fe(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new fe(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,w.Z)(function*(){const C=yield Ht(_,_.stsTokenManager.getToken(_.auth,p));return vt(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function ye(E){return _e.apply(this,arguments)}(this,p)}reload(){return function je(E){return _t.apply(this,arguments)}(this)}_assign(p){this!==p&&(vt(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Tr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,w.Z)(function*(){let j=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),j=!0),_&&(yield de(C)),yield C.auth._persistUserIfCurrent(C),j&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,w.Z)(function*(){const _=yield p.getIdToken();return yield Ht(p,function ri(E,p){return ut.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,j,J,ge,Ue,Nt,ft,nn;const yn=null!==(C=_.displayName)&&void 0!==C?C:void 0,gr=null!==(j=_.email)&&void 0!==j?j:void 0,_i=null!==(J=_.phoneNumber)&&void 0!==J?J:void 0,wl=null!==(ge=_.photoURL)&&void 0!==ge?ge:void 0,Ca=null!==(Ue=_.tenantId)&&void 0!==Ue?Ue:void 0,Go=null!==(Nt=_._redirectEventId)&&void 0!==Nt?Nt:void 0,Bh=null!==(ft=_.createdAt)&&void 0!==ft?ft:void 0,yg=null!==(nn=_.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Yd,emailVerified:vg,isAnonymous:Mo,providerData:Uh,stsTokenManager:np}=_;vt(Yd&&np,p,"internal-error");const Dc=vi.fromJSON(this.name,np);vt("string"==typeof Yd,p,"internal-error"),xn(yn,p.name),xn(gr,p.name),vt("boolean"==typeof vg,p,"internal-error"),vt("boolean"==typeof Mo,p,"internal-error"),xn(_i,p.name),xn(wl,p.name),xn(Ca,p.name),xn(Go,p.name),xn(Bh,p.name),xn(yg,p.name);const Wc=new Tr({uid:Yd,auth:p,email:gr,emailVerified:vg,displayName:yn,isAnonymous:Mo,photoURL:wl,phoneNumber:_i,tenantId:Ca,stsTokenManager:Dc,createdAt:Bh,lastLoginAt:yg});return Uh&&Array.isArray(Uh)&&(Wc.providerData=Uh.map(ud=>Object.assign({},ud))),Go&&(Wc._redirectEventId=Go),Wc}static _fromIdTokenResponse(p,_,C=!1){return(0,w.Z)(function*(){const j=new vi;j.updateFromServerResponse(_);const J=new Tr({uid:_.localId,auth:p,stsTokenManager:j,isAnonymous:C});return yield de(J),J})()}}const Ii=new Map;function Sr(E){wt(E instanceof Function,"Expected a class definition");let p=Ii.get(E);return p?(wt(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,Ii.set(E,p),p)}function Ti(E,p,_){return`firebase:${E}:${p}:${_}`}function Po(E=(0,X.z$)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Qi(E=(0,X.z$)()){return/android/i.test(E)}function cs(E=(0,X.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Vs(E=(0,X.z$)()){return cs(E)||Qi(E)||function As(E=(0,X.z$)()){return/webos/i.test(E)}(E)||function ro(E=(0,X.z$)()){return/blackberry/i.test(E)}(E)||/windows phone/i.test(E)||function zs(E=(0,X.z$)()){return/iemobile/i.test(E)}(E)}function tn(E){return(0,X.m9)(E)}class $i{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return lr("not implemented")}_getIdTokenResponse(p){return lr("not implemented")}_linkToIdToken(p,_){return lr("not implemented")}_getReauthenticationResolver(p){return lr("not implemented")}}function qs(E,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _o(E,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:sendOobCode",cn(E,p))})).apply(this,arguments)}function wi(E,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,w.Z)(function*(E,p){return _o(E,p)})).apply(this,arguments)}function Si(E,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,w.Z)(function*(E,p){return _o(E,p)})).apply(this,arguments)}function bs(E,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,w.Z)(function*(E,p){return xr(E,"POST","/v1/accounts:signInWithIdp",cn(E,p))})).apply(this,arguments)}class Ri extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Ri(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):zt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:j}=_,J=Fe(_,["providerId","signInMethod"]);if(!C||!j)return null;const ge=new Ri(C,j);return ge.idToken=J.idToken||void 0,ge.accessToken=J.accessToken||void 0,ge.secret=J.secret,ge.nonce=J.nonce,ge.pendingToken=J.pendingToken||null,ge}_getIdTokenResponse(p){return bs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,bs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,bs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,X.xO)(_)}return p}}function Ul(E,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:sendVerificationCode",cn(E,p))})).apply(this,arguments)}function Ns(){return(Ns=(0,w.Z)(function*(E,p){return xr(E,"POST","/v1/accounts:signInWithPhoneNumber",cn(E,p))})).apply(this,arguments)}function jl(){return(jl=(0,w.Z)(function*(E,p){const _=yield xr(E,"POST","/v1/accounts:signInWithPhoneNumber",cn(E,p));if(_.temporaryProof)throw Ir(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const xc={USER_NOT_FOUND:"user-not-found"};function Jo(){return(Jo=(0,w.Z)(function*(E,p){return xr(E,"POST","/v1/accounts:signInWithPhoneNumber",cn(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),xc)})).apply(this,arguments)}class Xo extends $i{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Xo({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Xo({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Pi(E,p){return Ns.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Nn(E,p){return jl.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function dc(E,p){return Jo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:j}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:j}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:j,temporaryProof:J}=p;return C||_||j||J?new Xo({verificationId:_,verificationCode:C,phoneNumber:j,temporaryProof:J}):null}}class Ms{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Js extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class si extends Js{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return vt("providerId"in _&&"signInMethod"in _,"argument-error"),Ri._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return vt(p.idToken||p.accessToken,"argument-error"),Ri._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return si.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return si.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:j,pendingToken:J,nonce:ge,providerId:Ue}=p;if(!C&&!j&&!_&&!J||!Ue)return null;try{return new si(Ue)._credential({idToken:_,accessToken:C,nonce:ge,pendingToken:J})}catch{return null}}}let ga=(()=>{class E extends Js{constructor(){super("facebook.com")}static credential(_){return Ri._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),bo=(()=>{class E extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Ri._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:j}=_;if(!C&&!j)return null;try{return E.credential(C,j)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ws=(()=>{class E extends Js{constructor(){super("github.com")}static credential(_){return Ri._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class ma extends $i{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return bs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,bs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,bs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:j,pendingToken:J}=_;return C&&j&&J&&C===j?new ma(C,J):null}static _create(p,_){return new ma(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let W=(()=>{class E extends Js{constructor(){super("twitter.com")}static credential(_,C){return Ri._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:j}=_;if(!C||!j)return null;try{return E.credential(C,j)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();class te{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,j=!1){return(0,w.Z)(function*(){const J=yield Tr._fromIdTokenResponse(p,C,j),ge=rt(C);return new te({user:J,providerId:ge,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,w.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const j=rt(C);return new te({user:p,providerId:j,_tokenResponse:C,operationType:_})})()}}function rt(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class Rs extends X.ZR{constructor(p,_,C,j){var J;super(_.code,_.message),this.operationType=C,this.user=j,Object.setPrototypeOf(this,Rs.prototype),this.customData={appName:p.name,tenantId:null!==(J=p.tenantId)&&void 0!==J?J:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,j){return new Rs(p,_,C,j)}}function lo(E,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Rs._fromErrorAndOperation(E,J,p,C):J})}function wo(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function Xi(){return(Xi=(0,w.Z)(function*(E,p){const _=(0,X.m9)(E);yield Wi(!0,_,p);const{providerUserInfo:C}=yield Ie(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),j=wo(C||[]);return _.providerData=_.providerData.filter(J=>j.has(J.providerId)),j.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ea(E,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,w.Z)(function*(E,p,_=!1){const C=yield Ht(E,p._linkToIdToken(E.auth,yield E.getIdToken()),_);return te._forOperation(E,"link",C)})).apply(this,arguments)}function Wi(E,p,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,w.Z)(function*(E,p,_){yield de(p);const j=!1===E?"provider-already-linked":"no-such-provider";vt(wo(p.providerData).has(_)===E,p.auth,j)})).apply(this,arguments)}function Fo(E,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,w.Z)(function*(E,p,_=!1){const{auth:C}=E,j="reauthenticate";try{const J=yield Ht(E,lo(C,j,p,E),_);vt(J.idToken,C,"internal-error");const ge=nt(J.idToken);vt(ge,C,"internal-error");const{sub:Ue}=ge;return vt(E.uid===Ue,C,"user-mismatch"),te._forOperation(E,j,J)}catch(J){throw"auth/user-not-found"===J?.code&&zt(C,"user-mismatch"),J}})).apply(this,arguments)}function ya(){return(ya=(0,w.Z)(function*(E,p,_=!1){const C="signIn",j=yield lo(E,C,p),J=yield te._fromIdTokenResponse(E,C,j);return _||(yield E._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Lo(E,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,w.Z)(function*(E,p){const _=(0,X.m9)(E);return yield Wi(!1,_,p.providerId),ea(_,p)})).apply(this,arguments)}function il(E,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,w.Z)(function*(E,p){return Fo((0,X.m9)(E),p)})).apply(this,arguments)}class Vo{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Hl._fromServerResponse(p,_):"totpInfo"in _?$l._fromServerResponse(p,_):zt(p,"internal-error")}}class Hl extends Vo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Hl(_)}}class $l extends Vo{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new $l(_)}}function js(E,p,_){var C;vt((null===(C=_.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),vt(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(vt(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(vt(_.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function $n(){return($n=(0,w.Z)(function*(E,p){const _=(0,X.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&js(_.auth,j,p);const{email:J}=yield wi(_.auth,j);J!==E.email&&(yield E.reload())})).apply(this,arguments)}function di(){return(di=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};_&&js(C.auth,J,_);const{email:ge}=yield Si(C.auth,J);ge!==E.email&&(yield E.reload())})).apply(this,arguments)}function Or(E,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,w.Z)(function*(E,p){return Tn(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zi(){return(zi=(0,w.Z)(function*(E,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,X.m9)(E),J={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},ge=yield Ht(C,Or(C.auth,J));C.displayName=ge.displayName||null,C.photoURL=ge.photoUrl||null;const Ue=C.providerData.find(({providerId:Nt})=>"password"===Nt);Ue&&(Ue.displayName=C.displayName,Ue.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ge)})).apply(this,arguments)}function na(E,p,_){return To.apply(this,arguments)}function To(){return(To=(0,w.Z)(function*(E,p,_){const{auth:C}=E,J={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(J.email=p),_&&(J.password=_);const ge=yield Ht(E,qs(C,J));yield E._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class va{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class Ga extends va{constructor(p,_,C,j){super(p,_,C),this.username=j}}class ba extends va{constructor(p,_){super(p,"facebook.com",_)}}class Ch extends Ga{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class iu extends va{constructor(p,_){super(p,"google.com",_)}}class Xs extends Ga{constructor(p,_,C){super(p,"twitter.com",_,C)}}function fc(E){const{user:p,_tokenResponse:_}=E;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ul(E){var p,_;if(!E)return null;const{providerId:C}=E,j=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},J=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!C&&E?.idToken){const ge=null===(_=null===(p=nt(E.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(ge)return new va(J,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!C)return null;switch(C){case"facebook.com":return new ba(J,j);case"github.com":return new Ch(J,j);case"google.com":return new iu(J,j);case"twitter.com":return new Xs(J,j,E.screenName||null);case"custom":case"anonymous":return new va(J,null);default:return new va(J,C,j)}}(_)}class En{constructor(p,_,C){this.type=p,this.credential=_,this.auth=C}static _fromIdtoken(p,_){return new En("enroll",p,_)}static _fromMfaPendingCredential(p){return new En("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return En._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return En._fromIdtoken(p.multiFactorSession.idToken)}return null}}class kd{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=tn(p),j=_.customData._serverResponse,J=(j.mfaInfo||[]).map(Ue=>Vo._fromServerResponse(C,Ue));vt(j.mfaPendingCredential,C,"internal-error");const ge=En._fromMfaPendingCredential(j.mfaPendingCredential);return new kd(ge,J,function(){var Ue=(0,w.Z)(function*(Nt){const ft=yield Nt._process(C,ge);delete j.mfaInfo,delete j.mfaPendingCredential;const nn=Object.assign(Object.assign({},j),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(_.operationType){case"signIn":const yn=yield te._fromIdTokenResponse(C,_.operationType,nn);return yield C._updateCurrentUser(yn.user),yn;case"reauthenticate":return vt(_.user,C,"internal-error"),te._forOperation(_.user,_.operationType,nn);default:zt(C,"internal-error")}});return function(Nt){return Ue.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,w.Z)(function*(){return _.signInResolver(p)})()}}function it(E,p){return Tn(E,"POST","/v2/accounts/mfaEnrollment:start",cn(E,p))}class So{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Vo._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new So(p)}getSession(){var p=this;return(0,w.Z)(function*(){return En._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var C=this;return(0,w.Z)(function*(){const j=p,J=yield C.getSession(),ge=yield Ht(C.user,j._process(C.user.auth,J,_));return yield C.user._updateTokensIfNecessary(ge),C.user.reload()})()}unenroll(p){var _=this;return(0,w.Z)(function*(){const C="string"==typeof p?p:p.uid,j=yield _.user.getIdToken();try{const J=yield Ht(_.user,function Es(E,p){return Tn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(E,p))}(_.user.auth,{idToken:j,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ge})=>ge!==C),yield _.user._updateTokensIfNecessary(J),yield _.user.reload()}catch(J){throw J}})()}}const ra=new WeakMap;class Yr{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kn=(()=>{class E extends Yr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zu(){const E=(0,X.z$)();return Po(E)||cs(E)}()&&function Rr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vs(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const j=this.storage.getItem(C),J=this.localCache[C];j!==J&&_(C,J,j)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Ue,Nt,ft)=>{this.notifyListeners(Ue,ft)});const j=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ue=this.storage.getItem(j);if(_.newValue!==Ue)null!==_.newValue?this.storage.setItem(j,_.newValue):this.storage.removeItem(j);else if(this.localCache[j]===_.newValue&&!C)return}const J=()=>{const Ue=this.storage.getItem(j);!C&&this.localCache[j]===Ue||this.notifyListeners(j,Ue)},ge=this.storage.getItem(j);!function Lr(){return(0,X.w1)()&&10===document.documentMode}()||ge===_.newValue||_.newValue===_.oldValue?J():setTimeout(J,10)}notifyListeners(_,C){this.localCache[_]=C;const j=this.listeners[_];if(j)for(const J of Array.from(j))J(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var j=()=>super._set,J=this;return(0,w.Z)(function*(){yield j().call(J,_,C),J.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,j=this;return(0,w.Z)(function*(){const J=yield C().call(j,_);return j.localCache[_]=JSON.stringify(J),J})()}_remove(_){var C=()=>super._remove,j=this;return(0,w.Z)(function*(){yield C().call(j,_),delete j.localCache[_]})()}}return E.type="LOCAL",E})(),dl=(()=>{class E extends Yr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return E.type="SESSION",E})();function hl(E="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return E+_}function ai(){return window}function za(E,p){return Tn(E,"POST","/v2/accounts/mfaSignIn:start",cn(E,p))}const es="recaptcha";class Pc{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Xo._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ts(){return(ts=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E);yield Wi(!1,C,"phone");const j=yield cu(C.auth,p,(0,X.m9)(_));return new Pc(j,J=>Lo(C,J))})).apply(this,arguments)}function Vf(){return(Vf=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E),j=yield cu(C.auth,p,(0,X.m9)(_));return new Pc(j,J=>il(C,J))})).apply(this,arguments)}function cu(E,p,_){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,w.Z)(function*(E,p,_){var C;const j=yield _.verify();try{let J;if(vt("string"==typeof j,E,"argument-error"),vt(_.type===es,E,"argument-error"),J="string"==typeof p?{phoneNumber:p}:p,"session"in J){const ge=J.session;if("phoneNumber"in J)return vt("enroll"===ge.type,E,"internal-error"),(yield it(E,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{vt("signin"===ge.type,E,"internal-error");const Ue=(null===(C=J.multiFactorHint)||void 0===C?void 0:C.uid)||J.multiFactorUid;return vt(Ue,E,"missing-multi-factor-info"),(yield za(E,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Ue,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield Ul(E,{phoneNumber:J.phoneNumber,recaptchaToken:j});return ge}}finally{_._reset()}})).apply(this,arguments)}function _c(){return(_c=(0,w.Z)(function*(E,p){yield ea((0,X.m9)(E),p)})).apply(this,arguments)}let kc=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=tn(_)}verifyPhoneNumber(_,C){return cu(this.auth,_,(0,X.m9)(C))}static credential(_,C){return Xo._fromVerification(_,C)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:j}=_;return C&&j?Xo._fromTokenResponse(C,j):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Zl(E,p){return p?Sr(p):(vt(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Qu extends $i{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return bs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return bs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return bs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Bf(E){return function _a(E,p){return ya.apply(this,arguments)}(E.auth,new Qu(E),E.bypassAuthState)}function yc(E){const{auth:p,user:_}=E;return vt(_,p,"internal-error"),Fo(_,new Qu(E),E.bypassAuthState)}function uu(E){return Th.apply(this,arguments)}function Th(){return(Th=(0,w.Z)(function*(E){const{auth:p,user:_}=E;return vt(_,p,"internal-error"),ea(_,new Qu(E),E.bypassAuthState)})).apply(this,arguments)}class Sh{constructor(p,_,C,j,J=!1){this.auth=p,this.resolver=C,this.user=j,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,w.Z)(function*(C,j){p.pendingPromise={resolve:C,reject:j};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(J){p.reject(J)}});return function(C,j){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,w.Z)(function*(){const{urlResponse:C,sessionId:j,postBody:J,tenantId:ge,error:Ue,type:Nt}=p;if(Ue)return void _.reject(Ue);const ft={auth:_.auth,requestUri:C,sessionId:j,tenantId:ge||void 0,postBody:J||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Nt)(ft))}catch(nn){_.reject(nn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Bf;case"linkViaPopup":case"linkViaRedirect":return uu;case"reauthViaPopup":case"reauthViaRedirect":return yc;default:zt(this.auth,"internal-error")}}resolve(p){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ks=new fr(2e3,1e4);function mi(){return(mi=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E);zn(C.auth,p,Ms);const j=Zl(C.auth,_);return new li(C.auth,"reauthViaPopup",p,j,C).executeNotNull()})).apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E);zn(C.auth,p,Ms);const j=Zl(C.auth,_);return new li(C.auth,"linkViaPopup",p,j,C).executeNotNull()})).apply(this,arguments)}let li=(()=>{class E extends Sh{constructor(_,C,j,J,ge){super(_,C,J,ge),this.provider=j,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,w.Z)(function*(){const C=yield _.execute();return vt(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,w.Z)(function*(){wt(1===_.filter.length,"Popup operations only handle one event");const C=hl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(j=>{_.reject(j)}),_.resolver._isIframeWebStorageSupported(_.auth,j=>{j||_.reject(Dn(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,j;this.pollId=null!==(j=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ks.get())};_()}}return E.currentPopupAction=null,E})();const ia=new Map;class jo extends Sh{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,w.Z)(function*(){let C=ia.get(_.auth._key());if(!C){try{const J=(yield function Xu(E,p){return Ah.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(J)}catch(j){C=()=>Promise.reject(j)}ia.set(_.auth._key(),C)}return _.bypassAuthState||ia.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,w.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const j=yield C.auth._redirectUserForId(p.eventId);if(j)return C.user=j,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Ah(){return(Ah=(0,w.Z)(function*(E,p){const _=du(p),C=vc(E);if(!(yield C._isAvailable()))return!1;const j="true"===(yield C._get(_));return yield C._remove(_),j})).apply(this,arguments)}function rs(E,p){return jf.apply(this,arguments)}function jf(){return(jf=(0,w.Z)(function*(E,p){return vc(E)._set(du(p),"true")})).apply(this,arguments)}function ps(E,p){ia.set(E._key(),p)}function vc(E){return Sr(E._redirectPersistence)}function du(E){return Ti("pendingRedirect",E.config.apiKey,E.name)}function ed(){return(ed=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E);zn(C.auth,p,Ms),yield C.auth._initializationPromise;const j=Zl(C.auth,_);yield rs(j,C.auth);const J=yield M(C);return j._openRedirect(C.auth,p,"reauthViaRedirect",J)})).apply(this,arguments)}function fu(){return(fu=(0,w.Z)(function*(E,p,_){const C=(0,X.m9)(E);zn(C.auth,p,Ms),yield C.auth._initializationPromise;const j=Zl(C.auth,_);yield Wi(!1,C,p.providerId),yield rs(j,C.auth);const J=yield M(C);return j._openRedirect(C.auth,p,"linkViaRedirect",J)})).apply(this,arguments)}function $s(E,p){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,w.Z)(function*(E,p,_=!1){const C=tn(E),j=Zl(C,p),ge=yield new jo(C,j,_).execute();return ge&&!_&&(delete ge.user._redirectEventId,yield C._persistUserIfCurrent(ge.user),yield C._setRedirectUser(null,p)),ge})).apply(this,arguments)}function M(E){return k.apply(this,arguments)}function k(){return(k=(0,w.Z)(function*(E){const p=hl(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class le{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function pt(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return He(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!He(p)){const j=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Dn(this.auth,j))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xe(p))}saveEventToCache(p){this.cachedEventUids.add(xe(p)),this.lastProcessedEventTime=Date.now()}}function xe(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function He({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===p?.code}function Gt(E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,w.Z)(function*(E,p={}){return Tn(E,"GET","/v1/projects",p)})).apply(this,arguments)}const Sn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mn=/^https?/;function uo(){return(uo=(0,w.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield Gt(E);for(const _ of p)try{if($r(_))return}catch{}zt(E,"unauthorized-domain")})).apply(this,arguments)}function $r(E){const p=kn(),{protocol:_,hostname:C}=new URL(p);if(E.startsWith("chrome-extension://")){const ge=new URL(E);return""===ge.hostname&&""===C?"chrome-extension:"===_&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&ge.hostname===C}if(!Mn.test(_))return!1;if(Sn.test(E))return C===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(C)}const is=new fr(3e4,6e4);function ci(){const E=ai().___jsl;if(E?.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let Gs=null;function gl(E){return Gs=Gs||function to(E){return new Promise((p,_)=>{var C,j,J;function ge(){ci(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ci(),_(Dn(E,"network-request-failed"))},timeout:is.get()})}if(null!==(j=null===(C=ai().gapi)||void 0===C?void 0:C.iframes)&&void 0!==j&&j.Iframe)p(gapi.iframes.getContext());else{if(null===(J=ai().gapi)||void 0===J||!J.load){const Ue=function Ur(E){return`__${E}${Math.floor(1e6*Math.random())}`}("iframefcb");return ai()[Ue]=()=>{gapi.load?ge():_(Dn(E,"network-request-failed"))},function cc(E){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=p,C.onerror=j=>{const J=Dn("internal-error");J.customData=j,_(J)},C.type="text/javascript",C.charset="UTF-8",function Ks(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${Ue}`).catch(Nt=>_(Nt))}ge()}}).catch(p=>{throw Gs=null,p})}(E),Gs}const bc=new fr(5e3,15e3),Gr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ml(E){const p=E.config;vt(p.authDomain,E,"auth-domain-config-required");const _=p.emulator?vr(p,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:E.name,v:Ee.SDK_VERSION},j=Qr.get(E.config.apiHost);j&&(C.eid=j);const J=E._getFrameworks();return J.length&&(C.fw=J.join(",")),`${_}?${(0,X.xO)(C).slice(1)}`}function wc(){return wc=(0,w.Z)(function*(E){const p=yield gl(E),_=ai().gapi;return vt(_,E,"internal-error"),p.open({where:document.body,url:ml(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gr,dontclear:!0},C=>new Promise(function(){var j=(0,w.Z)(function*(J,ge){yield C.restyle({setHideOnLeave:!1});const Ue=Dn(E,"network-request-failed"),Nt=ai().setTimeout(()=>{ge(Ue)},bc.get());function ft(){ai().clearTimeout(Nt),J(C)}C.ping(ft).then(ft,()=>{ge(Ue)})});return function(J,ge){return j.apply(this,arguments)}}()))}),wc.apply(this,arguments)}const Mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Q_{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fv(E,p,_,C=500,j=600){const J=Math.max((window.screen.availHeight-j)/2,0).toString(),ge=Math.max((window.screen.availWidth-C)/2,0).toString();let Ue="";const Nt=Object.assign(Object.assign({},Mh),{width:C.toString(),height:j.toString(),top:J,left:ge}),ft=(0,X.z$)().toLowerCase();_&&(Ue=function ur(E=(0,X.z$)()){return/crios\//i.test(E)}(ft)?"_blank":_),function fo(E=(0,X.z$)()){return/firefox\//i.test(E)}(ft)&&(p=p||"http://localhost",Nt.scrollbars="yes");const nn=Object.entries(Nt).reduce((gr,[_i,wl])=>`${gr}${_i}=${wl},`,"");if(function Oi(E=(0,X.z$)()){var p;return cs(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==Ue)return function Mm(E,p){const _=document.createElement("a");_.href=E,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",Ue),new Q_(null);const yn=window.open(p||"",Ue,nn);vt(yn,E,"popup-blocked");try{yn.focus()}catch{}return new Q_(yn)}const Lv=encodeURIComponent("fac");function nd(E,p,_,C,j,J){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,w.Z)(function*(E,p,_,C,j,J){vt(E.config.authDomain,E,"auth-domain-config-required"),vt(E.config.apiKey,E,"invalid-api-key");const ge={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:C,v:Ee.SDK_VERSION,eventId:j};if(p instanceof Ms){p.setDefaultLanguage(E.languageCode),ge.providerId=p.providerId||"",(0,X.xb)(p.getCustomParameters())||(ge.customParameters=JSON.stringify(p.getCustomParameters()));for(const[nn,yn]of Object.entries(J||{}))ge[nn]=yn}if(p instanceof Js){const nn=p.getScopes().filter(yn=>""!==yn);nn.length>0&&(ge.scopes=nn.join(","))}E.tenantId&&(ge.tid=E.tenantId);const Ue=ge;for(const nn of Object.keys(Ue))void 0===Ue[nn]&&delete Ue[nn];const Nt=yield E._getAppCheckToken(),ft=Nt?`#${Lv}=${encodeURIComponent(Nt)}`:"";return`${X_(E)}?${(0,X.xO)(Ue).slice(1)}${ft}`})).apply(this,arguments)}function X_({config:E}){return E.emulator?vr(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}const $f="webStorageSupport";function vl(){return window}function kh(){return(kh=(0,w.Z)(function*(E,p,_){var C;const{BuildInfo:j}=vl();wt(p.sessionId,"AuthEvent did not contain a session ID");const J=yield Wf(p.sessionId),ge={};return cs()?ge.ibi=j.packageName:Qi()?ge.apn=j.packageName:zt(E,"operation-not-supported-in-this-environment"),j.displayName&&(ge.appDisplayName=j.displayName),ge.sessionId=J,nd(E,_,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,ge)})).apply(this,arguments)}function bl(){return(bl=(0,w.Z)(function*(E){const{BuildInfo:p}=vl(),_={};cs()?_.iosBundleId=p.packageName:Qi()?_.androidPackageName=p.packageName:zt(E,"operation-not-supported-in-this-environment"),yield Gt(E,_)})).apply(this,arguments)}function _u(){return(_u=(0,w.Z)(function*(E,p,_){const{cordova:C}=vl();let j=()=>{};try{yield new Promise((J,ge)=>{let Ue=null;function Nt(){var yn;J();const gr=null===(yn=C.plugins.browsertab)||void 0===yn?void 0:yn.close;"function"==typeof gr&&gr(),"function"==typeof _?.close&&_.close()}function ft(){Ue||(Ue=window.setTimeout(()=>{ge(Dn(E,"redirect-cancelled-by-user"))},2e3))}function nn(){"visible"===document?.visibilityState&&ft()}p.addPassiveListener(Nt),document.addEventListener("resume",ft,!1),Qi()&&document.addEventListener("visibilitychange",nn,!1),j=()=>{p.removePassiveListener(Nt),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",nn,!1),Ue&&window.clearTimeout(Ue)}})}finally{j()}})).apply(this,arguments)}function Wf(E){return $o.apply(this,arguments)}function $o(){return($o=(0,w.Z)(function*(E){const p=Wd(E),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wd(E){if(wt(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const p=new ArrayBuffer(E.length),_=new Uint8Array(p);for(let C=0;C<E.length;C++)_[C]=E.charCodeAt(C);return _}class Fh extends le{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,w.Z)(function*(){yield p.initPromise})()}}function ry(E){return zf.apply(this,arguments)}function zf(){return(zf=(0,w.Z)(function*(E){const p=yield bu()._get(Bc(E));return p&&(yield bu()._remove(Bc(E))),p})).apply(this,arguments)}function qf(){const E=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*p.length);E.push(p.charAt(C))}return E.join("")}function bu(){return Sr(Kn)}function Bc(E){return Ti("authEvent",E.config.apiKey,E.name)}function zd(E){if(!E?.includes("?"))return{};const[p,..._]=E.split("?");return(0,X.zd)(_.join("?"))}function od(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Dn("no-auth-event")}}function Ec(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function km(){return function ug(E=(0,X.z$)()){return!("file:"!==Ec()&&"ionic:"!==Ec()&&"capacitor:"!==Ec()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function jc(){return(jc=(0,w.Z)(function*(){return!!km()&&new Promise(E=>{const p=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),E(!0)})})})).apply(this,arguments)}const ad="persistence";function Jf(E){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,w.Z)(function*(E){yield E._initializationPromise;const p=fg(),_=Ti(ad,E.config.apiKey,E.name);p&&p.setItem(_,E._getPersistence())})).apply(this,arguments)}function fg(){var E;try{return(null===(E=function Vv(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Hc=vt;class Ci{constructor(){this.browserResolver=Sr(class pu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dl,this._completeRedirectFn=$s,this._overrideRedirectResult=ps}_openPopup(p,_,C,j){var J=this;return(0,w.Z)(function*(){var ge;wt(null===(ge=J.eventManagers[p._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Ue=yield nd(p,_,C,kn(),j);return Fv(p,Ue,hl())})()}_openRedirect(p,_,C,j){var J=this;return(0,w.Z)(function*(){return yield J._originValidation(p),function pi(E){ai().location.href=E}(yield nd(p,_,C,kn(),j)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:j,promise:J}=this.eventManagers[_];return j?Promise.resolve(j):(wt(J,"If manager is not set, promise should be"),J)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(p){var _=this;return(0,w.Z)(function*(){const C=yield function td(E){return wc.apply(this,arguments)}(p),j=new le(p);return C.register("authEvent",J=>(vt(J?.authEvent,p,"invalid-auth-event"),{status:j.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:j},_.iframes[p._key()]=C,j})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send($f,{type:$f},j=>{var J;const ge=null===(J=j?.[0])||void 0===J?void 0:J[$f];void 0!==ge&&_(!!ge),zt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Xn(E){return uo.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vs()||Po()||cs()}}),this.cordovaResolver=Sr(class Eu{constructor(){this._redirectPersistence=dl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$s,this._overrideRedirectResult=ps}_initialize(p){var _=this;return(0,w.Z)(function*(){const C=p._key();let j=_.eventManagers.get(C);return j||(j=new Fh(p),_.eventManagers.set(C,j),_.attachCallbackListeners(p,j)),j})()}_openPopup(p){zt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,C,j){var J=this;return(0,w.Z)(function*(){!function yu(E){var p,_,C,j,J,ge,Ue,Nt,ft,nn;const yn=vl();vt("function"==typeof(null===(p=yn?.universalLinks)||void 0===p?void 0:p.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),vt(typeof(null===(_=yn?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),vt("function"==typeof(null===(J=null===(j=null===(C=yn?.cordova)||void 0===C?void 0:C.plugins)||void 0===j?void 0:j.browsertab)||void 0===J?void 0:J.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vt("function"==typeof(null===(Nt=null===(Ue=null===(ge=yn?.cordova)||void 0===ge?void 0:ge.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===Nt?void 0:Nt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vt("function"==typeof(null===(nn=null===(ft=yn?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===nn?void 0:nn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const ge=yield J._initialize(p);yield ge.initialized(),ge.resetRedirect(),function Ql(){ia.clear()}(),yield J._originValidation(p);const Ue=function ny(E,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:qf(),postBody:null,tenantId:E.tenantId,error:Dn(E,"no-auth-event")}}(p,C,j);yield function dr(E,p){return bu()._set(Bc(E),p)}(p,Ue);const Nt=yield function xm(E,p,_){return kh.apply(this,arguments)}(p,Ue,_),ft=yield function Gf(E){const{cordova:p}=vl();return new Promise(_=>{p.plugins.browsertab.isAvailable(C=>{let j=null;C?p.plugins.browsertab.openUrl(E):j=p.InAppBrowser.open(E,function io(E=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),_(j)})})}(Nt);return function sa(E,p,_){return _u.apply(this,arguments)}(p,ge,ft)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Om(E){return bl.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:C,handleOpenURL:j,BuildInfo:J}=vl(),ge=setTimeout((0,w.Z)(function*(){yield ry(p),_.onEvent(od())}),500),Ue=function(){var nn=(0,w.Z)(function*(yn){clearTimeout(ge);const gr=yield ry(p);let _i=null;gr&&yn?.url&&(_i=function Kf(E,p){var _,C;const j=function Pm(E){const p=zd(E),_=p.link?decodeURIComponent(p.link):void 0,C=zd(_).link,j=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return zd(j).link||j||C||_||E}(p);if(j.includes("/__/auth/callback")){const J=zd(j),ge=J.firebaseError?function wu(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(J.firebaseError)):null,Ue=null===(C=null===(_=ge?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Nt=Ue?Dn(Ue):null;return Nt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Nt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:j,postBody:null}}return null}(gr,yn.url)),_.onEvent(_i||od())});return function(gr){return nn.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,Ue);const Nt=j,ft=`${J.packageName.toLowerCase()}://`;vl().handleOpenURL=function(){var nn=(0,w.Z)(function*(yn){if(yn.toLowerCase().startsWith(ft)&&Ue({url:yn}),"function"==typeof Nt)try{Nt(yn)}catch(gr){console.error(gr)}});return function(yn){return nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=dl,this._completeRedirectFn=$s,this._overrideRedirectResult=ps}_initialize(p){var _=this;return(0,w.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,C,j){var J=this;return(0,w.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(p,_,C,j)})()}_openRedirect(p,_,C,j){var J=this;return(0,w.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(p,_,C,j)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return km()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,w.Z)(function*(){if(p.underlyingResolver)return;const _=yield function Zd(){return jc.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Jr(E){return E.unwrap()}function Vm(E){return pg(E)}function pg(E){const{_tokenResponse:p}=E instanceof X.ZR?E.customData:E;if(!p)return null;if(!(E instanceof X.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return kc.credentialFromResult(E);const _=p.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=bo;break;case"facebook.com":C=ga;break;case"github.com":C=ws;break;case"twitter.com":C=W;break;default:const{oauthIdToken:j,oauthAccessToken:J,oauthTokenSecret:ge,pendingToken:Ue,nonce:Nt}=p;return J||ge||j||Ue?Ue?_.startsWith("saml.")?ma._create(_,Ue):Ri._fromParams({providerId:_,signInMethod:_,pendingToken:Ue,idToken:j,accessToken:J}):new si(_).credential({idToken:j,accessToken:J,rawNonce:Nt}):null}return E instanceof X.ZR?C.credentialFromError(E):C.credentialFromResult(E)}function qa(E,p){return p.catch(_=>{throw _ instanceof X.ZR&&function oy(E,p){var _;const C=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Bv(E,function sn(E,p){var _;const C=(0,X.m9)(E),j=p;return vt(p.customData.operationType,C,"argument-error"),vt(null===(_=j.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),kd._fromError(C,j)}(E,p));else if(C){const j=pg(p),J=p;j&&(J.credential=j,J.tenantId=C.tenantId||void 0,J.email=C.email||void 0,J.phoneNumber=C.phoneNumber||void 0)}}(E,_),_}).then(_=>{const j=_.user;return{operationType:_.operationType,credential:Vm(_),additionalUserInfo:fc(_),user:$c.getOrCreate(j)}})}function ep(E,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,w.Z)(function*(E,p){const _=yield p;return{verificationId:_.verificationId,confirm:C=>qa(E,_.confirm(C))}})).apply(this,arguments)}class Bv{constructor(p,_){this.resolver=_,this.auth=function Xf(E){return E.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return qa(Jr(this.auth),this.resolver.resolveSignIn(p))}}class $c{constructor(p){this._delegate=p,this.multiFactor=function Yp(E){const p=(0,X.m9)(E);return ra.has(p)||ra.set(p,So._fromUser(p)),ra.get(p)}(p)}static getOrCreate(p){return $c.USER_MAP.has(p)||$c.USER_MAP.set(p,new $c(p)),$c.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,w.Z)(function*(){return qa(_.auth,Lo(_._delegate,p))})()}linkWithPhoneNumber(p,_){var C=this;return(0,w.Z)(function*(){return ep(C.auth,function Z_(E,p,_){return ts.apply(this,arguments)}(C._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,w.Z)(function*(){return qa(_.auth,function Bd(E,p,_){return ns.apply(this,arguments)}(_._delegate,p,Ci))})()}linkWithRedirect(p){var _=this;return(0,w.Z)(function*(){return yield Jf(tn(_.auth)),function Ho(E,p,_){return function Ka(E,p,_){return fu.apply(this,arguments)}(E,p,_)}(_._delegate,p,Ci)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,w.Z)(function*(){return qa(_.auth,il(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return ep(this.auth,function lu(E,p,_){return Vf.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return qa(this.auth,function Uf(E,p,_){return mi.apply(this,arguments)}(this._delegate,p,Ci))}reauthenticateWithRedirect(p){var _=this;return(0,w.Z)(function*(){return yield Jf(tn(_.auth)),function hu(E,p,_){return function Ea(E,p,_){return ed.apply(this,arguments)}(E,p,_)}(_._delegate,p,Ci)})()}sendEmailVerification(p){return function Qn(E,p){return $n.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,w.Z)(function*(){return yield function ko(E,p){return Xi.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function ta(E,p){return na((0,X.m9)(E),p,null)}(this._delegate,p)}updatePassword(p){return function Ki(E,p){return na((0,X.m9)(E),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Vd(E,p){return _c.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Bo(E,p){return zi.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function Jn(E,p,_){return di.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$c.USER_MAP=new WeakMap;class mg{constructor(){this.providerId="phone",this._delegate=new kc(Jr(D.Z.auth()))}static credential(p,_){return kc.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}mg.PHONE_SIGN_IN_METHOD=kc.PHONE_SIGN_IN_METHOD,mg.PROVIDER_ID=kc.PROVIDER_ID},433:(Jt,Je,z)=>{z.d(Je,{Fj:()=>mt,qu:()=>Va,u:()=>mo,sg:()=>so,u5:()=>Ms,JJ:()=>vr,JL:()=>Fn,UX:()=>Js,_Y:()=>Ae});var w=z(4650),D=z(6895),X=z(8996),Ee=z(9751),Ne=z(4742),Pe=z(8421),Re=z(3269),Fe=z(5403),We=z(3268),me=z(1810),Se=z(4004);let It=(()=>{class W{constructor(F,te){this._renderer=F,this._elementRef=te,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(F,te){this._renderer.setProperty(this._elementRef.nativeElement,F,te)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return W.\u0275fac=function(F){return new(F||W)(w.Y36(w.Qsj),w.Y36(w.SBq))},W.\u0275dir=w.lG2({type:W}),W})(),ot=(()=>{class W extends It{}return W.\u0275fac=function(){let U;return function(te){return(U||(U=w.n5z(W)))(te||W)}}(),W.\u0275dir=w.lG2({type:W,features:[w.qOj]}),W})();const Ye=new w.OlP("NgValueAccessor"),Xe={provide:Ye,useExisting:(0,w.Gpc)(()=>mt),multi:!0},Vt=new w.OlP("CompositionEventMode");let mt=(()=>{class W extends It{constructor(F,te,rt){super(F,te),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const W=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return W.\u0275fac=function(F){return new(F||W)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Vt,8))},W.\u0275dir=w.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,te){1&F&&w.NdJ("input",function(an){return te._handleInput(an.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(an){return te._compositionEnd(an.target.value)})},features:[w._Bn([Xe]),w.qOj]}),W})();const Dt=new w.OlP("NgValidators"),we=new w.OlP("NgAsyncValidators");function Ge(W){return null!=W}function qe(W){return(0,w.QGY)(W)?(0,X.D)(W):W}function Et(W){let U={};return W.forEach(F=>{U=null!=F?{...U,...F}:U}),0===Object.keys(U).length?null:U}function st(W,U){return U.map(F=>F(W))}function At(W){return W.map(U=>function Ut(W){return!W.validate}(U)?U:F=>U.validate(F))}function _n(W){return null!=W?function Zt(W){if(!W)return null;const U=W.filter(Ge);return 0==U.length?null:function(F){return Et(st(F,U))}}(At(W)):null}function zt(W){return null!=W?function pn(W){if(!W)return null;const U=W.filter(Ge);return 0==U.length?null:function(F){return function pe(...W){const U=(0,Re.jO)(W),{args:F,keys:te}=(0,Ne.D)(W),rt=new Ee.y(an=>{const{length:pr}=F;if(!pr)return void an.complete();const Rs=new Array(pr);let lo=pr,wo=pr;for(let ko=0;ko<pr;ko++){let Xi=!1;(0,Pe.Xf)(F[ko]).subscribe((0,Fe.x)(an,ea=>{Xi||(Xi=!0,wo--),Rs[ko]=ea},()=>lo--,void 0,()=>{(!lo||!Xi)&&(wo||an.next(te?(0,me.n)(te,Rs):Rs),an.complete())}))}});return U?rt.pipe((0,We.Z)(U)):rt}(st(F,U).map(qe)).pipe((0,Se.U)(Et))}}(At(W)):null}function Dn(W,U){return null===W?[U]:Array.isArray(W)?[...W,U]:[W,U]}function Wn(W){return W._rawValidators}function zn(W){return W._rawAsyncValidators}function hr(W){return W?Array.isArray(W)?W:[W]:[]}function vt(W,U){return Array.isArray(W)?W.includes(U):W===U}function lr(W,U){const F=hr(U);return hr(W).forEach(rt=>{vt(F,rt)||F.push(rt)}),F}function wt(W,U){return hr(U).filter(F=>!vt(W,F))}class kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=_n(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U){this.control&&this.control.reset(U)}hasError(U,F){return!!this.control&&this.control.hasError(U,F)}getError(U,F){return this.control?this.control.getError(U,F):null}}class nr extends kn{get formDirective(){return null}get path(){return null}}class Br extends kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ls{constructor(U){this._cd=U}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vr=(()=>{class W extends ls{constructor(F){super(F)}}return W.\u0275fac=function(F){return new(F||W)(w.Y36(Br,2))},W.\u0275dir=w.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,te){2&F&&w.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)},features:[w.qOj]}),W})(),Fn=(()=>{class W extends ls{constructor(F){super(F)}}return W.\u0275fac=function(F){return new(F||W)(w.Y36(nr,10))},W.\u0275dir=w.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,te){2&F&&w.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)("ng-submitted",te.isSubmitted)},features:[w.qOj]}),W})();const en="VALID",rr="INVALID",ye="PENDING",_e="DISABLED";function Le(W){return(gn(W)?W.validators:W)||null}function nt(W){return Array.isArray(W)?_n(W):W||null}function $e(W,U){return(gn(U)?U.asyncValidators:W)||null}function Ht(W){return Array.isArray(W)?zt(W):W||null}function gn(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Bn(W,U,F){const te=W.controls;if(!(U?Object.keys(te):te).length)throw new w.vHH(1e3,"");if(!te[F])throw new w.vHH(1001,"")}function tr(W,U,F){W._forEachChild((te,rt)=>{if(void 0===F[rt])throw new w.vHH(1002,"")})}class fe{constructor(U,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=U,this._rawAsyncValidators=F,this._composedValidatorFn=nt(this._rawValidators),this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===en}get invalid(){return this.status===rr}get pending(){return this.status==ye}get disabled(){return this.status===_e}get enabled(){return this.status!==_e}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._rawValidators=U,this._composedValidatorFn=nt(U)}setAsyncValidators(U){this._rawAsyncValidators=U,this._composedAsyncValidatorFn=Ht(U)}addValidators(U){this.setValidators(lr(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(lr(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(wt(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(wt(U,this._rawAsyncValidators))}hasValidator(U){return vt(this._rawValidators,U)}hasAsyncValidator(U){return vt(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=ye,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const F=this._parentMarkedDirty(U.onlySelf);this.status=_e,this.errors=null,this._forEachChild(te=>{te.disable({...U,onlySelf:!0})}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...U,skipPristineCheck:F}),this._onDisabledChange.forEach(te=>te(!0))}enable(U={}){const F=this._parentMarkedDirty(U.onlySelf);this.status=en,this._forEachChild(te=>{te.enable({...U,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors({...U,skipPristineCheck:F}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}getRawValue(){return this.value}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===en||this.status===ye)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_e:en}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=ye,this._hasOwnPendingAsyncValidator=!0;const F=qe(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,F={}){this.errors=U,this._updateControlsErrors(!1!==F.emitEvent)}get(U){let F=U;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((te,rt)=>te&&te._find(rt),this)}getError(U,F){const te=F?this.get(F):this;return te&&te.errors?te.errors[U]:null}hasError(U,F){return!!this.getError(U,F)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?_e:this.errors?rr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ye)?ye:this._anyControlsHaveStatus(rr)?rr:en}_anyControlsHaveStatus(U){return this._anyControls(F=>F.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){gn(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(U){return null}}class de extends fe{constructor(U,F,te){super(Le(F),$e(te,F)),this.controls=U,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,F){return this.controls[U]?this.controls[U]:(this.controls[U]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(U,F,te={}){this.registerControl(U,F),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(U,F={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(U,F,te={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],F&&this.registerControl(U,F),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,F={}){tr(this,0,U),Object.keys(U).forEach(te=>{Bn(this,!0,te),this.controls[te].setValue(U[te],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(U,F={}){null!=U&&(Object.keys(U).forEach(te=>{const rt=this.controls[te];rt&&rt.patchValue(U[te],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(U={},F={}){this._forEachChild((te,rt)=>{te.reset(U[rt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(U,F,te)=>(U[te]=F.getRawValue(),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(F,te)=>!!te._syncPendingControls()||F);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(F=>{const te=this.controls[F];te&&U(te,F)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const[F,te]of Object.entries(this.controls))if(this.contains(F)&&U(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,te,rt)=>((te.enabled||this.disabled)&&(F[rt]=te.value),F))}_reduceChildren(U,F){let te=U;return this._forEachChild((rt,an)=>{te=F(te,rt,an)}),te}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(U){return this.controls.hasOwnProperty(U)?this.controls[U]:null}}class _t extends de{}function Ln(W,U){Tr(W,U),U.valueAccessor.writeValue(W.value),W.disabled&&U.valueAccessor.setDisabledState?.(!0),function Sr(W,U){U.valueAccessor.registerOnChange(F=>{W._pendingValue=F,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Fr(W,U)})}(W,U),function Ti(W,U){const F=(te,rt)=>{U.valueAccessor.writeValue(te),rt&&U.viewToModelUpdate(te)};W.registerOnChange(F),U._registerOnDestroy(()=>{W._unregisterOnChange(F)})}(W,U),function _s(W,U){U.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Fr(W,U),"submit"!==W.updateOn&&W.markAsTouched()})}(W,U),function xn(W,U){if(U.valueAccessor.setDisabledState){const F=te=>{U.valueAccessor.setDisabledState(te)};W.registerOnDisabledChange(F),U._registerOnDestroy(()=>{W._unregisterOnDisabledChange(F)})}}(W,U)}function kr(W,U,F=!0){const te=()=>{};U.valueAccessor&&(U.valueAccessor.registerOnChange(te),U.valueAccessor.registerOnTouched(te)),Ii(W,U),W&&(U._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function vi(W,U){W.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(U)})}function Tr(W,U){const F=Wn(W);null!==U.validator?W.setValidators(Dn(F,U.validator)):"function"==typeof F&&W.setValidators([F]);const te=zn(W);null!==U.asyncValidator?W.setAsyncValidators(Dn(te,U.asyncValidator)):"function"==typeof te&&W.setAsyncValidators([te]);const rt=()=>W.updateValueAndValidity();vi(U._rawValidators,rt),vi(U._rawAsyncValidators,rt)}function Ii(W,U){let F=!1;if(null!==W){if(null!==U.validator){const rt=Wn(W);if(Array.isArray(rt)&&rt.length>0){const an=rt.filter(pr=>pr!==U.validator);an.length!==rt.length&&(F=!0,W.setValidators(an))}}if(null!==U.asyncValidator){const rt=zn(W);if(Array.isArray(rt)&&rt.length>0){const an=rt.filter(pr=>pr!==U.asyncValidator);an.length!==rt.length&&(F=!0,W.setAsyncValidators(an))}}}const te=()=>{};return vi(U._rawValidators,te),vi(U._rawAsyncValidators,te),F}function Fr(W,U){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function ii(W,U){const F=W.indexOf(U);F>-1&&W.splice(F,1)}function Bs(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const us=class extends fe{constructor(U=null,F,te){super(Le(F),$e(te,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gn(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Bs(U)?U.value:U)}setValue(U,F={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(U,F={}){this.setValue(U,F)}reset(U=this.defaultValue,F={}){this._applyFormState(U),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){ii(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){ii(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){Bs(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}};let Ae=(()=>{class W{}return W.\u0275fac=function(F){return new(F||W)},W.\u0275dir=w.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),br=(()=>{class W{}return W.\u0275fac=function(F){return new(F||W)},W.\u0275mod=w.oAB({type:W}),W.\u0275inj=w.cJS({}),W})();const ys=new w.OlP("NgModelWithFormControlWarning"),$i={provide:nr,useExisting:(0,w.Gpc)(()=>so)};let so=(()=>{class W extends nr{constructor(F,te){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(F),this._setAsyncValidators(te)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ii(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const te=this.form.get(F.path);return Ln(te,F),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),te}getControl(F){return this.form.get(F.path)}removeControl(F){kr(F.control||null,F,!1),function io(W,U){const F=W.indexOf(U);F>-1&&W.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,te){this.form.get(F.path).setValue(te)}onSubmit(F){return this.submitted=!0,function As(W,U){W._syncPendingControls(),U.forEach(F=>{const te=F.control;"submit"===te.updateOn&&te._pendingChange&&(F.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const te=F.control,rt=this.form.get(F.path);te!==rt&&(kr(te||null,F),(W=>W instanceof us)(rt)&&(Ln(rt,F),F.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const te=this.form.get(F.path);(function zr(W,U){Tr(W,U)})(te,F),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const te=this.form.get(F.path);te&&function Hi(W,U){return Ii(W,U)}(te,F)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tr(this.form,this),this._oldForm&&Ii(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(F){return new(F||W)(w.Y36(Dt,10),w.Y36(we,10))},W.\u0275dir=w.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(F,te){1&F&&w.NdJ("submit",function(an){return te.onSubmit(an)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([$i]),w.qOj,w.TTD]}),W})();const Bl={provide:Br,useExisting:(0,w.Gpc)(()=>mo)};let mo=(()=>{class W extends Br{constructor(F,te,rt,an,pr){super(),this._ngModelWarningConfig=pr,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(te),this._setAsyncValidators(rt),this.valueAccessor=function cs(W,U){if(!U)return null;let F,te,rt;return Array.isArray(U),U.forEach(an=>{an.constructor===mt?F=an:function ro(W){return Object.getPrototypeOf(W.constructor)===ot}(an)?te=an:rt=an}),rt||te||F||null}(0,an)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),function Qi(W,U){if(!W.hasOwnProperty("model"))return!1;const F=W.model;return!!F.isFirstChange()||!Object.is(U,F.currentValue)}(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return function An(W,U){return[...U.path,W]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(F){return new(F||W)(w.Y36(nr,13),w.Y36(Dt,10),w.Y36(we,10),w.Y36(Ye,10),w.Y36(ys,8))},W.\u0275dir=w.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([Bl]),w.qOj,w.TTD]}),W})(),cr=(()=>{class W{}return W.\u0275fac=function(F){return new(F||W)},W.\u0275mod=w.oAB({type:W}),W.\u0275inj=w.cJS({imports:[br]}),W})(),Ms=(()=>{class W{}return W.\u0275fac=function(F){return new(F||W)},W.\u0275mod=w.oAB({type:W}),W.\u0275inj=w.cJS({imports:[cr]}),W})(),Js=(()=>{class W{static withConfig(F){return{ngModule:W,providers:[{provide:ys,useValue:F.warnOnNgModelWithFormControl}]}}}return W.\u0275fac=function(F){return new(F||W)},W.\u0275mod=w.oAB({type:W}),W.\u0275inj=w.cJS({imports:[cr]}),W})();class si extends fe{constructor(U,F,te){super(Le(F),$e(te,F)),this.controls=U,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(U){return this.controls[this._adjustIndex(U)]}push(U,F={}){this.controls.push(U),this._registerControl(U),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(U,F,te={}){this.controls.splice(U,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(U,F={}){let te=this._adjustIndex(U);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(U,F,te={}){let rt=this._adjustIndex(U);rt<0&&(rt=0),this.controls[rt]&&this.controls[rt]._registerOnCollectionChange(()=>{}),this.controls.splice(rt,1),F&&(this.controls.splice(rt,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(U,F={}){tr(this,0,U),U.forEach((te,rt)=>{Bn(this,!1,rt),this.at(rt).setValue(te,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(U,F={}){null!=U&&(U.forEach((te,rt)=>{this.at(rt)&&this.at(rt).patchValue(te,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(U=[],F={}){this._forEachChild((te,rt)=>{te.reset(U[rt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(U=>U.getRawValue())}clear(U={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:U.emitEvent}))}_adjustIndex(U){return U<0?U+this.length:U}_syncPendingControls(){let U=this.controls.reduce((F,te)=>!!te._syncPendingControls()||F,!1);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){this.controls.forEach((F,te)=>{U(F,te)})}_updateValue(){this.value=this.controls.filter(U=>U.enabled||this.disabled).map(U=>U.value)}_anyControls(U){return this.controls.some(F=>F.enabled&&U(F))}_setUpControls(){this._forEachChild(U=>this._registerControl(U))}_allControlsDisabled(){for(const U of this.controls)if(U.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(U){U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)}_find(U){return this.at(U)??null}}function ws(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Va=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new W;return F.useNonNullable=!0,F}group(F,te=null){const rt=this._reduceControls(F);let an={};return ws(te)?an=te:null!==te&&(an.validators=te.validator,an.asyncValidators=te.asyncValidator),new de(rt,an)}record(F,te=null){const rt=this._reduceControls(F);return new _t(rt,te)}control(F,te,rt){let an={};return this.useNonNullable?(ws(te)?an=te:(an.validators=te,an.asyncValidators=rt),new us(F,{...an,nonNullable:!0})):new us(F,te,rt)}array(F,te,rt){const an=F.map(pr=>this._createControl(pr));return new si(an,te,rt)}_reduceControls(F){const te={};return Object.keys(F).forEach(rt=>{te[rt]=this._createControl(F[rt])}),te}_createControl(F){return F instanceof us||F instanceof fe?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return W.\u0275fac=function(F){return new(F||W)},W.\u0275prov=w.Yz7({token:W,factory:W.\u0275fac,providedIn:Js}),W})()},1481:(Jt,Je,z)=>{z.d(Je,{Dx:()=>vr,b2:()=>nr,q6:()=>vt});var w=z(6895),D=z(4650);class X extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends X{static makeCurrent(){(0,w.HT)(new Ee)}onAndCancel(de,se,je){return de.addEventListener(se,je,!1),()=>{de.removeEventListener(se,je,!1)}}dispatchEvent(de,se){de.dispatchEvent(se)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,se){return(se=se||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,se){return"window"===se?window:"document"===se?de:"body"===se?de.body:null}getBaseHref(de){const se=function Pe(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==se?null:function Fe(fe){Re=Re||document.createElement("a"),Re.setAttribute("href",fe);const de=Re.pathname;return"/"===de.charAt(0)?de:`/${de}`}(se)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,w.Mx)(document.cookie,de)}}let Re,Ne=null;const We=new D.OlP("TRANSITION_ID"),pe=[{provide:D.ip1,useFactory:function me(fe,de,se){return()=>{se.get(D.CZH).donePromise.then(()=>{const je=(0,w.q)(),_t=de.querySelectorAll(`style[ng-transition="${fe}"]`);for(let Yt=0;Yt<_t.length;Yt++)je.remove(_t[Yt])})}},deps:[We,w.K0,D.zs3],multi:!0}];let It=(()=>{class fe{build(){return new XMLHttpRequest}}return fe.\u0275fac=function(se){return new(se||fe)},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const ot=new D.OlP("EventManagerPlugins");let Ye=(()=>{class fe{constructor(se,je){this._zone=je,this._eventNameToPlugin=new Map,se.forEach(_t=>_t.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,je,_t){return this._findPluginFor(je).addEventListener(se,je,_t)}addGlobalEventListener(se,je,_t){return this._findPluginFor(je).addGlobalEventListener(se,je,_t)}getZone(){return this._zone}_findPluginFor(se){const je=this._eventNameToPlugin.get(se);if(je)return je;const _t=this._plugins;for(let Yt=0;Yt<_t.length;Yt++){const An=_t[Yt];if(An.supports(se))return this._eventNameToPlugin.set(se,An),An}throw new Error(`No event manager plugin found for event ${se}`)}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(ot),D.LFG(D.R0b))},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Lt{constructor(de){this._doc=de}addGlobalEventListener(de,se,je){const _t=(0,w.q)().getGlobalEventTarget(this._doc,de);if(!_t)throw new Error(`Unsupported event target ${_t} for event ${se}`);return this.addEventListener(_t,se,je)}}let lt=(()=>{class fe{constructor(){this._stylesSet=new Set}addStyles(se){const je=new Set;se.forEach(_t=>{this._stylesSet.has(_t)||(this._stylesSet.add(_t),je.add(_t))}),this.onStylesAdded(je)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return fe.\u0275fac=function(se){return new(se||fe)},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),Xe=(()=>{class fe extends lt{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,je,_t){se.forEach(Yt=>{const An=this._doc.createElement("style");An.textContent=Yt,_t.push(je.appendChild(An))})}addHost(se){const je=[];this._addStylesToHost(this._stylesSet,se,je),this._hostNodes.set(se,je)}removeHost(se){const je=this._hostNodes.get(se);je&&je.forEach(Be),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((je,_t)=>{this._addStylesToHost(se,_t,je)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(Be))}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(w.K0))},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function Be(fe){(0,w.q)().remove(fe)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g;function dt(fe,de,se){for(let je=0;je<de.length;je++){let _t=de[je];Array.isArray(_t)?dt(fe,_t,se):(_t=_t.replace(mt,fe),se.push(_t))}return se}function Tt(fe){return de=>{if("__ngUnwrap__"===de)return fe;!1===fe(de)&&(de.preventDefault(),de.returnValue=!1)}}let Pt=(()=>{class fe{constructor(se,je,_t){this.eventManager=se,this.sharedStylesHost=je,this.appId=_t,this.rendererByCompId=new Map,this.defaultRenderer=new Yn(se)}createRenderer(se,je){if(!se||!je)return this.defaultRenderer;switch(je.encapsulation){case D.ifc.Emulated:{let _t=this.rendererByCompId.get(je.id);return _t||(_t=new Te(this.eventManager,this.sharedStylesHost,je,this.appId),this.rendererByCompId.set(je.id,_t)),_t.applyToHost(se),_t}case 1:case D.ifc.ShadowDom:return new Me(this.eventManager,this.sharedStylesHost,se,je);default:if(!this.rendererByCompId.has(je.id)){const _t=dt(je.id,je.styles,[]);this.sharedStylesHost.addStyles(_t),this.rendererByCompId.set(je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(Ye),D.LFG(Xe),D.LFG(D.AFp))},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Yn{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,se){return se?document.createElementNS(Vt[se]||se,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,se){(Hn(de)?de.content:de).appendChild(se)}insertBefore(de,se,je){de&&(Hn(de)?de.content:de).insertBefore(se,je)}removeChild(de,se){de&&de.removeChild(se)}selectRootElement(de,se){let je="string"==typeof de?document.querySelector(de):de;if(!je)throw new Error(`The selector "${de}" did not match any elements`);return se||(je.textContent=""),je}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,se,je,_t){if(_t){se=_t+":"+se;const Yt=Vt[_t];Yt?de.setAttributeNS(Yt,se,je):de.setAttribute(se,je)}else de.setAttribute(se,je)}removeAttribute(de,se,je){if(je){const _t=Vt[je];_t?de.removeAttributeNS(_t,se):de.removeAttribute(`${je}:${se}`)}else de.removeAttribute(se)}addClass(de,se){de.classList.add(se)}removeClass(de,se){de.classList.remove(se)}setStyle(de,se,je,_t){_t&(D.JOm.DashCase|D.JOm.Important)?de.style.setProperty(se,je,_t&D.JOm.Important?"important":""):de.style[se]=je}removeStyle(de,se,je){je&D.JOm.DashCase?de.style.removeProperty(se):de.style[se]=""}setProperty(de,se,je){de[se]=je}setValue(de,se){de.nodeValue=se}listen(de,se,je){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,se,Tt(je)):this.eventManager.addEventListener(de,se,Tt(je))}}function Hn(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class Te extends Yn{constructor(de,se,je,_t){super(de),this.component=je;const Yt=dt(_t+"-"+je.id,je.styles,[]);se.addStyles(Yt),this.contentAttr=function we(fe){return"_ngcontent-%COMP%".replace(mt,fe)}(_t+"-"+je.id),this.hostAttr=function ct(fe){return"_nghost-%COMP%".replace(mt,fe)}(_t+"-"+je.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,se){const je=super.createElement(de,se);return super.setAttribute(je,this.contentAttr,""),je}}class Me extends Yn{constructor(de,se,je,_t){super(de),this.sharedStylesHost=se,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=dt(_t.id,_t.styles,[]);for(let An=0;An<Yt.length;An++){const Ln=document.createElement("style");Ln.textContent=Yt[An],this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,se){return super.appendChild(this.nodeOrShadowRoot(de),se)}insertBefore(de,se,je){return super.insertBefore(this.nodeOrShadowRoot(de),se,je)}removeChild(de,se){return super.removeChild(this.nodeOrShadowRoot(de),se)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let Ge=(()=>{class fe extends Lt{constructor(se){super(se)}supports(se){return!0}addEventListener(se,je,_t){return se.addEventListener(je,_t,!1),()=>this.removeEventListener(se,je,_t)}removeEventListener(se,je,_t){return se.removeEventListener(je,_t)}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(w.K0))},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const qe=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let Ut=(()=>{class fe extends Lt{constructor(se){super(se)}supports(se){return null!=fe.parseEventName(se)}addEventListener(se,je,_t){const Yt=fe.parseEventName(je),An=fe.eventCallback(Yt.fullKey,_t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(se,Yt.domEventName,An))}static parseEventName(se){const je=se.toLowerCase().split("."),_t=je.shift();if(0===je.length||"keydown"!==_t&&"keyup"!==_t)return null;const Yt=fe._normalizeKey(je.pop());let An="",Ln=je.indexOf("code");if(Ln>-1&&(je.splice(Ln,1),An="code."),qe.forEach(vi=>{const xn=je.indexOf(vi);xn>-1&&(je.splice(xn,1),An+=vi+".")}),An+=Yt,0!=je.length||0===Yt.length)return null;const kr={};return kr.domEventName=_t,kr.fullKey=An,kr}static matchEventFullKeyCode(se,je){let _t=Et[se.key]||se.key,Yt="";return je.indexOf("code.")>-1&&(_t=se.code,Yt="code."),!(null==_t||!_t)&&(_t=_t.toLowerCase()," "===_t?_t="space":"."===_t&&(_t="dot"),qe.forEach(An=>{An!==_t&&(0,st[An])(se)&&(Yt+=An+".")}),Yt+=_t,Yt===je)}static eventCallback(se,je,_t){return Yt=>{fe.matchEventFullKeyCode(Yt,se)&&_t.runGuarded(()=>je(Yt))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(w.K0))},fe.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const vt=(0,D.eFA)(D._c5,"browser",[{provide:D.Lbi,useValue:w.bD},{provide:D.g9A,useValue:function Dn(){Ee.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function zn(){return(0,D.RDi)(document),document},deps:[]}]),lr=new D.OlP(""),wt=[{provide:D.rWj,useClass:class Se{addToWindow(de){D.dqk.getAngularTestability=(je,_t=!0)=>{const Yt=de.findTestabilityInTree(je,_t);if(null==Yt)throw new Error("Could not find testability for element.");return Yt},D.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),D.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),D.dqk.frameworkStabilizers||(D.dqk.frameworkStabilizers=[]),D.dqk.frameworkStabilizers.push(je=>{const _t=D.dqk.getAllAngularTestabilities();let Yt=_t.length,An=!1;const Ln=function(kr){An=An||kr,Yt--,0==Yt&&je(An)};_t.forEach(function(kr){kr.whenStable(Ln)})})}findTestabilityInTree(de,se,je){return null==se?null:de.getTestability(se)??(je?(0,w.q)().isShadowRoot(se)?this.findTestabilityInTree(de,se.host,!0):this.findTestabilityInTree(de,se.parentElement,!0):null)}},deps:[]},{provide:D.lri,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]},{provide:D.dDg,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]}],kn=[{provide:D.zSh,useValue:"root"},{provide:D.qLn,useFactory:function Wn(){return new D.qLn},deps:[]},{provide:ot,useClass:Ge,multi:!0,deps:[w.K0,D.R0b,D.Lbi]},{provide:ot,useClass:Ut,multi:!0,deps:[w.K0]},{provide:Pt,useClass:Pt,deps:[Ye,Xe,D.AFp]},{provide:D.FYo,useExisting:Pt},{provide:lt,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[w.K0]},{provide:Ye,useClass:Ye,deps:[ot,D.R0b]},{provide:w.JF,useClass:It,deps:[]},[]];let nr=(()=>{class fe{constructor(se){}static withServerTransition(se){return{ngModule:fe,providers:[{provide:D.AFp,useValue:se.appId},{provide:We,useExisting:D.AFp},pe]}}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(lr,12))},fe.\u0275mod=D.oAB({type:fe}),fe.\u0275inj=D.cJS({providers:[...kn,...wt],imports:[w.ez,D.hGG]}),fe})(),vr=(()=>{class fe{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return fe.\u0275fac=function(se){return new(se||fe)(D.LFG(w.K0))},fe.\u0275prov=D.Yz7({token:fe,factory:function(se){let je=null;return je=se?new se:function fr(){return new vr((0,D.LFG)(w.K0))}(),je},providedIn:"root"}),fe})();typeof window<"u"&&window},9062:(Jt,Je,z)=>{z.d(Je,{F0:()=>oi,rH:()=>Ft,Bz:()=>pi,lC:()=>Kr});var w=z(4650),D=z(8996),X=z(9646),Ee=z(1135),Ne=z(6805),Pe=z(9841),Re=z(7272),Fe=z(9751),We=z(8421);function me(A){return new Fe.y(N=>{(0,We.Xf)(A()).subscribe(N)})}var pe=z(9635),Se=z(576);function It(A,N){const T=(0,Se.m)(A)?A:()=>A,L=$=>$.error(T());return new Fe.y(N?$=>N.schedule(L,0,$):L)}var ot=z(515),Ye=z(727),Lt=z(4482),lt=z(5403);function Xe(){return(0,Lt.e)((A,N)=>{let T=null;A._refCount++;const L=(0,lt.x)(N,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(T=null);const $=A._connection,ee=T;T=null,$&&(!ee||$===ee)&&$.unsubscribe(),N.unsubscribe()});A.subscribe(L),L.closed||(T=A.connect())})}class Be extends Fe.y{constructor(N,T){super(),this.source=N,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Lt.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Ye.w0;const T=this.getSubject();N.add(this.source.subscribe((0,lt.x)(T,void 0,()=>{this._teardown(),T.complete()},L=>{this._teardown(),T.error(L)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Ye.w0.EMPTY)}return N}refCount(){return Xe()(this)}}var Vt=z(7579),mt=z(6895),tt=z(4004),ze=z(3900),Ot=z(5698),Dt=z(8675),we=z(9300),ct=z(5577),dt=z(590);function Tt(A,N){return(0,Se.m)(N)?(0,ct.z)(A,N,1):(0,ct.z)(A,1)}var rn=z(8505);function Pt(A){return(0,Lt.e)((N,T)=>{let ee,L=null,$=!1;L=N.subscribe((0,lt.x)(T,void 0,void 0,ue=>{ee=(0,We.Xf)(A(ue,Pt(A)(N))),L?(L.unsubscribe(),L=null,ee.subscribe(T)):$=!0})),$&&(L.unsubscribe(),L=null,ee.subscribe(T))})}var Yn=z(5026);function fi(A){return A<=0?()=>ot.E:(0,Lt.e)((N,T)=>{let L=[];N.subscribe((0,lt.x)(T,$=>{L.push($),A<L.length&&L.shift()},()=>{for(const $ of L)T.next($);T.complete()},void 0,()=>{L=null}))})}var un=z(8068),Hn=z(6590),Te=z(4671);function Me(A,N){const T=arguments.length>=2;return L=>L.pipe(A?(0,we.h)(($,ee)=>A($,ee,L)):Te.y,fi(1),T?(0,Hn.d)(N):(0,un.T)(()=>new Ne.K))}var qe=z(9718);function Et(A){return(0,Lt.e)((N,T)=>{try{N.subscribe(T)}finally{T.add(A)}})}var st=z(8189),Ut=z(1481);const At="primary",Zt=Symbol("RouteTitle");class _n{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const T=this.params[N];return Array.isArray(T)?T[0]:T}return null}getAll(N){if(this.has(N)){const T=this.params[N];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function pn(A){return new _n(A)}function zt(A,N,T){const L=T.path.split("/");if(L.length>A.length||"full"===T.pathMatch&&(N.hasChildren()||L.length<A.length))return null;const $={};for(let ee=0;ee<L.length;ee++){const ue=L[ee],ve=A[ee];if(ue.startsWith(":"))$[ue.substring(1)]=ve;else if(ue!==ve.path)return null}return{consumed:A.slice(0,L.length),posParams:$}}function Wn(A,N){const T=A?Object.keys(A):void 0,L=N?Object.keys(N):void 0;if(!T||!L||T.length!=L.length)return!1;let $;for(let ee=0;ee<T.length;ee++)if($=T[ee],!zn(A[$],N[$]))return!1;return!0}function zn(A,N){if(Array.isArray(A)&&Array.isArray(N)){if(A.length!==N.length)return!1;const T=[...A].sort(),L=[...N].sort();return T.every(($,ee)=>L[ee]===$)}return A===N}function hr(A){return Array.prototype.concat.apply([],A)}function vt(A){return A.length>0?A[A.length-1]:null}function wt(A,N){for(const T in A)A.hasOwnProperty(T)&&N(A[T],T)}function kn(A){return(0,w.CqO)(A)?A:(0,w.QGY)(A)?(0,D.D)(Promise.resolve(A)):(0,X.of)(A)}const ls={exact:function Fn(A,N,T){if(!On(A.segments,N.segments)||!Tn(A.segments,N.segments,T)||A.numberOfChildren!==N.numberOfChildren)return!1;for(const L in N.children)if(!A.children[L]||!Fn(A.children[L],N.children[L],T))return!1;return!0},subset:hn},Ss={exact:function vr(A,N){return Wn(A,N)},subset:function mn(A,N){return Object.keys(N).length<=Object.keys(A).length&&Object.keys(N).every(T=>zn(A[T],N[T]))},ignored:()=>!0};function fr(A,N,T){return ls[T.paths](A.root,N.root,T.matrixParams)&&Ss[T.queryParams](A.queryParams,N.queryParams)&&!("exact"===T.fragment&&A.fragment!==N.fragment)}function hn(A,N,T){return cn(A,N,N.segments,T)}function cn(A,N,T,L){if(A.segments.length>T.length){const $=A.segments.slice(0,T.length);return!(!On($,T)||N.hasChildren()||!Tn($,T,L))}if(A.segments.length===T.length){if(!On(A.segments,T)||!Tn(A.segments,T,L))return!1;for(const $ in N.children)if(!A.children[$]||!hn(A.children[$],N.children[$],L))return!1;return!0}{const $=T.slice(0,A.segments.length),ee=T.slice(A.segments.length);return!!(On(A.segments,$)&&Tn(A.segments,$,L)&&A.children[At])&&cn(A.children[At],N,ee,L)}}function Tn(A,N,T){return N.every((L,$)=>Ss[T](A[$].parameters,L.parameters))}class Vn{constructor(N,T,L){this.root=N,this.queryParams=T,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return ri.serialize(this)}}class on{constructor(N,T){this.segments=N,this.children=T,this.parent=null,wt(T,(L,$)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ut(this)}}class bn{constructor(N,T){this.path=N,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=pn(this.parameters)),this._parameterMap}toString(){return _e(this)}}function On(A,N){return A.length===N.length&&A.every((T,L)=>T.path===N[L].path)}let or=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return new Ir},providedIn:"root"}),A})();class Ir{parse(N){const T=new de(N);return new Vn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(N){const T=`/${Ie(N.root,!0)}`,L=function nt(A){const N=Object.keys(A).map(T=>{const L=A[T];return Array.isArray(L)?L.map($=>`${jt(T)}=${jt($)}`).join("&"):`${jt(T)}=${jt(L)}`}).filter(T=>!!T);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${T}${L}${"string"==typeof N.fragment?`#${function Xt(A){return encodeURI(A)}(N.fragment)}`:""}`}}const ri=new Ir;function ut(A){return A.segments.map(N=>_e(N)).join("/")}function Ie(A,N){if(!A.hasChildren())return ut(A);if(N){const T=A.children[At]?Ie(A.children[At],!1):"",L=[];return wt(A.children,($,ee)=>{ee!==At&&L.push(`${ee}:${Ie($,!1)}`)}),L.length>0?`${T}(${L.join("//")})`:T}{const T=function Li(A,N){let T=[];return wt(A.children,(L,$)=>{$===At&&(T=T.concat(N(L,$)))}),wt(A.children,(L,$)=>{$!==At&&(T=T.concat(N(L,$)))}),T}(A,(L,$)=>$===At?[Ie(A.children[At],!1)]:[`${$}:${Ie(L,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[At]?`${ut(A)}/${T[0]}`:`${ut(A)}/(${T.join("//")})`}}function ht(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jt(A){return ht(A).replace(/%3B/gi,";")}function en(A){return ht(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rr(A){return decodeURIComponent(A)}function ye(A){return rr(A.replace(/\+/g,"%20"))}function _e(A){return`${en(A.path)}${function Le(A){return Object.keys(A).map(N=>`;${en(N)}=${en(A[N])}`).join("")}(A.parameters)}`}const $e=/^[^\/()?;=#]+/;function Ht(A){const N=A.match($e);return N?N[0]:""}const gn=/^[^=?&#]+/,tr=/^[^&#]+/;class de{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(N.length>0||Object.keys(T).length>0)&&(L[At]=new on(N,T)),L}parseSegment(){const N=Ht(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(N),new bn(rr(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const T=Ht(this.remaining);if(!T)return;this.capture(T);let L="";if(this.consumeOptional("=")){const $=Ht(this.remaining);$&&(L=$,this.capture(L))}N[rr(T)]=rr(L)}parseQueryParam(N){const T=function Bn(A){const N=A.match(gn);return N?N[0]:""}(this.remaining);if(!T)return;this.capture(T);let L="";if(this.consumeOptional("=")){const ue=function fe(A){const N=A.match(tr);return N?N[0]:""}(this.remaining);ue&&(L=ue,this.capture(L))}const $=ye(T),ee=ye(L);if(N.hasOwnProperty($)){let ue=N[$];Array.isArray(ue)||(ue=[ue],N[$]=ue),ue.push(ee)}else N[$]=ee}parseParens(N){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=Ht(this.remaining),$=this.remaining[L.length];if("/"!==$&&")"!==$&&";"!==$)throw new w.vHH(4010,!1);let ee;L.indexOf(":")>-1?(ee=L.slice(0,L.indexOf(":")),this.capture(ee),this.capture(":")):N&&(ee=At);const ue=this.parseChildren();T[ee]=1===Object.keys(ue).length?ue[At]:new on([],ue),this.consumeOptional("//")}return T}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new w.vHH(4011,!1)}}function se(A){return A.segments.length>0?new on([],{[At]:A}):A}function je(A){const N={};for(const L of Object.keys(A.children)){const ee=je(A.children[L]);(ee.segments.length>0||ee.hasChildren())&&(N[L]=ee)}return function _t(A){if(1===A.numberOfChildren&&A.children[At]){const N=A.children[At];return new on(A.segments.concat(N.segments),N.children)}return A}(new on(A.segments,N))}function Yt(A){return A instanceof Vn}function xn(A,N,T,L,$){if(0===T.length)return Sr(N.root,N.root,N.root,L,$);const ee=function Ti(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Fr(!0,0,A);let N=0,T=!1;const L=A.reduce(($,ee,ue)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const ve={};return wt(ee.outlets,(ae,qt)=>{ve[qt]="string"==typeof ae?ae.split("/"):ae}),[...$,{outlets:ve}]}if(ee.segmentPath)return[...$,ee.segmentPath]}return"string"!=typeof ee?[...$,ee]:0===ue?(ee.split("/").forEach((ve,ae)=>{0==ae&&"."===ve||(0==ae&&""===ve?T=!0:".."===ve?N++:""!=ve&&$.push(ve))}),$):[...$,ee]},[]);return new Fr(T,N,L)}(T);return ee.toRoot()?Sr(N.root,N.root,new on([],{}),L,$):function ue(ae){const qt=function fo(A,N,T,L){if(A.isAbsolute)return new zr(N.root,!0,0);if(-1===L)return new zr(T,T===N.root,0);return function Po(A,N,T){let L=A,$=N,ee=T;for(;ee>$;){if(ee-=$,L=L.parent,!L)throw new w.vHH(4005,!1);$=L.segments.length}return new zr(L,!1,$-ee)}(T,L+(Tr(A.commands[0])?0:1),A.numberOfDoubleDots)}(ee,N,A.snapshot?._urlSegment,ae),Gn=qt.processChildren?Qi(qt.segmentGroup,qt.index,ee.commands):zs(qt.segmentGroup,qt.index,ee.commands);return Sr(N.root,qt.segmentGroup,Gn,L,$)}(A.snapshot?._lastPathIndex)}function Tr(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ii(A){return"object"==typeof A&&null!=A&&A.outlets}function Sr(A,N,T,L,$){let ue,ee={};L&&wt(L,(ae,qt)=>{ee[qt]=Array.isArray(ae)?ae.map(Gn=>`${Gn}`):`${ae}`}),ue=A===N?T:_s(A,N,T);const ve=se(je(ue));return new Vn(ve,ee,$)}function _s(A,N,T){const L={};return wt(A.children,($,ee)=>{L[ee]=$===N?T:_s($,N,T)}),new on(A.segments,L)}class Fr{constructor(N,T,L){if(this.isAbsolute=N,this.numberOfDoubleDots=T,this.commands=L,N&&L.length>0&&Tr(L[0]))throw new w.vHH(4003,!1);const $=L.find(Ii);if($&&$!==vt(L))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zr{constructor(N,T,L){this.segmentGroup=N,this.processChildren=T,this.index=L}}function zs(A,N,T){if(A||(A=new on([],{})),0===A.segments.length&&A.hasChildren())return Qi(A,N,T);const L=function ro(A,N,T){let L=0,$=N;const ee={match:!1,pathIndex:0,commandIndex:0};for(;$<A.segments.length;){if(L>=T.length)return ee;const ue=A.segments[$],ve=T[L];if(Ii(ve))break;const ae=`${ve}`,qt=L<T.length-1?T[L+1]:null;if($>0&&void 0===ae)break;if(ae&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!Oi(ae,qt,ue))return ee;L+=2}else{if(!Oi(ae,{},ue))return ee;L++}$++}return{match:!0,pathIndex:$,commandIndex:L}}(A,N,T),$=T.slice(L.commandIndex);if(L.match&&L.pathIndex<A.segments.length){const ee=new on(A.segments.slice(0,L.pathIndex),{});return ee.children[At]=new on(A.segments.slice(L.pathIndex),A.children),Qi(ee,0,$)}return L.match&&0===$.length?new on(A.segments,{}):L.match&&!A.hasChildren()?As(A,N,T):L.match?Qi(A,0,$):As(A,N,T)}function Qi(A,N,T){if(0===T.length)return new on(A.segments,{});{const L=function ur(A){return Ii(A[0])?A[0].outlets:{[At]:A}}(T),$={};return wt(L,(ee,ue)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&($[ue]=zs(A.children[ue],N,ee))}),wt(A.children,(ee,ue)=>{void 0===L[ue]&&($[ue]=ee)}),new on(A.segments,$)}}function As(A,N,T){const L=A.segments.slice(0,N);let $=0;for(;$<T.length;){const ee=T[$];if(Ii(ee)){const ae=cs(ee.outlets);return new on(L,ae)}if(0===$&&Tr(T[0])){L.push(new bn(A.segments[N].path,io(T[0]))),$++;continue}const ue=Ii(ee)?ee.outlets[At]:`${ee}`,ve=$<T.length-1?T[$+1]:null;ue&&ve&&Tr(ve)?(L.push(new bn(ue,io(ve))),$+=2):(L.push(new bn(ue,{})),$++)}return new on(L,{})}function cs(A){const N={};return wt(A,(T,L)=>{"string"==typeof T&&(T=[T]),null!==T&&(N[L]=As(new on([],{}),0,T))}),N}function io(A){const N={};return wt(A,(T,L)=>N[L]=`${T}`),N}function Oi(A,N,T){return A==T.path&&Wn(N,T.parameters)}class Lr{constructor(N,T){this.id=N,this.url=T}}class Vs extends Lr{constructor(N,T,L="imperative",$=null){super(N,T),this.type=0,this.navigationTrigger=L,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rr extends Lr{constructor(N,T,L){super(N,T),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ii extends Lr{constructor(N,T,L,$){super(N,T),this.reason=L,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bs extends Lr{constructor(N,T,L,$){super(N,T),this.error=L,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class us extends Lr{constructor(N,T,L,$){super(N,T),this.urlAfterRedirects=L,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Lr{constructor(N,T,L,$){super(N,T),this.urlAfterRedirects=L,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends Lr{constructor(N,T,L,$,ee){super(N,T),this.urlAfterRedirects=L,this.state=$,this.shouldActivate=ee,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bi extends Lr{constructor(N,T,L,$){super(N,T),this.urlAfterRedirects=L,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ll extends Lr{constructor(N,T,L,$){super(N,T),this.urlAfterRedirects=L,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fa{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cc{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vl{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uc{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(N,T,L){this.routerEvent=N,this.position=T,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ae{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const T=this.pathFromRoot(N);return T.length>1?T[T.length-2]:null}children(N){const T=Ke(N,this._root);return T?T.children.map(L=>L.value):[]}firstChild(N){const T=Ke(N,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(N){const T=bt(N,this._root);return T.length<2?[]:T[T.length-2].children.map($=>$.value).filter($=>$!==N)}pathFromRoot(N){return bt(N,this._root).map(T=>T.value)}}function Ke(A,N){if(A===N.value)return N;for(const T of N.children){const L=Ke(A,T);if(L)return L}return null}function bt(A,N){if(A===N.value)return[N];for(const T of N.children){const L=bt(A,T);if(L.length)return L.unshift(N),L}return[]}class kt{constructor(N,T){this.value=N,this.children=T}toString(){return`TreeNode(${this.value})`}}function tn(A){const N={};return A&&A.children.forEach(T=>N[T.value.outlet]=T),N}class br extends Ae{constructor(N,T){super(N),this.snapshot=T,$i(this,N)}toString(){return this.snapshot.toString()}}function Ar(A,N){const T=function Nr(A,N){const ue=new Ra([],{},{},"",{},At,N,null,A.root,-1,{});return new xa("",new kt(ue,[]))}(A,N),L=new Ee.X([new bn("",{})]),$=new Ee.X({}),ee=new Ee.X({}),ue=new Ee.X({}),ve=new Ee.X(""),ae=new Ji(L,$,ue,ve,ee,At,N,T.root);return ae.snapshot=T.root,new br(new kt(ae,[]),T)}class Ji{constructor(N,T,L,$,ee,ue,ve,ae){this.url=N,this.params=T,this.queryParams=L,this.fragment=$,this.data=ee,this.outlet=ue,this.component=ve,this.title=this.data?.pipe((0,tt.U)(qt=>qt[Zt]))??(0,X.of)(void 0),this._futureSnapshot=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(N=>pn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(N=>pn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(A,N="emptyOnly"){const T=A.pathFromRoot;let L=0;if("always"!==N)for(L=T.length-1;L>=1;){const $=T[L],ee=T[L-1];if($.routeConfig&&""===$.routeConfig.path)L--;else{if(ee.component)break;L--}}return function ys(A){return A.reduce((N,T)=>({params:{...N.params,...T.params},data:{...N.data,...T.data},resolve:{...T.data,...N.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(L))}class Ra{constructor(N,T,L,$,ee,ue,ve,ae,qt,Gn,In,Hr){this.url=N,this.params=T,this.queryParams=L,this.fragment=$,this.data=ee,this.outlet=ue,this.component=ve,this.title=this.data?.[Zt],this.routeConfig=ae,this._urlSegment=qt,this._lastPathIndex=Gn,this._correctedLastPathIndex=Hr??Gn,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xa extends Ae{constructor(N,T){super(T),this.url=N,$i(this,T)}toString(){return so(this._root)}}function $i(A,N){N.value._routerState=A,N.children.forEach(T=>$i(A,T))}function so(A){const N=A.children.length>0?` { ${A.children.map(so).join(", ")} } `:"";return`${A.value}${N}`}function oo(A){if(A.snapshot){const N=A.snapshot,T=A._futureSnapshot;A.snapshot=T,Wn(N.queryParams,T.queryParams)||A.queryParams.next(T.queryParams),N.fragment!==T.fragment&&A.fragment.next(T.fragment),Wn(N.params,T.params)||A.params.next(T.params),function Dn(A,N){if(A.length!==N.length)return!1;for(let T=0;T<A.length;++T)if(!Wn(A[T],N[T]))return!1;return!0}(N.url,T.url)||A.url.next(T.url),Wn(N.data,T.data)||A.data.next(T.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function qs(A,N){const T=Wn(A.params,N.params)&&function xr(A,N){return On(A,N)&&A.every((T,L)=>Wn(T.parameters,N[L].parameters))}(A.url,N.url);return T&&!(!A.parent!=!N.parent)&&(!A.parent||qs(A.parent,N.parent))}function Ys(A,N,T){if(T&&A.shouldReuseRoute(N.value,T.value.snapshot)){const L=T.value;L._futureSnapshot=N.value;const $=function Oa(A,N,T){return N.children.map(L=>{for(const $ of T.children)if(A.shouldReuseRoute(L.value,$.value.snapshot))return Ys(A,L,$);return Ys(A,L)})}(A,N,T);return new kt(L,$)}{if(A.shouldAttach(N.value)){const ee=A.retrieve(N.value);if(null!==ee){const ue=ee.route;return ue.value._futureSnapshot=N.value,ue.children=N.children.map(ve=>Ys(A,ve)),ue}}const L=function Bl(A){return new Ji(new Ee.X(A.url),new Ee.X(A.params),new Ee.X(A.queryParams),new Ee.X(A.fragment),new Ee.X(A.data),A.outlet,A.component,A)}(N.value),$=N.children.map(ee=>Ys(A,ee));return new kt(L,$)}}const mo="ngNavigationCancelingError";function _o(A,N){const{redirectTo:T,navigationBehaviorOptions:L}=Yt(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,$=Pa(!1,0,N);return $.url=T,$.navigationBehaviorOptions=L,$}function Pa(A,N,T){const L=new Error("NavigationCancelingError: "+(A||""));return L[mo]=!0,L.cancellationCode=N,T&&(L.url=T),L}function wi(A){return Ei(A)&&Yt(A.url)}function Ei(A){return A&&A[mo]}class ka{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Us,this.attachRef=null}}let Us=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(T,L){const $=this.getOrCreateContext(T);$.outlet=L,this.contexts.set(T,$)}onChildOutletDestroyed(T){const L=this.getContext(T);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let L=this.getContext(T);return L||(L=new ka,this.contexts.set(T,L)),L}getContext(T){return this.contexts.get(T)||null}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Qo=!1;let Kr=(()=>{class A{constructor(T,L,$,ee,ue){this.parentContexts=T,this.location=L,this.changeDetector=ee,this.environmentInjector=ue,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.name=$||At,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Qo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Qo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Qo);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,L){this.activated=T,this._activatedRoute=L,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,L){if(this.isActivated)throw new w.vHH(4013,Qo);this._activatedRoute=T;const $=this.location,ue=T._futureSnapshot.component,ve=this.parentContexts.getOrCreateContext(this.name).children,ae=new Si(T,ve,$.injector);if(L&&function yo(A){return!!A.resolveComponentFactory}(L)){const qt=L.resolveComponentFactory(ue);this.activated=$.createComponent(qt,$.length,ae)}else this.activated=$.createComponent(ue,{index:$.length,injector:ae,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(T){return new(T||A)(w.Y36(Us),w.Y36(w.s_b),w.$8M("name"),w.Y36(w.sBO),w.Y36(w.lqb))},A.\u0275dir=w.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),A})();class Si{constructor(N,T,L){this.route=N,this.childContexts=T,this.parent=L}get(N,T){return N===Ji?this.route:N===Us?this.childContexts:this.parent.get(N,T)}}let Fa=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275cmp=w.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(T,L){1&T&&w._UZ(0,"router-outlet")},dependencies:[Kr],encapsulation:2}),A})();function Qs(A,N){return A.providers&&!A._injector&&(A._injector=(0,w.MMx)(A.providers,N,`Route: ${A.path}`)),A._injector??N}function Gi(A){const N=A.children&&A.children.map(Gi),T=N?{...A,children:N}:{...A};return!T.component&&!T.loadComponent&&(N||T.loadChildren)&&T.outlet&&T.outlet!==At&&(T.component=Fa),T}function Pi(A){return A.outlet||At}function Ns(A,N){const T=A.filter(L=>Pi(L)===N);return T.push(...A.filter(L=>Pi(L)!==N)),T}function Nn(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let N=A.parent;N;N=N.parent){const T=N.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class xc{constructor(N,T,L,$){this.routeReuseStrategy=N,this.futureState=T,this.currState=L,this.forwardEvent=$}activate(N){const T=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,L,N),oo(this.futureState.root),this.activateChildRoutes(T,L,N)}deactivateChildRoutes(N,T,L){const $=tn(T);N.children.forEach(ee=>{const ue=ee.value.outlet;this.deactivateRoutes(ee,$[ue],L),delete $[ue]}),wt($,(ee,ue)=>{this.deactivateRouteAndItsChildren(ee,L)})}deactivateRoutes(N,T,L){const $=N.value,ee=T?T.value:null;if($===ee)if($.component){const ue=L.getContext($.outlet);ue&&this.deactivateChildRoutes(N,T,ue.children)}else this.deactivateChildRoutes(N,T,L);else ee&&this.deactivateRouteAndItsChildren(T,L)}deactivateRouteAndItsChildren(N,T){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,T):this.deactivateRouteAndOutlet(N,T)}detachAndStoreRouteSubtree(N,T){const L=T.getContext(N.value.outlet),$=L&&N.value.component?L.children:T,ee=tn(N);for(const ue of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[ue],$);if(L&&L.outlet){const ue=L.outlet.detach(),ve=L.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:ue,route:N,contexts:ve})}}deactivateRouteAndOutlet(N,T){const L=T.getContext(N.value.outlet),$=L&&N.value.component?L.children:T,ee=tn(N);for(const ue of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[ue],$);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(N,T,L){const $=tn(T);N.children.forEach(ee=>{this.activateRoutes(ee,$[ee.value.outlet],L),this.forwardEvent(new uc(ee.value.snapshot))}),N.children.length&&this.forwardEvent(new Ur(N.value.snapshot))}activateRoutes(N,T,L){const $=N.value,ee=T?T.value:null;if(oo($),$===ee)if($.component){const ue=L.getOrCreateContext($.outlet);this.activateChildRoutes(N,T,ue.children)}else this.activateChildRoutes(N,T,L);else if($.component){const ue=L.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const ve=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),ue.children.onOutletReAttached(ve.contexts),ue.attachRef=ve.componentRef,ue.route=ve.route.value,ue.outlet&&ue.outlet.attach(ve.componentRef,ve.route.value),oo(ve.route.value),this.activateChildRoutes(N,null,ue.children)}else{const ve=Nn($.snapshot),ae=ve?.get(w._Vd)??null;ue.attachRef=null,ue.route=$,ue.resolver=ae,ue.injector=ve,ue.outlet&&ue.outlet.activateWith($,ue.injector),this.activateChildRoutes(N,null,ue.children)}}else this.activateChildRoutes(N,null,L)}}class dc{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Jo{constructor(N,T){this.component=N,this.route=T}}function Xo(A,N,T){const L=A._root;return ao(L,N?N._root:null,T,[L.value])}function hs(A,N){const T=Symbol(),L=N.get(A,T);return L===T?"function"!=typeof A||(0,w.Z0I)(A)?N.get(A):A:L}function ao(A,N,T,L,$={canDeactivateChecks:[],canActivateChecks:[]}){const ee=tn(N);return A.children.forEach(ue=>{(function Mt(A,N,T,L,$={canDeactivateChecks:[],canActivateChecks:[]}){const ee=A.value,ue=N?N.value:null,ve=T?T.getContext(A.value.outlet):null;if(ue&&ee.routeConfig===ue.routeConfig){const ae=function cr(A,N,T){if("function"==typeof T)return T(A,N);switch(T){case"pathParamsChange":return!On(A.url,N.url);case"pathParamsOrQueryParamsChange":return!On(A.url,N.url)||!Wn(A.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qs(A,N)||!Wn(A.queryParams,N.queryParams);default:return!qs(A,N)}}(ue,ee,ee.routeConfig.runGuardsAndResolvers);ae?$.canActivateChecks.push(new dc(L)):(ee.data=ue.data,ee._resolvedData=ue._resolvedData),ao(A,N,ee.component?ve?ve.children:null:T,L,$),ae&&ve&&ve.outlet&&ve.outlet.isActivated&&$.canDeactivateChecks.push(new Jo(ve.outlet.component,ue))}else ue&&Ms(N,ve,$),$.canActivateChecks.push(new dc(L)),ao(A,null,ee.component?ve?ve.children:null:T,L,$)})(ue,ee[ue.value.outlet],T,L.concat([ue.value]),$),delete ee[ue.value.outlet]}),wt(ee,(ue,ve)=>Ms(ue,T.getContext(ve),$)),$}function Ms(A,N,T){const L=tn(A),$=A.value;wt(L,(ee,ue)=>{Ms(ee,$.component?N?N.children.getContext(ue):null:N,T)}),T.canDeactivateChecks.push(new Jo($.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,$))}function Js(A){return"function"==typeof A}function W(A){return A instanceof Ne.K||"EmptyError"===A?.name}const U=Symbol("INITIAL_VALUE");function F(){return(0,ze.w)(A=>(0,Pe.a)(A.map(N=>N.pipe((0,Ot.q)(1),(0,Dt.O)(U)))).pipe((0,tt.U)(N=>{for(const T of N)if(!0!==T){if(T===U)return U;if(!1===T||T instanceof Vn)return T}return!0}),(0,we.h)(N=>N!==U),(0,Ot.q)(1)))}function ea(A){return(0,pe.z)((0,rn.b)(N=>{if(Yt(N))throw _o(0,N)}),(0,tt.U)(N=>!0===N))}const Wi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ba(A,N,T,L,$){const ee=Fo(A,N,T);return ee.matched?function nl(A,N,T,L){const $=N.canMatch;if(!$||0===$.length)return(0,X.of)(!0);const ee=$.map(ue=>{const ve=hs(ue,A);return kn(function ma(A){return A&&Js(A.canMatch)}(ve)?ve.canMatch(N,T):A.runInContext(()=>ve(N,T)))});return(0,X.of)(ee).pipe(F(),ea())}(L=Qs(N,L),N,T).pipe((0,tt.U)(ue=>!0===ue?ee:{...Wi})):(0,X.of)(ee)}function Fo(A,N,T){if(""===N.path)return"full"===N.pathMatch&&(A.hasChildren()||T.length>0)?{...Wi}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const $=(N.matcher||zt)(T,A,N);if(!$)return{...Wi};const ee={};wt($.posParams,(ve,ae)=>{ee[ae]=ve.path});const ue=$.consumed.length>0?{...ee,...$.consumed[$.consumed.length-1].parameters}:ee;return{matched:!0,consumedSegments:$.consumed,remainingSegments:T.slice($.consumed.length),parameters:ue,positionalParamSegments:$.posParams??{}}}function Eo(A,N,T,L,$="corrected"){if(T.length>0&&function Ua(A,N,T){return T.some(L=>Lo(A,N,L)&&Pi(L)!==At)}(A,T,L)){const ue=new on(N,function ya(A,N,T,L){const $={};$[At]=L,L._sourceSegment=A,L._segmentIndexShift=N.length;for(const ee of T)if(""===ee.path&&Pi(ee)!==At){const ue=new on([],{});ue._sourceSegment=A,ue._segmentIndexShift=N.length,$[Pi(ee)]=ue}return $}(A,N,L,new on(T,A.children)));return ue._sourceSegment=A,ue._segmentIndexShift=N.length,{segmentGroup:ue,slicedSegments:[]}}if(0===T.length&&function ja(A,N,T){return T.some(L=>Lo(A,N,L))}(A,T,L)){const ue=new on(A.segments,function _a(A,N,T,L,$,ee){const ue={};for(const ve of L)if(Lo(A,T,ve)&&!$[Pi(ve)]){const ae=new on([],{});ae._sourceSegment=A,ae._segmentIndexShift="legacy"===ee?A.segments.length:N.length,ue[Pi(ve)]=ae}return{...$,...ue}}(A,N,T,L,A.children,$));return ue._sourceSegment=A,ue._segmentIndexShift=N.length,{segmentGroup:ue,slicedSegments:T}}const ee=new on(A.segments,A.children);return ee._sourceSegment=A,ee._segmentIndexShift=N.length,{segmentGroup:ee,slicedSegments:T}}function Lo(A,N,T){return(!(A.hasChildren()||N.length>0)||"full"!==T.pathMatch)&&""===T.path}function rl(A,N,T,L){return!!(Pi(A)===L||L!==At&&Lo(N,T,A))&&("**"===A.path||Fo(N,A,T).matched)}function il(A,N,T){return 0===N.length&&!A.children[T]}const Mr=!1;class Do{constructor(N){this.segmentGroup=N||null}}class Zr{constructor(N){this.urlTree=N}}function sl(A){return It(new Do(A))}function ol(A){return It(new Zr(A))}class js{constructor(N,T,L,$,ee){this.injector=N,this.configLoader=T,this.urlSerializer=L,this.urlTree=$,this.config=ee,this.allowRedirects=!0}apply(){const N=Eo(this.urlTree.root,[],[],this.config).segmentGroup,T=new on(N.segments,N.children);return this.expandSegmentGroup(this.injector,this.config,T,At).pipe((0,tt.U)(ee=>this.createUrlTree(je(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pt(ee=>{if(ee instanceof Zr)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof Do?this.noMatchError(ee):ee}))}match(N){return this.expandSegmentGroup(this.injector,this.config,N.root,At).pipe((0,tt.U)($=>this.createUrlTree(je($),N.queryParams,N.fragment))).pipe(Pt($=>{throw $ instanceof Do?this.noMatchError($):$}))}noMatchError(N){return new w.vHH(4002,Mr)}createUrlTree(N,T,L){const $=se(N);return new Vn($,T,L)}expandSegmentGroup(N,T,L,$){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(N,T,L).pipe((0,tt.U)(ee=>new on([],ee))):this.expandSegment(N,L,T,L.segments,$,!0)}expandChildren(N,T,L){const $=[];for(const ee of Object.keys(L.children))"primary"===ee?$.unshift(ee):$.push(ee);return(0,D.D)($).pipe(Tt(ee=>{const ue=L.children[ee],ve=Ns(T,ee);return this.expandSegmentGroup(N,ve,ue,ee).pipe((0,tt.U)(ae=>({segment:ae,outlet:ee})))}),(0,Yn.R)((ee,ue)=>(ee[ue.outlet]=ue.segment,ee),{}),Me())}expandSegment(N,T,L,$,ee,ue){return(0,D.D)(L).pipe(Tt(ve=>this.expandSegmentAgainstRoute(N,T,L,ve,$,ee,ue).pipe(Pt(qt=>{if(qt instanceof Do)return(0,X.of)(null);throw qt}))),(0,dt.P)(ve=>!!ve),Pt((ve,ae)=>{if(W(ve))return il(T,$,ee)?(0,X.of)(new on([],{})):sl(T);throw ve}))}expandSegmentAgainstRoute(N,T,L,$,ee,ue,ve){return rl($,T,ee,ue)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(N,T,$,ee,ue):ve&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,T,L,$,ee,ue):sl(T):sl(T)}expandSegmentAgainstRouteUsingRedirect(N,T,L,$,ee,ue){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,L,$,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(N,T,L,$,ee,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,T,L,$){const ee=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?ol(ee):this.lineralizeSegments(L,ee).pipe((0,ct.z)(ue=>{const ve=new on(ue,{});return this.expandSegment(N,ve,T,ue,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,T,L,$,ee,ue){const{matched:ve,consumedSegments:ae,remainingSegments:qt,positionalParamSegments:Gn}=Fo(T,$,ee);if(!ve)return sl(T);const In=this.applyRedirectCommands(ae,$.redirectTo,Gn);return $.redirectTo.startsWith("/")?ol(In):this.lineralizeSegments($,In).pipe((0,ct.z)(Hr=>this.expandSegment(N,T,L,Hr.concat(qt),ue,!1)))}matchSegmentAgainstRoute(N,T,L,$,ee){return"**"===L.path?(N=Qs(L,N),L.loadChildren?(L._loadedRoutes?(0,X.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(N,L)).pipe((0,tt.U)(ve=>(L._loadedRoutes=ve.routes,L._loadedInjector=ve.injector,new on($,{})))):(0,X.of)(new on($,{}))):Ba(T,L,$,N).pipe((0,ze.w)(({matched:ue,consumedSegments:ve,remainingSegments:ae})=>ue?this.getChildConfig(N=L._injector??N,L,$).pipe((0,ct.z)(Gn=>{const In=Gn.injector??N,Hr=Gn.routes,{segmentGroup:gi,slicedSegments:za}=Eo(T,ve,ae,Hr),Ao=new on(gi.segments,gi.children);if(0===za.length&&Ao.hasChildren())return this.expandChildren(In,Hr,Ao).pipe((0,tt.U)(wa=>new on(ve,wa)));if(0===Hr.length&&0===za.length)return(0,X.of)(new on(ve,{}));const No=Pi(L)===ee;return this.expandSegment(In,Ao,Hr,za,No?At:ee,!0).pipe((0,tt.U)(ou=>new on(ve.concat(ou.segments),ou.children)))})):sl(T)))}getChildConfig(N,T,L){return T.children?(0,X.of)({routes:T.children,injector:N}):T.loadChildren?void 0!==T._loadedRoutes?(0,X.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Xi(A,N,T,L){const $=N.canLoad;if(void 0===$||0===$.length)return(0,X.of)(!0);const ee=$.map(ue=>{const ve=hs(ue,A);return kn(function ga(A){return A&&Js(A.canLoad)}(ve)?ve.canLoad(N,T):A.runInContext(()=>ve(N,T)))});return(0,X.of)(ee).pipe(F(),ea())}(N,T,L).pipe((0,ct.z)($=>$?this.configLoader.loadChildren(N,T).pipe((0,rn.b)(ee=>{T._loadedRoutes=ee.routes,T._loadedInjector=ee.injector})):function Hl(A){return It(Pa(Mr,3))}())):(0,X.of)({routes:[],injector:N})}lineralizeSegments(N,T){let L=[],$=T.root;for(;;){if(L=L.concat($.segments),0===$.numberOfChildren)return(0,X.of)(L);if($.numberOfChildren>1||!$.children[At])return It(new w.vHH(4e3,Mr));$=$.children[At]}}applyRedirectCommands(N,T,L){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),N,L)}applyRedirectCreateUrlTree(N,T,L,$){const ee=this.createSegmentGroup(N,T.root,L,$);return new Vn(ee,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(N,T){const L={};return wt(N,($,ee)=>{if("string"==typeof $&&$.startsWith(":")){const ve=$.substring(1);L[ee]=T[ve]}else L[ee]=$}),L}createSegmentGroup(N,T,L,$){const ee=this.createSegments(N,T.segments,L,$);let ue={};return wt(T.children,(ve,ae)=>{ue[ae]=this.createSegmentGroup(N,ve,L,$)}),new on(ee,ue)}createSegments(N,T,L,$){return T.map(ee=>ee.path.startsWith(":")?this.findPosParam(N,ee,$):this.findOrReturn(ee,L))}findPosParam(N,T,L){const $=L[T.path.substring(1)];if(!$)throw new w.vHH(4001,Mr);return $}findOrReturn(N,T){let L=0;for(const $ of T){if($.path===N.path)return T.splice(L),$;L++}return N}}class Gl{}class xs{constructor(N,T,L,$,ee,ue,ve,ae){this.injector=N,this.rootComponentType=T,this.config=L,this.urlTree=$,this.url=ee,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=ve,this.urlSerializer=ae}recognize(){const N=Eo(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,At).pipe((0,tt.U)(T=>{if(null===T)return null;const L=new Ra([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new kt(L,T),ee=new xa(this.url,$);return this.inheritParamsAndData(ee._root),ee}))}inheritParamsAndData(N){const T=N.value,L=go(T,this.paramsInheritanceStrategy);T.params=Object.freeze(L.params),T.data=Object.freeze(L.data),N.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(N,T,L,$){return 0===L.segments.length&&L.hasChildren()?this.processChildren(N,T,L):this.processSegment(N,T,L,L.segments,$)}processChildren(N,T,L){return(0,D.D)(Object.keys(L.children)).pipe(Tt($=>{const ee=L.children[$],ue=Ns(T,$);return this.processSegmentGroup(N,ue,ee,$)}),(0,Yn.R)(($,ee)=>$&&ee?($.push(...ee),$):null),function Ge(A,N=!1){return(0,Lt.e)((T,L)=>{let $=0;T.subscribe((0,lt.x)(L,ee=>{const ue=A(ee,$++);(ue||N)&&L.next(ee),!ue&&L.complete()}))})}($=>null!==$),(0,Hn.d)(null),Me(),(0,tt.U)($=>{if(null===$)return null;const ee=Oc($);return function Io(A){A.sort((N,T)=>N.value.outlet===At?-1:T.value.outlet===At?1:N.value.outlet.localeCompare(T.value.outlet))}(ee),ee}))}processSegment(N,T,L,$,ee){return(0,D.D)(T).pipe(Tt(ue=>this.processSegmentAgainstRoute(ue._injector??N,ue,L,$,ee)),(0,dt.P)(ue=>!!ue),Pt(ue=>{if(W(ue))return il(L,$,ee)?(0,X.of)([]):(0,X.of)(null);throw ue}))}processSegmentAgainstRoute(N,T,L,$,ee){if(T.redirectTo||!rl(T,L,$,ee))return(0,X.of)(null);let ue;if("**"===T.path){const ve=$.length>0?vt($).parameters:{},ae=jr(L)+$.length,qt=new Ra($,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(T),Pi(T),T.component??T._loadedComponent??null,T,cl(L),ae,B(T),ae);ue=(0,X.of)({snapshot:qt,consumedSegments:[],remainingSegments:[]})}else ue=Ba(L,T,$,N).pipe((0,tt.U)(({matched:ve,consumedSegments:ae,remainingSegments:qt,parameters:Gn})=>{if(!ve)return null;const In=jr(L)+ae.length;return{snapshot:new Ra(ae,Gn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(T),Pi(T),T.component??T._loadedComponent??null,T,cl(L),In,B(T),In),consumedSegments:ae,remainingSegments:qt}}));return ue.pipe((0,ze.w)(ve=>{if(null===ve)return(0,X.of)(null);const{snapshot:ae,consumedSegments:qt,remainingSegments:Gn}=ve;N=T._injector??N;const In=T._loadedInjector??N,Hr=function Ha(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(T),{segmentGroup:gi,slicedSegments:za}=Eo(L,qt,Gn,Hr.filter(No=>void 0===No.redirectTo),this.relativeLinkResolution);if(0===za.length&&gi.hasChildren())return this.processChildren(In,Hr,gi).pipe((0,tt.U)(No=>null===No?null:[new kt(ae,No)]));if(0===Hr.length&&0===za.length)return(0,X.of)([new kt(ae,[])]);const Ao=Pi(T)===ee;return this.processSegment(In,Hr,gi,za,Ao?At:ee).pipe((0,tt.U)(No=>null===No?null:[new kt(ae,No)]))}))}}function $a(A){const N=A.value.routeConfig;return N&&""===N.path&&void 0===N.redirectTo}function Oc(A){const N=[],T=new Set;for(const L of A){if(!$a(L)){N.push(L);continue}const $=N.find(ee=>L.value.routeConfig===ee.value.routeConfig);void 0!==$?($.children.push(...L.children),T.add($)):N.push(L)}for(const L of T){const $=Oc(L.children);N.push(new kt(L.value,$))}return N.filter(L=>!T.has(L))}function cl(A){let N=A;for(;N._sourceSegment;)N=N._sourceSegment;return N}function jr(A){let N=A,T=N._segmentIndexShift??0;for(;N._sourceSegment;)N=N._sourceSegment,T+=N._segmentIndexShift??0;return T-1}function Z(A){return A.data||{}}function B(A){return A.resolve||{}}function Qn(A){return"string"==typeof A.title||null===A.title}function $n(A){return(0,ze.w)(N=>{const T=A(N);return T?(0,D.D)(T).pipe((0,tt.U)(()=>N)):(0,X.of)(N)})}let Jn=(()=>{class A{buildTitle(T){let L,$=T.root;for(;void 0!==$;)L=this.getResolvedTitleForRoute($)??L,$=$.children.find(ee=>ee.outlet===At);return L}getResolvedTitleForRoute(T){return T.data[Zt]}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return(0,w.f3M)(di)},providedIn:"root"}),A})(),di=(()=>{class A extends Jn{constructor(T){super(),this.title=T}updateTitle(T){const L=this.buildTitle(T);void 0!==L&&this.title.setTitle(L)}}return A.\u0275fac=function(T){return new(T||A)(w.LFG(Ut.Dx))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class ki{}class zi extends class Bo{shouldDetach(N){return!1}store(N,T){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,T){return N.routeConfig===T.routeConfig}}{}const Ki=new w.OlP("",{providedIn:"root",factory:()=>({})}),To=new w.OlP("ROUTES");let ul=(()=>{class A{constructor(T,L){this.injector=T,this.compiler=L,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,X.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const L=kn(T.loadComponent()).pipe((0,rn.b)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ee}),Et(()=>{this.componentLoaders.delete(T)})),$=new Be(L,()=>new Vt.x).pipe(Xe());return this.componentLoaders.set(T,$),$}loadChildren(T,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,X.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const ee=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,tt.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(L);let ae,qt,Gn=!1;Array.isArray(ve)?qt=ve:(ae=ve.create(T).injector,qt=hr(ae.get(To,[],w.XFs.Self|w.XFs.Optional)));return{routes:qt.map(Gi),injector:ae}}),Et(()=>{this.childrenLoaders.delete(L)})),ue=new Be(ee,()=>new Vt.x).pipe(Xe());return this.childrenLoaders.set(L,ue),ue}loadModuleFactoryOrRoutes(T){return kn(T()).pipe((0,ct.z)(L=>L instanceof w.YKP||Array.isArray(L)?(0,X.of)(L):(0,D.D)(this.compiler.compileModuleAsync(L))))}}return A.\u0275fac=function(T){return new(T||A)(w.LFG(w.zs3),w.LFG(w.Sil))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class va{}class Ga{shouldProcessUrl(N){return!0}extract(N){return N}merge(N,T){return N}}function Ch(A){throw A}function iu(A,N,T){return N.parse("/")}const Xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zl(){const A=(0,w.f3M)(or),N=(0,w.f3M)(Us),T=(0,w.f3M)(mt.Ye),L=(0,w.f3M)(w.zs3),$=(0,w.f3M)(w.Sil),ee=(0,w.f3M)(To,{optional:!0})??[],ue=(0,w.f3M)(Ki,{optional:!0})??{},ve=(0,w.f3M)(di),ae=(0,w.f3M)(Jn,{optional:!0}),qt=(0,w.f3M)(va,{optional:!0}),Gn=(0,w.f3M)(ki,{optional:!0}),In=new oi(null,A,N,T,L,$,hr(ee));return qt&&(In.urlHandlingStrategy=qt),Gn&&(In.routeReuseStrategy=Gn),In.titleStrategy=ae??ve,function Di(A,N){A.errorHandler&&(N.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(N.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(N.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(N.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(N.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(N.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(N.canceledNavigationResolution=A.canceledNavigationResolution)}(ue,In),In}let oi=(()=>{class A{constructor(T,L,$,ee,ue,ve,ae){this.rootComponentType=T,this.urlSerializer=L,this.rootContexts=$,this.location=ee,this.config=ae,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt.x,this.errorHandler=Ch,this.malformedUriErrorHandler=iu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,X.of)(void 0),this.urlHandlingStrategy=new Ga,this.routeReuseStrategy=new zi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ue.get(ul),this.configLoader.onLoadEndListener=Hr=>this.triggerEvent(new Ks(Hr)),this.configLoader.onLoadStartListener=Hr=>this.triggerEvent(new fa(Hr)),this.ngModule=ue.get(w.h0i),this.console=ue.get(w.c2e);const In=ue.get(w.R0b);this.isNgZoneEnabled=In instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(ae),this.currentUrlTree=function Br(){return new Vn(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ar(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(T){const L=this.events;return T.pipe((0,we.h)($=>0!==$.id),(0,tt.U)($=>({...$,extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,ze.w)($=>{let ee=!1,ue=!1;return(0,X.of)($).pipe((0,rn.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ze.w)(ve=>{const ae=this.browserUrlTree.toString(),qt=!this.navigated||ve.extractedUrl.toString()!==ae||ae!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||qt)&&this.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return Zp(ve.source)&&(this.browserUrlTree=ve.extractedUrl),(0,X.of)(ve).pipe((0,ze.w)(In=>{const Hr=this.transitions.getValue();return L.next(new Vs(In.id,this.serializeUrl(In.extractedUrl),In.source,In.restoredState)),Hr!==this.transitions.getValue()?ot.E:Promise.resolve(In)}),function al(A,N,T,L){return(0,ze.w)($=>function $l(A,N,T,L,$){return new js(A,N,T,L,$).apply()}(A,N,T,$.extractedUrl,L).pipe((0,tt.U)(ee=>({...$,urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rn.b)(In=>{this.currentNavigation={...this.currentNavigation,finalUrl:In.urlAfterRedirects},$.urlAfterRedirects=In.urlAfterRedirects}),function ne(A,N,T,L,$,ee){return(0,ct.z)(ue=>function ll(A,N,T,L,$,ee,ue="emptyOnly",ve="legacy"){return new xs(A,N,T,L,$,ue,ve,ee).recognize().pipe((0,ze.w)(ae=>null===ae?function Wl(A){return new Fe.y(N=>N.error(A))}(new Gl):(0,X.of)(ae)))}(A,N,T,ue.urlAfterRedirects,L.serialize(ue.urlAfterRedirects),L,$,ee).pipe((0,tt.U)(ve=>({...ue,targetSnapshot:ve}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rn.b)(In=>{if($.targetSnapshot=In.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!In.extras.skipLocationChange){const gi=this.urlHandlingStrategy.merge(In.urlAfterRedirects,In.rawUrl);this.setBrowserUrl(gi,In)}this.browserUrlTree=In.urlAfterRedirects}const Hr=new us(In.id,this.serializeUrl(In.extractedUrl),this.serializeUrl(In.urlAfterRedirects),In.targetSnapshot);L.next(Hr)}));if(qt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Hr,extractedUrl:gi,source:za,restoredState:Ao,extras:No}=ve,pl=new Vs(Hr,this.serializeUrl(gi),za,Ao);L.next(pl);const ou=Ar(gi,this.rootComponentType).snapshot;return $={...ve,targetSnapshot:ou,urlAfterRedirects:gi,extras:{...No,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)($)}return this.rawUrlTree=ve.rawUrl,ve.resolve(null),ot.E}),(0,rn.b)(ve=>{const ae=new po(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot);this.triggerEvent(ae)}),(0,tt.U)(ve=>$={...ve,guards:Xo(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)}),function te(A,N){return(0,ct.z)(T=>{const{targetSnapshot:L,currentSnapshot:$,guards:{canActivateChecks:ee,canDeactivateChecks:ue}}=T;return 0===ue.length&&0===ee.length?(0,X.of)({...T,guardsResult:!0}):function rt(A,N,T,L){return(0,D.D)(A).pipe((0,ct.z)($=>function ko(A,N,T,L,$){const ee=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,X.of)(!0);const ue=ee.map(ve=>{const ae=Nn(N)??$,qt=hs(ve,ae);return kn(function Va(A){return A&&Js(A.canDeactivate)}(qt)?qt.canDeactivate(A,N,T,L):ae.runInContext(()=>qt(A,N,T,L))).pipe((0,dt.P)())});return(0,X.of)(ue).pipe(F())}($.component,$.route,T,N,L)),(0,dt.P)($=>!0!==$,!0))}(ue,L,$,A).pipe((0,ct.z)(ve=>ve&&function si(A){return"boolean"==typeof A}(ve)?function an(A,N,T,L){return(0,D.D)(N).pipe(Tt($=>(0,Re.z)(function Rs(A,N){return null!==A&&N&&N(new cc(A)),(0,X.of)(!0)}($.route.parent,L),function pr(A,N){return null!==A&&N&&N(new Vl(A)),(0,X.of)(!0)}($.route,L),function wo(A,N,T){const L=N[N.length-1],ee=N.slice(0,N.length-1).reverse().map(ue=>function La(A){const N=A.routeConfig?A.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:A,guards:N}:null}(ue)).filter(ue=>null!==ue).map(ue=>me(()=>{const ve=ue.guards.map(ae=>{const qt=Nn(ue.node)??T,Gn=hs(ae,qt);return kn(function ws(A){return A&&Js(A.canActivateChild)}(Gn)?Gn.canActivateChild(L,A):qt.runInContext(()=>Gn(L,A))).pipe((0,dt.P)())});return(0,X.of)(ve).pipe(F())}));return(0,X.of)(ee).pipe(F())}(A,$.path,T),function lo(A,N,T){const L=N.routeConfig?N.routeConfig.canActivate:null;if(!L||0===L.length)return(0,X.of)(!0);const $=L.map(ee=>me(()=>{const ue=Nn(N)??T,ve=hs(ee,ue);return kn(function bo(A){return A&&Js(A.canActivate)}(ve)?ve.canActivate(N,A):ue.runInContext(()=>ve(N,A))).pipe((0,dt.P)())}));return(0,X.of)($).pipe(F())}(A,$.route,T))),(0,dt.P)($=>!0!==$,!0))}(L,ee,A,N):(0,X.of)(ve)),(0,tt.U)(ve=>({...T,guardsResult:ve})))})}(this.ngModule.injector,ve=>this.triggerEvent(ve)),(0,rn.b)(ve=>{if($.guardsResult=ve.guardsResult,Yt(ve.guardsResult))throw _o(0,ve.guardsResult);const ae=new ds(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.triggerEvent(ae)}),(0,we.h)(ve=>!!ve.guardsResult||(this.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),$n(ve=>{if(ve.guards.canActivateChecks.length)return(0,X.of)(ve).pipe((0,rn.b)(ae=>{const qt=new bi(ae.id,this.serializeUrl(ae.extractedUrl),this.serializeUrl(ae.urlAfterRedirects),ae.targetSnapshot);this.triggerEvent(qt)}),(0,ze.w)(ae=>{let qt=!1;return(0,X.of)(ae).pipe(function De(A,N){return(0,ct.z)(T=>{const{targetSnapshot:L,guards:{canActivateChecks:$}}=T;if(!$.length)return(0,X.of)(T);let ee=0;return(0,D.D)($).pipe(Tt(ue=>function at(A,N,T,L){const $=A.routeConfig,ee=A._resolve;return void 0!==$?.title&&!Qn($)&&(ee[Zt]=$.title),function Ct(A,N,T,L){const $=function Cn(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===$.length)return(0,X.of)({});const ee={};return(0,D.D)($).pipe((0,ct.z)(ue=>function ir(A,N,T,L){const $=Nn(N)??L,ee=hs(A,$);return kn(ee.resolve?ee.resolve(N,T):$.runInContext(()=>ee(N,T)))}(A[ue],N,T,L).pipe((0,dt.P)(),(0,rn.b)(ve=>{ee[ue]=ve}))),fi(1),(0,qe.h)(ee),Pt(ue=>W(ue)?ot.E:It(ue)))}(ee,A,N,L).pipe((0,tt.U)(ue=>(A._resolvedData=ue,A.data=go(A,T).resolve,$&&Qn($)&&(A.data[Zt]=$.title),null)))}(ue.route,L,A,N)),(0,rn.b)(()=>ee++),fi(1),(0,ct.z)(ue=>ee===$.length?(0,X.of)(T):ot.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rn.b)({next:()=>qt=!0,complete:()=>{qt||(this.restoreHistory(ae),this.cancelNavigationTransition(ae,"",2))}}))}),(0,rn.b)(ae=>{const qt=new Ll(ae.id,this.serializeUrl(ae.extractedUrl),this.serializeUrl(ae.urlAfterRedirects),ae.targetSnapshot);this.triggerEvent(qt)}))}),$n(ve=>{const ae=qt=>{const Gn=[];qt.routeConfig?.loadComponent&&!qt.routeConfig._loadedComponent&&Gn.push(this.configLoader.loadComponent(qt.routeConfig).pipe((0,rn.b)(In=>{qt.component=In}),(0,tt.U)(()=>{})));for(const In of qt.children)Gn.push(...ae(In));return Gn};return(0,Pe.a)(ae(ve.targetSnapshot.root)).pipe((0,Hn.d)(),(0,Ot.q)(1))}),$n(()=>this.afterPreactivation()),(0,tt.U)(ve=>{const ae=function Zs(A,N,T){const L=Ys(A,N._root,T?T._root:void 0);return new br(L,N)}(this.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return $={...ve,targetRouterState:ae}}),(0,rn.b)(ve=>{this.currentUrlTree=ve.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),this.routerState=ve.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ve.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ve),this.browserUrlTree=ve.urlAfterRedirects)}),((A,N,T)=>(0,tt.U)(L=>(new xc(N,L.targetRouterState,L.currentRouterState,T).activate(A),L)))(this.rootContexts,this.routeReuseStrategy,ve=>this.triggerEvent(ve)),(0,rn.b)({next(){ee=!0},complete(){ee=!0}}),Et(()=>{ee||ue||this.cancelNavigationTransition($,"",1),this.currentNavigation?.id===$.id&&(this.currentNavigation=null)}),Pt(ve=>{if(ue=!0,Ei(ve)){wi(ve)||(this.navigated=!0,this.restoreHistory($,!0));const ae=new ii($.id,this.serializeUrl($.extractedUrl),ve.message,ve.cancellationCode);if(L.next(ae),wi(ve)){const qt=this.urlHandlingStrategy.merge(ve.url,this.rawUrlTree),Gn={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zp($.source)};this.scheduleNavigation(qt,"imperative",null,Gn,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{this.restoreHistory($,!0);const ae=new Bs($.id,this.serializeUrl($.extractedUrl),ve,$.targetSnapshot??void 0);L.next(ae);try{$.resolve(this.errorHandler(ve))}catch(qt){$.reject(qt)}}return ot.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next({...this.transitions.value,...T})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const L="popstate"===T.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{const $={replaceUrl:!0},ee=T.state?.navigationId?T.state:null;if(ee){const ve={...ee};delete ve.navigationId,delete ve.\u0275routerPageId,0!==Object.keys(ve).length&&($.state=ve)}const ue=this.parseUrl(T.url);this.scheduleNavigation(ue,L,ee,$)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(Gi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,L={}){const{relativeTo:$,queryParams:ee,fragment:ue,queryParamsHandling:ve,preserveFragment:ae}=L,qt=$||this.routerState.root,Gn=ae?this.currentUrlTree.fragment:ue;let In=null;switch(ve){case"merge":In={...this.currentUrlTree.queryParams,...ee};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=ee||null}return null!==In&&(In=this.removeEmptyProps(In)),xn(qt,this.currentUrlTree,T,In,Gn??null)}navigateByUrl(T,L={skipLocationChange:!1}){const $=Yt(T)?T:this.parseUrl(T),ee=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,L)}navigate(T,L={skipLocationChange:!1}){return function pc(A){for(let N=0;N<A.length;N++){if(null==A[N])throw new w.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,L),L)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let L;try{L=this.urlSerializer.parse(T)}catch($){L=this.malformedUriErrorHandler($,this.urlSerializer,T)}return L}isActive(T,L){let $;if($=!0===L?{...Xs}:!1===L?{...fc}:L,Yt(T))return fr(this.currentUrlTree,T,$);const ee=this.parseUrl(T);return fr(this.currentUrlTree,ee,$)}removeEmptyProps(T){return Object.keys(T).reduce((L,$)=>{const ee=T[$];return null!=ee&&(L[$]=ee),L},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new Rr(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,L,$,ee,ue){if(this.disposed)return Promise.resolve(!1);let ve,ae,qt;ue?(ve=ue.resolve,ae=ue.reject,qt=ue.promise):qt=new Promise((Hr,gi)=>{ve=Hr,ae=gi});const Gn=++this.navigationId;let In;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),In=$&&$.\u0275routerPageId?$.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):In=0,this.setTransition({id:Gn,targetPageId:In,source:L,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:ee,resolve:ve,reject:ae,promise:qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qt.catch(Hr=>Promise.reject(Hr))}setBrowserUrl(T,L){const $=this.urlSerializer.serialize(T),ee={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.isCurrentPathEqualTo($)||L.extras.replaceUrl?this.location.replaceState($,"",ee):this.location.go($,"",ee)}restoreHistory(T,L=!1){if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===$?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===$&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo($)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,L,$){const ee=new ii(T.id,this.serializeUrl(T.extractedUrl),L,$);this.triggerEvent(ee),T.resolve(!1)}generateNgRouterState(T,L){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:L}:{navigationId:T}}}return A.\u0275fac=function(T){w.$Z()},A.\u0275prov=w.Yz7({token:A,factory:function(){return zl()},providedIn:"root"}),A})();function Zp(A){return"imperative"!==A}let Ft=(()=>{class A{constructor(T,L,$,ee,ue){this.router=T,this.route=L,this.tabIndexAttribute=$,this.renderer=ee,this.el=ue,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Vt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,w.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,w.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,w.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const L=this.renderer,$=this.el.nativeElement;null!==T?L.setAttribute($,"tabindex",T):L.removeAttribute($,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(T){return new(T||A)(w.Y36(oi),w.Y36(Ji),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq))},A.\u0275dir=w.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,L){1&T&&w.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),A})();class ln{}let sn=(()=>{class A{constructor(T,L,$,ee,ue){this.router=T,this.injector=$,this.preloadingStrategy=ee,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.h)(T=>T instanceof Rr),Tt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,L){const $=[];for(const ee of L){ee.providers&&!ee._injector&&(ee._injector=(0,w.MMx)(ee.providers,T,`Route: ${ee.path}`));const ue=ee._injector??T,ve=ee._loadedInjector??ue;ee.loadChildren&&!ee._loadedRoutes&&void 0===ee.canLoad||ee.loadComponent&&!ee._loadedComponent?$.push(this.preloadConfig(ue,ee)):(ee.children||ee._loadedRoutes)&&$.push(this.processRoutes(ve,ee.children??ee._loadedRoutes))}return(0,D.D)($).pipe((0,st.J)())}preloadConfig(T,L){return this.preloadingStrategy.preload(L,()=>{let $;$=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(T,L):(0,X.of)(null);const ee=$.pipe((0,ct.z)(ue=>null===ue?(0,X.of)(void 0):(L._loadedRoutes=ue.routes,L._loadedInjector=ue.injector,this.processRoutes(ue.injector??T,ue.routes))));if(L.loadComponent&&!L._loadedComponent){const ue=this.loader.loadComponent(L);return(0,D.D)([ee,ue]).pipe((0,st.J)())}return ee})}}return A.\u0275fac=function(T){return new(T||A)(w.LFG(oi),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(ln),w.LFG(ul))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const it=new w.OlP("");let gt=(()=>{class A{constructor(T,L,$={}){this.router=T,this.viewportScroller=L,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Rr&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Yo&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,L){this.router.triggerEvent(new Yo(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(T){w.$Z()},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})();function So(A,N){return{\u0275kind:A,\u0275providers:N}}function ra(A){return[{provide:To,multi:!0,useValue:A}]}function Kl(){const A=(0,w.f3M)(w.zs3);return N=>{const T=A.get(w.z2F);if(N!==T.components[0])return;const L=A.get(oi),$=A.get(Yr);1===A.get(zu)&&L.initialNavigation(),A.get(Kn,null,w.XFs.Optional)?.setUpPreloading(),A.get(it,null,w.XFs.Optional)?.init(),L.resetRootComponentType(T.componentTypes[0]),$.closed||($.next(),$.unsubscribe())}}const Yr=new w.OlP("",{factory:()=>new Vt.x}),zu=new w.OlP("",{providedIn:"root",factory:()=>1});const Kn=new w.OlP("");function Zu(A){return So(0,[{provide:Kn,useExisting:sn},{provide:ln,useExisting:A}])}const hl=new w.OlP("ROUTER_FORROOT_GUARD"),Un=[mt.Ye,{provide:or,useClass:Ir},{provide:oi,useFactory:zl},Us,{provide:Ji,useFactory:function Es(A){return A.routerState.root},deps:[oi]},ul];function ai(){return new w.PXZ("Router",oi)}let pi=(()=>{class A{constructor(T){}static forRoot(T,L){return{ngModule:A,providers:[Un,[],ra(T),{provide:hl,useFactory:Hs,deps:[[oi,new w.FiY,new w.tp0]]},{provide:Ki,useValue:L||{}},L?.useHash?{provide:mt.S$,useClass:mt.Do}:{provide:mt.S$,useClass:mt.b0},{provide:it,useFactory:()=>{const A=(0,w.f3M)(oi),N=(0,w.f3M)(mt.EM),T=(0,w.f3M)(Ki);return T.scrollOffset&&N.setOffset(T.scrollOffset),new gt(A,N,T)}},L?.preloadingStrategy?Zu(L.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:ai},L?.initialNavigation?su(L):[],[{provide:Wa,useFactory:Kl},{provide:w.tb,multi:!0,useExisting:Wa}]]}}static forChild(T){return{ngModule:A,providers:[ra(T)]}}}return A.\u0275fac=function(T){return new(T||A)(w.LFG(hl,8))},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({imports:[Fa]}),A})();function Hs(A){return"guarded"}function su(A){return["disabled"===A.initialNavigation?So(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const N=(0,w.f3M)(oi);return()=>{N.setUpLocationChangeListener()}}},{provide:zu,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?So(2,[{provide:zu,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:N=>{const T=N.get(mt.V_,Promise.resolve());let L=!1;return()=>T.then(()=>new Promise(ee=>{const ue=N.get(oi),ve=N.get(Yr);(function $(ee){N.get(oi).events.pipe((0,we.h)(ve=>ve instanceof Rr||ve instanceof ii||ve instanceof Bs),(0,tt.U)(ve=>ve instanceof Rr||ve instanceof ii&&(0===ve.code||1===ve.code)&&null),(0,we.h)(ve=>null!==ve),(0,Ot.q)(1)).subscribe(()=>{ee()})})(()=>{ee(!0),L=!0}),ue.afterPreactivation=()=>(ee(!0),L||ve.closed?(0,X.of)(void 0):ve),ue.initialNavigation()}))}}]).\u0275providers:[]]}const Wa=new w.OlP("")},9681:(Jt,Je,z)=>{z.r(Je),z.d(Je,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>Te,_addComponent:()=>Et,_addOrOverwriteComponent:()=>st,_apps:()=>Ge,_clearComponents:()=>_n,_components:()=>qe,_getProvider:()=>At,_registerComponent:()=>Ut,_removeServiceInstance:()=>Zt,deleteApp:()=>lr,getApp:()=>hr,getApps:()=>vt,initializeApp:()=>zn,onLog:()=>nr,registerVersion:()=>kn,setLogLevel:()=>Br});var w=z(5861),D=z(4859),X=z(1877),Ee=z(2090),Ne=z(8766);class Pe{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function Re(ut){return"VERSION"===ut.getComponent()?.type}(ht)){const jt=ht.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(ht=>ht).join(" ")}}const Fe="@firebase/app",me=new X.Yd("@firebase/app"),Te="[DEFAULT]",Me={[Fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ge=new Map,qe=new Map;function Et(ut,Ie){try{ut.container.addComponent(Ie)}catch(ht){me.debug(`Component ${Ie.name} failed to register with FirebaseApp ${ut.name}`,ht)}}function st(ut,Ie){ut.container.addOrOverwriteComponent(Ie)}function Ut(ut){const Ie=ut.name;if(qe.has(Ie))return me.debug(`There were multiple attempts to register component ${Ie}.`),!1;qe.set(Ie,ut);for(const ht of Ge.values())Et(ht,ut);return!0}function At(ut,Ie){const ht=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),ut.container.getProvider(Ie)}function Zt(ut,Ie,ht=Te){At(ut,Ie).clearInstance(ht)}function _n(){qe.clear()}const zt=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(Ie,ht,jt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new D.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Wn="10.1.0";function zn(ut,Ie={}){let ht=ut;"object"!=typeof Ie&&(Ie={name:Ie});const jt=Object.assign({name:Te,automaticDataCollectionEnabled:!1},Ie),Xt=jt.name;if("string"!=typeof Xt||!Xt)throw zt.create("bad-app-name",{appName:String(Xt)});if(ht||(ht=(0,Ee.aH)()),!ht)throw zt.create("no-options");const en=Ge.get(Xt);if(en){if((0,Ee.vZ)(ht,en.options)&&(0,Ee.vZ)(jt,en.config))return en;throw zt.create("duplicate-app",{appName:Xt})}const rr=new D.H0(Xt);for(const _e of qe.values())rr.addComponent(_e);const ye=new Dn(ht,jt,rr);return Ge.set(Xt,ye),ye}function hr(ut=Te){const Ie=Ge.get(ut);if(!Ie&&ut===Te&&(0,Ee.aH)())return zn();if(!Ie)throw zt.create("no-app",{appName:ut});return Ie}function vt(){return Array.from(Ge.values())}function lr(ut){return wt.apply(this,arguments)}function wt(){return(wt=(0,w.Z)(function*(ut){const Ie=ut.name;Ge.has(Ie)&&(Ge.delete(Ie),yield Promise.all(ut.container.getProviders().map(ht=>ht.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function kn(ut,Ie,ht){var jt;let Xt=null!==(jt=Me[ut])&&void 0!==jt?jt:ut;ht&&(Xt+=`-${ht}`);const en=Xt.match(/\s|\//),rr=Ie.match(/\s|\//);if(en||rr){const ye=[`Unable to register library "${Xt}" with version "${Ie}":`];return en&&ye.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),en&&rr&&ye.push("and"),rr&&ye.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void me.warn(ye.join(" "))}Ut(new D.wA(`${Xt}-version`,()=>({library:Xt,version:Ie}),"VERSION"))}function nr(ut,Ie){if(null!==ut&&"function"!=typeof ut)throw zt.create("invalid-log-argument");(0,X.Am)(ut,Ie)}function Br(ut){(0,X.Ub)(ut)}const fr="firebase-heartbeat-store";let vr=null;function Fn(){return vr||(vr=(0,Ne.X3)("firebase-heartbeat-database",1,{upgrade:(ut,Ie)=>{0===Ie&&ut.createObjectStore(fr)}}).catch(ut=>{throw zt.create("idb-open",{originalErrorMessage:ut.message})})),vr}function hn(){return(hn=(0,w.Z)(function*(ut){try{return yield(yield Fn()).transaction(fr).objectStore(fr).get(Vn(ut))}catch(Ie){if(Ie instanceof Ee.ZR)me.warn(Ie.message);else{const ht=zt.create("idb-get",{originalErrorMessage:Ie?.message});me.warn(ht.message)}}})).apply(this,arguments)}function cn(ut,Ie){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,w.Z)(function*(ut,Ie){try{const jt=(yield Fn()).transaction(fr,"readwrite");yield jt.objectStore(fr).put(Ie,Vn(ut)),yield jt.done}catch(ht){if(ht instanceof Ee.ZR)me.warn(ht.message);else{const jt=zt.create("idb-set",{originalErrorMessage:ht?.message});me.warn(jt.message)}}})).apply(this,arguments)}function Vn(ut){return`${ut.name}!${ut.options.appId}`}class xr{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new or(ht),this._heartbeatsCachePromise=this._storage.read().then(jt=>(this._heartbeatsCache=jt,jt))}triggerHeartbeat(){var Ie=this;return(0,w.Z)(function*(){const jt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=On();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Xt&&!Ie._heartbeatsCache.heartbeats.some(en=>en.date===Xt))return Ie._heartbeatsCache.heartbeats.push({date:Xt,agent:jt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(en=>{const rr=new Date(en.date).valueOf();return Date.now()-rr<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,w.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const ht=On(),{heartbeatsToSend:jt,unsentEntries:Xt}=function Li(ut,Ie=1024){const ht=[];let jt=ut.slice();for(const Xt of ut){const en=ht.find(rr=>rr.agent===Xt.agent);if(en){if(en.dates.push(Xt.date),Ir(ht)>Ie){en.dates.pop();break}}else if(ht.push({agent:Xt.agent,dates:[Xt.date]}),Ir(ht)>Ie){ht.pop();break}jt=jt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:jt}}(Ie._heartbeatsCache.heartbeats),en=(0,Ee.L)(JSON.stringify({version:2,heartbeats:jt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=ht,Xt.length>0?(Ie._heartbeatsCache.heartbeats=Xt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),en})()}}function On(){return(new Date).toISOString().substring(0,10)}class or{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,w.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function mn(ut){return hn.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var ht=this;return(0,w.Z)(function*(){var jt;if(yield ht._canUseIndexedDBPromise){const en=yield ht.read();return cn(ht.app,{lastSentHeartbeatDate:null!==(jt=Ie.lastSentHeartbeatDate)&&void 0!==jt?jt:en.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var ht=this;return(0,w.Z)(function*(){var jt;if(yield ht._canUseIndexedDBPromise){const en=yield ht.read();return cn(ht.app,{lastSentHeartbeatDate:null!==(jt=Ie.lastSentHeartbeatDate)&&void 0!==jt?jt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...Ie.heartbeats]})}})()}}function Ir(ut){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function ri(ut){Ut(new D.wA("platform-logger",Ie=>new Pe(Ie),"PRIVATE")),Ut(new D.wA("heartbeat",Ie=>new xr(Ie),"PRIVATE")),kn(Fe,"0.9.15",ut),kn(Fe,"0.9.15","esm2017"),kn("fire-js","")}("")},4859:(Jt,Je,z)=>{z.d(Je,{H0:()=>Fe,wA:()=>X,zt:()=>Ne});var w=z(5861),D=z(2090);class X{constructor(me,pe,Se){this.name=me,this.instanceFactory=pe,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const Ee="[DEFAULT]";class Ne{constructor(me,pe){this.name=me,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const pe=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(pe)){const Se=new D.BH;if(this.instancesDeferred.set(pe,Se),this.isInitialized(pe)||this.shouldAutoInitialize())try{const It=this.getOrInitializeService({instanceIdentifier:pe});It&&Se.resolve(It)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(me){var pe;const Se=this.normalizeInstanceIdentifier(me?.identifier),It=null!==(pe=me?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(It)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(ot){if(It)return null;throw ot}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function Re(We){return"EAGER"===We.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[pe,Se]of this.instancesDeferred.entries()){const It=this.normalizeInstanceIdentifier(pe);try{const ot=this.getOrInitializeService({instanceIdentifier:It});Se.resolve(ot)}catch{}}}}clearInstance(me=Ee){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,w.Z)(function*(){const pe=Array.from(me.instances.values());yield Promise.all([...pe.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...pe.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=Ee){return this.instances.has(me)}getOptions(me=Ee){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:pe={}}=me,Se=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const It=this.getOrInitializeService({instanceIdentifier:Se,options:pe});for(const[ot,Ye]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(ot)&&Ye.resolve(It);return It}onInit(me,pe){var Se;const It=this.normalizeInstanceIdentifier(pe),ot=null!==(Se=this.onInitCallbacks.get(It))&&void 0!==Se?Se:new Set;ot.add(me),this.onInitCallbacks.set(It,ot);const Ye=this.instances.get(It);return Ye&&me(Ye,It),()=>{ot.delete(me)}}invokeOnInitCallbacks(me,pe){const Se=this.onInitCallbacks.get(pe);if(Se)for(const It of Se)try{It(me,pe)}catch{}}getOrInitializeService({instanceIdentifier:me,options:pe={}}){let Se=this.instances.get(me);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(We=me,We===Ee?void 0:We),options:pe}),this.instances.set(me,Se),this.instancesOptions.set(me,pe),this.invokeOnInitCallbacks(Se,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,Se)}catch{}var We;return Se||null}normalizeInstanceIdentifier(me=Ee){return this.component?this.component.multipleInstances?me:Ee:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const pe=this.getProvider(me.name);if(pe.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);pe.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const pe=new Ne(me,this);return this.providers.set(me,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,Je,z)=>{z.d(Je,{Am:()=>We,Ub:()=>Fe,Yd:()=>Re,in:()=>D});const w=[];var D=(()=>{return(me=D||(D={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",D;var me})();const X={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Ee=D.INFO,Ne={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},Pe=(me,pe,...Se)=>{if(pe<me.logLevel)return;const It=(new Date).toISOString(),ot=Ne[pe];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[ot](`[${It}]  ${me.name}:`,...Se)};class Re{constructor(pe){this.name=pe,this._logLevel=Ee,this._logHandler=Pe,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in D))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?X[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...pe),this._logHandler(this,D.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...pe),this._logHandler(this,D.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,D.INFO,...pe),this._logHandler(this,D.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,D.WARN,...pe),this._logHandler(this,D.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...pe),this._logHandler(this,D.ERROR,...pe)}}function Fe(me){w.forEach(pe=>{pe.setLogLevel(me)})}function We(me,pe){for(const Se of w){let It=null;pe&&pe.level&&(It=X[pe.level]),Se.userLogHandler=null===me?null:(ot,Ye,...Lt)=>{const lt=Lt.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch{return null}}).filter(Xe=>Xe).join(" ");Ye>=(It??ot.logLevel)&&me({level:D[Ye].toLowerCase(),message:lt,args:Lt,type:ot.name})}}}},8766:(Jt,Je,z)=>{z.d(Je,{X3:()=>Vt});var w=z(5861);let X,Ee;const Re=new WeakMap,Fe=new WeakMap,We=new WeakMap,me=new WeakMap,pe=new WeakMap;let ot={get(we,ct,dt){if(we instanceof IDBTransaction){if("done"===ct)return Fe.get(we);if("objectStoreNames"===ct)return we.objectStoreNames||We.get(we);if("store"===ct)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Xe(we[ct])},set:(we,ct,dt)=>(we[ct]=dt,!0),has:(we,ct)=>we instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in we};function lt(we){return"function"==typeof we?function Lt(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...ct){return we.apply(Be(this),ct),Xe(Re.get(this))}:function(...ct){return Xe(we.apply(Be(this),ct))}:function(ct,...dt){const Tt=we.call(Be(this),ct,...dt);return We.set(Tt,ct.sort?ct.sort():[ct]),Xe(Tt)}}(we):(we instanceof IDBTransaction&&function It(we){if(Fe.has(we))return;const ct=new Promise((dt,Tt)=>{const rn=()=>{we.removeEventListener("complete",Pt),we.removeEventListener("error",Yn),we.removeEventListener("abort",Yn)},Pt=()=>{dt(),rn()},Yn=()=>{Tt(we.error||new DOMException("AbortError","AbortError")),rn()};we.addEventListener("complete",Pt),we.addEventListener("error",Yn),we.addEventListener("abort",Yn)});Fe.set(we,ct)}(we),((we,ct)=>ct.some(dt=>we instanceof dt))(we,function Ne(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,ot):we)}function Xe(we){if(we instanceof IDBRequest)return function Se(we){const ct=new Promise((dt,Tt)=>{const rn=()=>{we.removeEventListener("success",Pt),we.removeEventListener("error",Yn)},Pt=()=>{dt(Xe(we.result)),rn()},Yn=()=>{Tt(we.error),rn()};we.addEventListener("success",Pt),we.addEventListener("error",Yn)});return ct.then(dt=>{dt instanceof IDBCursor&&Re.set(dt,we)}).catch(()=>{}),pe.set(ct,we),ct}(we);if(me.has(we))return me.get(we);const ct=lt(we);return ct!==we&&(me.set(we,ct),pe.set(ct,we)),ct}const Be=we=>pe.get(we);function Vt(we,ct,{blocked:dt,upgrade:Tt,blocking:rn,terminated:Pt}={}){const Yn=indexedDB.open(we,ct),fi=Xe(Yn);return Tt&&Yn.addEventListener("upgradeneeded",un=>{Tt(Xe(Yn.result),un.oldVersion,un.newVersion,Xe(Yn.transaction),un)}),dt&&Yn.addEventListener("blocked",un=>dt(un.oldVersion,un.newVersion,un)),fi.then(un=>{Pt&&un.addEventListener("close",()=>Pt()),rn&&un.addEventListener("versionchange",Hn=>rn(Hn.oldVersion,Hn.newVersion,Hn))}).catch(()=>{}),fi}const tt=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Ot=new Map;function Dt(we,ct){if(!(we instanceof IDBDatabase)||ct in we||"string"!=typeof ct)return;if(Ot.get(ct))return Ot.get(ct);const dt=ct.replace(/FromIndex$/,""),Tt=ct!==dt,rn=ze.includes(dt);if(!(dt in(Tt?IDBIndex:IDBObjectStore).prototype)||!rn&&!tt.includes(dt))return;const Pt=function(){var Yn=(0,w.Z)(function*(fi,...un){const Hn=this.transaction(fi,rn?"readwrite":"readonly");let Te=Hn.store;return Tt&&(Te=Te.index(un.shift())),(yield Promise.all([Te[dt](...un),rn&&Hn.done]))[0]});return function(un){return Yn.apply(this,arguments)}}();return Ot.set(ct,Pt),Pt}!function Ye(we){ot=we(ot)}(we=>({...we,get:(ct,dt,Tt)=>Dt(ct,dt)||we.get(ct,dt,Tt),has:(ct,dt)=>!!Dt(ct,dt)||we.has(ct,dt)}))},5861:(Jt,Je,z)=>{function w(X,Ee,Ne,Pe,Re,Fe,We){try{var me=X[Fe](We),pe=me.value}catch(Se){return void Ne(Se)}me.done?Ee(pe):Promise.resolve(pe).then(Pe,Re)}function D(X){return function(){var Ee=this,Ne=arguments;return new Promise(function(Pe,Re){var Fe=X.apply(Ee,Ne);function We(pe){w(Fe,Pe,Re,We,me,"next",pe)}function me(pe){w(Fe,Pe,Re,We,me,"throw",pe)}We(void 0)})}}z.d(Je,{Z:()=>D})},7582:(Jt,Je,z)=>{function Se(Te,Me,Ge,qe){return new(Ge||(Ge=Promise))(function(st,Ut){function At(pn){try{_n(qe.next(pn))}catch(zt){Ut(zt)}}function Zt(pn){try{_n(qe.throw(pn))}catch(zt){Ut(zt)}}function _n(pn){pn.done?st(pn.value):function Et(st){return st instanceof Ge?st:new Ge(function(Ut){Ut(st)})}(pn.value).then(At,Zt)}_n((qe=qe.apply(Te,Me||[])).next())})}function mt(Te){return this instanceof mt?(this.v=Te,this):new mt(Te)}function tt(Te,Me,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,qe=Ge.apply(Te,Me||[]),st=[];return Et={},Ut("next"),Ut("throw"),Ut("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function Ut(Dn){qe[Dn]&&(Et[Dn]=function(Wn){return new Promise(function(zn,hr){st.push([Dn,Wn,zn,hr])>1||At(Dn,Wn)})})}function At(Dn,Wn){try{!function Zt(Dn){Dn.value instanceof mt?Promise.resolve(Dn.value.v).then(_n,pn):zt(st[0][2],Dn)}(qe[Dn](Wn))}catch(zn){zt(st[0][3],zn)}}function _n(Dn){At("next",Dn)}function pn(Dn){At("throw",Dn)}function zt(Dn,Wn){Dn(Wn),st.shift(),st.length&&At(st[0][0],st[0][1])}}function Ot(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Me=Te[Symbol.asyncIterator];return Me?Me.call(Te):(Te=function Lt(Te){var Me="function"==typeof Symbol&&Symbol.iterator,Ge=Me&&Te[Me],qe=0;if(Ge)return Ge.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&qe>=Te.length&&(Te=void 0),{value:Te&&Te[qe++],done:!Te}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),Ge={},qe("next"),qe("throw"),qe("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function qe(st){Ge[st]=Te[st]&&function(Ut){return new Promise(function(At,Zt){!function Et(st,Ut,At,Zt){Promise.resolve(Zt).then(function(_n){st({value:_n,done:At})},Ut)}(At,Zt,(Ut=Te[st](Ut)).done,Ut.value)})}}}z.d(Je,{FC:()=>tt,KL:()=>Ot,mG:()=>Se,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=8733)}]);